function Kf(e,t){const n=Object.create(null),a=e.split(",");for(let o=0;o<a.length;o++)n[a[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const qh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qh=Kf(qh);function Uu(e){return!!e||e===""}function qf(e){if(et(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],o=Wt(a)?em(a):qf(a);if(o)for(const u in o)t[u]=o[u]}return t}else{if(Wt(e))return e;if(Vt(e))return e}}const Zh=/;(?![^(]*\))/g,Jh=/:(.+)/;function em(e){const t={};return e.split(Zh).forEach(n=>{if(n){const a=n.split(Jh);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Qf(e){let t="";if(Wt(e))t=e;else if(et(e))for(let n=0;n<e.length;n++){const a=Qf(e[n]);a&&(t+=a+" ")}else if(Vt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const gv=e=>e==null?"":et(e)||Vt(e)&&(e.toString===Vu||!rt(e.toString))?JSON.stringify(e,ju,2):String(e),ju=(e,t)=>t&&t.__v_isRef?ju(e,t.value):zn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[a,o])=>(n[`${a} =>`]=o,n),{})}:Hu(t)?{[`Set(${t.size})`]:[...t.values()]}:Vt(t)&&!et(t)&&!Xu(t)?String(t):t,Et={},Xn=[],gr=()=>{},tm=()=>!1,rm=/^on[^a-z]/,xi=e=>rm.test(e),Zf=e=>e.startsWith("onUpdate:"),Qt=Object.assign,Jf=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},nm=Object.prototype.hasOwnProperty,ut=(e,t)=>nm.call(e,t),et=Array.isArray,zn=e=>Ti(e)==="[object Map]",Hu=e=>Ti(e)==="[object Set]",rt=e=>typeof e=="function",Wt=e=>typeof e=="string",eo=e=>typeof e=="symbol",Vt=e=>e!==null&&typeof e=="object",$u=e=>Vt(e)&&rt(e.then)&&rt(e.catch),Vu=Object.prototype.toString,Ti=e=>Vu.call(e),am=e=>Ti(e).slice(8,-1),Xu=e=>Ti(e)==="[object Object]",to=e=>Wt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,di=Kf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ai=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},im=/-(\w)/g,Fr=Ai(e=>e.replace(im,(t,n)=>n?n.toUpperCase():"")),fm=/\B([A-Z])/g,qn=Ai(e=>e.replace(fm,"-$1").toLowerCase()),Si=Ai(e=>e.charAt(0).toUpperCase()+e.slice(1)),Cf=Ai(e=>e?`on${Si(e)}`:""),xa=(e,t)=>!Object.is(e,t),Lf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},mi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},om=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let mu;const sm=()=>mu||(mu=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let yn;const fi=[];class um{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&yn&&(this.parent=yn,this.index=(yn.scopes||(yn.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(fi.push(this),yn=this)}off(){this.active&&(fi.pop(),yn=fi[fi.length-1])}stop(t){if(this.active){if(this.effects.forEach(n=>n.stop()),this.cleanups.forEach(n=>n()),this.scopes&&this.scopes.forEach(n=>n.stop(!0)),this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function lm(e,t){t=t||yn,t&&t.active&&t.effects.push(e)}const ro=e=>{const t=new Set(e);return t.w=0,t.n=0,t},zu=e=>(e.w&Jr)>0,Wu=e=>(e.n&Jr)>0,cm=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Jr},dm=e=>{const{deps:t}=e;if(t.length){let n=0;for(let a=0;a<t.length;a++){const o=t[a];zu(o)&&!Wu(o)?o.delete(e):t[n++]=o,o.w&=~Jr,o.n&=~Jr}t.length=n}},Gf=new WeakMap;let ba=0,Jr=1;const Pf=30,pa=[];let En;const xn=Symbol(""),Bf=Symbol("");class no{constructor(t,n=null,a){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],lm(this,a)}run(){if(!this.active)return this.fn();if(!pa.includes(this))try{return pa.push(En=this),hm(),Jr=1<<++ba,ba<=Pf?cm(this):pu(this),this.fn()}finally{ba<=Pf&&dm(this),Jr=1<<--ba,Sn(),pa.pop();const t=pa.length;En=t>0?pa[t-1]:void 0}}stop(){this.active&&(pu(this),this.onStop&&this.onStop(),this.active=!1)}}function pu(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Yn=!0;const ao=[];function Qn(){ao.push(Yn),Yn=!1}function hm(){ao.push(Yn),Yn=!0}function Sn(){const e=ao.pop();Yn=e===void 0?!0:e}function ur(e,t,n){if(!Yu())return;let a=Gf.get(e);a||Gf.set(e,a=new Map);let o=a.get(n);o||a.set(n,o=ro()),Ku(o)}function Yu(){return Yn&&En!==void 0}function Ku(e,t){let n=!1;ba<=Pf?Wu(e)||(e.n|=Jr,n=!zu(e)):n=!e.has(En),n&&(e.add(En),En.deps.push(e))}function Pr(e,t,n,a,o,u){const v=Gf.get(e);if(!v)return;let _=[];if(t==="clear")_=[...v.values()];else if(n==="length"&&et(e))v.forEach((R,K)=>{(K==="length"||K>=a)&&_.push(R)});else switch(n!==void 0&&_.push(v.get(n)),t){case"add":et(e)?to(n)&&_.push(v.get("length")):(_.push(v.get(xn)),zn(e)&&_.push(v.get(Bf)));break;case"delete":et(e)||(_.push(v.get(xn)),zn(e)&&_.push(v.get(Bf)));break;case"set":zn(e)&&_.push(v.get(xn));break}if(_.length===1)_[0]&&Mf(_[0]);else{const R=[];for(const K of _)K&&R.push(...K);Mf(ro(R))}}function Mf(e,t){for(const n of et(e)?e:[...e])(n!==En||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const mm=Kf("__proto__,__v_isRef,__isVue"),qu=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(eo)),pm=io(),vm=io(!1,!0),bm=io(!0),vu=_m();function _m(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const a=vt(this);for(let u=0,v=this.length;u<v;u++)ur(a,"get",u+"");const o=a[t](...n);return o===-1||o===!1?a[t](...n.map(vt)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Qn();const a=vt(this)[t].apply(this,n);return Sn(),a}}),e}function io(e=!1,t=!1){return function(a,o,u){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_raw"&&u===(e?t?Im:tl:t?el:Ju).get(a))return a;const v=et(a);if(!e&&v&&ut(vu,o))return Reflect.get(vu,o,u);const _=Reflect.get(a,o,u);return(eo(o)?qu.has(o):mm(o))||(e||ur(a,"get",o),t)?_:qt(_)?!v||!to(o)?_.value:_:Vt(_)?e?rl(_):so(_):_}}const ym=Qu(),gm=Qu(!0);function Qu(e=!1){return function(n,a,o,u){let v=n[a];if(!e&&!lo(o)&&(o=vt(o),v=vt(v),!et(n)&&qt(v)&&!qt(o)))return v.value=o,!0;const _=et(n)&&to(a)?Number(a)<n.length:ut(n,a),R=Reflect.set(n,a,o,u);return n===vt(u)&&(_?xa(o,v)&&Pr(n,"set",a,o):Pr(n,"add",a,o)),R}}function Em(e,t){const n=ut(e,t);e[t];const a=Reflect.deleteProperty(e,t);return a&&n&&Pr(e,"delete",t,void 0),a}function xm(e,t){const n=Reflect.has(e,t);return(!eo(t)||!qu.has(t))&&ur(e,"has",t),n}function Tm(e){return ur(e,"iterate",et(e)?"length":xn),Reflect.ownKeys(e)}const Zu={get:pm,set:ym,deleteProperty:Em,has:xm,ownKeys:Tm},Am={get:bm,set(e,t){return!0},deleteProperty(e,t){return!0}},Sm=Qt({},Zu,{get:vm,set:gm}),fo=e=>e,wi=e=>Reflect.getPrototypeOf(e);function oi(e,t,n=!1,a=!1){e=e.__v_raw;const o=vt(e),u=vt(t);t!==u&&!n&&ur(o,"get",t),!n&&ur(o,"get",u);const{has:v}=wi(o),_=a?fo:n?co:Ta;if(v.call(o,t))return _(e.get(t));if(v.call(o,u))return _(e.get(u));e!==o&&e.get(t)}function si(e,t=!1){const n=this.__v_raw,a=vt(n),o=vt(e);return e!==o&&!t&&ur(a,"has",e),!t&&ur(a,"has",o),e===o?n.has(e):n.has(e)||n.has(o)}function ui(e,t=!1){return e=e.__v_raw,!t&&ur(vt(e),"iterate",xn),Reflect.get(e,"size",e)}function bu(e){e=vt(e);const t=vt(this);return wi(t).has.call(t,e)||(t.add(e),Pr(t,"add",e,e)),this}function _u(e,t){t=vt(t);const n=vt(this),{has:a,get:o}=wi(n);let u=a.call(n,e);u||(e=vt(e),u=a.call(n,e));const v=o.call(n,e);return n.set(e,t),u?xa(t,v)&&Pr(n,"set",e,t):Pr(n,"add",e,t),this}function yu(e){const t=vt(this),{has:n,get:a}=wi(t);let o=n.call(t,e);o||(e=vt(e),o=n.call(t,e)),a&&a.call(t,e);const u=t.delete(e);return o&&Pr(t,"delete",e,void 0),u}function gu(){const e=vt(this),t=e.size!==0,n=e.clear();return t&&Pr(e,"clear",void 0,void 0),n}function li(e,t){return function(a,o){const u=this,v=u.__v_raw,_=vt(v),R=t?fo:e?co:Ta;return!e&&ur(_,"iterate",xn),v.forEach((K,ae)=>a.call(o,R(K),R(ae),u))}}function ci(e,t,n){return function(...a){const o=this.__v_raw,u=vt(o),v=zn(u),_=e==="entries"||e===Symbol.iterator&&v,R=e==="keys"&&v,K=o[e](...a),ae=n?fo:t?co:Ta;return!t&&ur(u,"iterate",R?Bf:xn),{next(){const{value:Te,done:we}=K.next();return we?{value:Te,done:we}:{value:_?[ae(Te[0]),ae(Te[1])]:ae(Te),done:we}},[Symbol.iterator](){return this}}}}function Kr(e){return function(...t){return e==="delete"?!1:this}}function wm(){const e={get(u){return oi(this,u)},get size(){return ui(this)},has:si,add:bu,set:_u,delete:yu,clear:gu,forEach:li(!1,!1)},t={get(u){return oi(this,u,!1,!0)},get size(){return ui(this)},has:si,add:bu,set:_u,delete:yu,clear:gu,forEach:li(!1,!0)},n={get(u){return oi(this,u,!0)},get size(){return ui(this,!0)},has(u){return si.call(this,u,!0)},add:Kr("add"),set:Kr("set"),delete:Kr("delete"),clear:Kr("clear"),forEach:li(!0,!1)},a={get(u){return oi(this,u,!0,!0)},get size(){return ui(this,!0)},has(u){return si.call(this,u,!0)},add:Kr("add"),set:Kr("set"),delete:Kr("delete"),clear:Kr("clear"),forEach:li(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=ci(u,!1,!1),n[u]=ci(u,!0,!1),t[u]=ci(u,!1,!0),a[u]=ci(u,!0,!0)}),[e,n,t,a]}const[Om,Cm,Lm,Rm]=wm();function oo(e,t){const n=t?e?Rm:Lm:e?Cm:Om;return(a,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?a:Reflect.get(ut(n,o)&&o in a?n:a,o,u)}const Fm={get:oo(!1,!1)},Nm={get:oo(!1,!0)},Dm={get:oo(!0,!1)},Ju=new WeakMap,el=new WeakMap,tl=new WeakMap,Im=new WeakMap;function Gm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pm(e){return e.__v_skip||!Object.isExtensible(e)?0:Gm(am(e))}function so(e){return e&&e.__v_isReadonly?e:uo(e,!1,Zu,Fm,Ju)}function Bm(e){return uo(e,!1,Sm,Nm,el)}function rl(e){return uo(e,!0,Am,Dm,tl)}function uo(e,t,n,a,o){if(!Vt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=o.get(e);if(u)return u;const v=Pm(e);if(v===0)return e;const _=new Proxy(e,v===2?a:n);return o.set(e,_),_}function Wn(e){return lo(e)?Wn(e.__v_raw):!!(e&&e.__v_isReactive)}function lo(e){return!!(e&&e.__v_isReadonly)}function nl(e){return Wn(e)||lo(e)}function vt(e){const t=e&&e.__v_raw;return t?vt(t):e}function al(e){return mi(e,"__v_skip",!0),e}const Ta=e=>Vt(e)?so(e):e,co=e=>Vt(e)?rl(e):e;function il(e){Yu()&&(e=vt(e),e.dep||(e.dep=ro()),Ku(e.dep))}function fl(e,t){e=vt(e),e.dep&&Mf(e.dep)}function qt(e){return Boolean(e&&e.__v_isRef===!0)}function Ev(e){return Mm(e,!1)}function Mm(e,t){return qt(e)?e:new km(e,t)}class km{constructor(t,n){this._shallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:vt(t),this._value=n?t:Ta(t)}get value(){return il(this),this._value}set value(t){t=this._shallow?t:vt(t),xa(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Ta(t),fl(this))}}function Um(e){return qt(e)?e.value:e}const jm={get:(e,t,n)=>Um(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const o=e[t];return qt(o)&&!qt(n)?(o.value=n,!0):Reflect.set(e,t,n,a)}};function ol(e){return Wn(e)?e:new Proxy(e,jm)}class Hm{constructor(t,n,a){this._setter=n,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new no(t,()=>{this._dirty||(this._dirty=!0,fl(this))}),this.__v_isReadonly=a}get value(){const t=vt(this);return il(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function $m(e,t){let n,a;const o=rt(e);return o?(n=e,a=gr):(n=e.get,a=e.set),new Hm(n,a,o||!a)}Promise.resolve();function Vm(e,t,...n){const a=e.vnode.props||Et;let o=n;const u=t.startsWith("update:"),v=u&&t.slice(7);if(v&&v in a){const ae=`${v==="modelValue"?"model":v}Modifiers`,{number:Te,trim:we}=a[ae]||Et;we?o=n.map(Ue=>Ue.trim()):Te&&(o=n.map(om))}let _,R=a[_=Cf(t)]||a[_=Cf(Fr(t))];!R&&u&&(R=a[_=Cf(qn(t))]),R&&Er(R,e,6,o);const K=a[_+"Once"];if(K){if(!e.emitted)e.emitted={};else if(e.emitted[_])return;e.emitted[_]=!0,Er(K,e,6,o)}}function sl(e,t,n=!1){const a=t.emitsCache,o=a.get(e);if(o!==void 0)return o;const u=e.emits;let v={},_=!1;if(!rt(e)){const R=K=>{const ae=sl(K,t,!0);ae&&(_=!0,Qt(v,ae))};!n&&t.mixins.length&&t.mixins.forEach(R),e.extends&&R(e.extends),e.mixins&&e.mixins.forEach(R)}return!u&&!_?(a.set(e,null),null):(et(u)?u.forEach(R=>v[R]=null):Qt(v,u),a.set(e,v),v)}function ho(e,t){return!e||!xi(t)?!1:(t=t.slice(2).replace(/Once$/,""),ut(e,t[0].toLowerCase()+t.slice(1))||ut(e,qn(t))||ut(e,t))}let yr=null,Oi=null;function pi(e){const t=yr;return yr=e,Oi=e&&e.type.__scopeId||null,t}function xv(e){Oi=e}function Tv(){Oi=null}function Xm(e,t=yr,n){if(!t||e._n)return e;const a=(...o)=>{a._d&&Lu(-1);const u=pi(t),v=e(...o);return pi(u),a._d&&Lu(1),v};return a._n=!0,a._c=!0,a._d=!0,a}function Rf(e){const{type:t,vnode:n,proxy:a,withProxy:o,props:u,propsOptions:[v],slots:_,attrs:R,emit:K,render:ae,renderCache:Te,data:we,setupState:Ue,ctx:qe,inheritAttrs:lt}=e;let Qe,tt;const xt=pi(e);try{if(n.shapeFlag&4){const ht=o||a;Qe=Lr(ae.call(ht,ht,Te,u,Ue,we,qe)),tt=R}else{const ht=t;Qe=Lr(ht.length>1?ht(u,{attrs:R,slots:_,emit:K}):ht(u,null)),tt=t.props?R:zm(R)}}catch(ht){ya.length=0,Ri(ht,e,1),Qe=Rr(en)}let dt=Qe;if(tt&&lt!==!1){const ht=Object.keys(tt),{shapeFlag:Dt}=dt;ht.length&&Dt&7&&(v&&ht.some(Zf)&&(tt=Wm(tt,v)),dt=Aa(dt,tt))}return n.dirs&&(dt.dirs=dt.dirs?dt.dirs.concat(n.dirs):n.dirs),n.transition&&(dt.transition=n.transition),Qe=dt,pi(xt),Qe}const zm=e=>{let t;for(const n in e)(n==="class"||n==="style"||xi(n))&&((t||(t={}))[n]=e[n]);return t},Wm=(e,t)=>{const n={};for(const a in e)(!Zf(a)||!(a.slice(9)in t))&&(n[a]=e[a]);return n};function Ym(e,t,n){const{props:a,children:o,component:u}=e,{props:v,children:_,patchFlag:R}=t,K=u.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&R>=0){if(R&1024)return!0;if(R&16)return a?Eu(a,v,K):!!v;if(R&8){const ae=t.dynamicProps;for(let Te=0;Te<ae.length;Te++){const we=ae[Te];if(v[we]!==a[we]&&!ho(K,we))return!0}}}else return(o||_)&&(!_||!_.$stable)?!0:a===v?!1:a?v?Eu(a,v,K):!0:!!v;return!1}function Eu(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let o=0;o<a.length;o++){const u=a[o];if(t[u]!==e[u]&&!ho(n,u))return!0}return!1}function Km({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const qm=e=>e.__isSuspense;function Qm(e,t){t&&t.pendingBranch?et(e)?t.effects.push(...e):t.effects.push(e):Kp(e)}function Zm(e,t){if($t){let n=$t.provides;const a=$t.parent&&$t.parent.provides;a===n&&(n=$t.provides=Object.create(a)),n[e]=t}}function Ff(e,t,n=!1){const a=$t||yr;if(a){const o=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&rt(t)?t.call(a.proxy):t}}function Av(e){return rt(e)?{setup:e,name:e.name}:e}const kf=e=>!!e.type.__asyncLoader,ul=e=>e.type.__isKeepAlive;function Jm(e,t){ll(e,"a",t)}function ep(e,t){ll(e,"da",t)}function ll(e,t,n=$t){const a=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ci(t,a,n),n){let o=n.parent;for(;o&&o.parent;)ul(o.parent.vnode)&&tp(a,t,n,o),o=o.parent}}function tp(e,t,n,a){const o=Ci(t,e,a,!0);cl(()=>{Jf(a[t],o)},n)}function Ci(e,t,n=$t,a=!1){if(n){const o=n[e]||(n[e]=[]),u=t.__weh||(t.__weh=(...v)=>{if(n.isUnmounted)return;Qn(),Kn(n);const _=Er(t,n,e,v);return An(),Sn(),_});return a?o.unshift(u):o.push(u),u}}const Br=e=>(t,n=$t)=>(!yi||e==="sp")&&Ci(e,t,n),rp=Br("bm"),np=Br("m"),ap=Br("bu"),ip=Br("u"),fp=Br("bum"),cl=Br("um"),op=Br("sp"),sp=Br("rtg"),up=Br("rtc");function lp(e,t=$t){Ci("ec",e,t)}let Uf=!0;function cp(e){const t=hl(e),n=e.proxy,a=e.ctx;Uf=!1,t.beforeCreate&&xu(t.beforeCreate,e,"bc");const{data:o,computed:u,methods:v,watch:_,provide:R,inject:K,created:ae,beforeMount:Te,mounted:we,beforeUpdate:Ue,updated:qe,activated:lt,deactivated:Qe,beforeDestroy:tt,beforeUnmount:xt,destroyed:dt,unmounted:ht,render:Dt,renderTracked:rr,renderTriggered:Yt,errorCaptured:nr,serverPrefetch:jt,expose:dr,inheritAttrs:xr,components:st,directives:Mr,filters:Ke}=t;if(K&&dp(K,a,null,e.appContext.config.unwrapInjectedRef),v)for(const Re in v){const at=v[Re];rt(at)&&(a[Re]=at.bind(n))}if(o){const Re=o.call(n,n);Vt(Re)&&(e.data=so(Re))}if(Uf=!0,u)for(const Re in u){const at=u[Re],H=rt(at)?at.bind(n,n):rt(at.get)?at.get.bind(n,n):gr,hr=!rt(at)&&rt(at.set)?at.set.bind(n):gr,Fe=$m({get:H,set:hr});Object.defineProperty(a,Re,{enumerable:!0,configurable:!0,get:()=>Fe.value,set:it=>Fe.value=it})}if(_)for(const Re in _)dl(_[Re],a,n,Re);if(R){const Re=rt(R)?R.call(n):R;Reflect.ownKeys(Re).forEach(at=>{Zm(at,Re[at])})}ae&&xu(ae,e,"c");function We(Re,at){et(at)?at.forEach(H=>Re(H.bind(n))):at&&Re(at.bind(n))}if(We(rp,Te),We(np,we),We(ap,Ue),We(ip,qe),We(Jm,lt),We(ep,Qe),We(lp,nr),We(up,rr),We(sp,Yt),We(fp,xt),We(cl,ht),We(op,jt),et(dr))if(dr.length){const Re=e.exposed||(e.exposed={});dr.forEach(at=>{Object.defineProperty(Re,at,{get:()=>n[at],set:H=>n[at]=H})})}else e.exposed||(e.exposed={});Dt&&e.render===gr&&(e.render=Dt),xr!=null&&(e.inheritAttrs=xr),st&&(e.components=st),Mr&&(e.directives=Mr)}function dp(e,t,n=gr,a=!1){et(e)&&(e=jf(e));for(const o in e){const u=e[o];let v;Vt(u)?"default"in u?v=Ff(u.from||o,u.default,!0):v=Ff(u.from||o):v=Ff(u),qt(v)&&a?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>v.value,set:_=>v.value=_}):t[o]=v}}function xu(e,t,n){Er(et(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,n)}function dl(e,t,n,a){const o=a.includes(".")?Ml(n,a):()=>n[a];if(Wt(e)){const u=t[e];rt(u)&&Df(o,u)}else if(rt(e))Df(o,e.bind(n));else if(Vt(e))if(et(e))e.forEach(u=>dl(u,t,n,a));else{const u=rt(e.handler)?e.handler.bind(n):t[e.handler];rt(u)&&Df(o,u,e)}}function hl(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:o,optionsCache:u,config:{optionMergeStrategies:v}}=e.appContext,_=u.get(t);let R;return _?R=_:!o.length&&!n&&!a?R=t:(R={},o.length&&o.forEach(K=>vi(R,K,v,!0)),vi(R,t,v)),u.set(t,R),R}function vi(e,t,n,a=!1){const{mixins:o,extends:u}=t;u&&vi(e,u,n,!0),o&&o.forEach(v=>vi(e,v,n,!0));for(const v in t)if(!(a&&v==="expose")){const _=hp[v]||n&&n[v];e[v]=_?_(e[v],t[v]):t[v]}return e}const hp={data:Tu,props:gn,emits:gn,methods:gn,computed:gn,beforeCreate:Kt,created:Kt,beforeMount:Kt,mounted:Kt,beforeUpdate:Kt,updated:Kt,beforeDestroy:Kt,beforeUnmount:Kt,destroyed:Kt,unmounted:Kt,activated:Kt,deactivated:Kt,errorCaptured:Kt,serverPrefetch:Kt,components:gn,directives:gn,watch:pp,provide:Tu,inject:mp};function Tu(e,t){return t?e?function(){return Qt(rt(e)?e.call(this,this):e,rt(t)?t.call(this,this):t)}:t:e}function mp(e,t){return gn(jf(e),jf(t))}function jf(e){if(et(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Kt(e,t){return e?[...new Set([].concat(e,t))]:t}function gn(e,t){return e?Qt(Qt(Object.create(null),e),t):t}function pp(e,t){if(!e)return t;if(!t)return e;const n=Qt(Object.create(null),e);for(const a in t)n[a]=Kt(e[a],t[a]);return n}function vp(e,t,n,a=!1){const o={},u={};mi(u,Li,1),e.propsDefaults=Object.create(null),ml(e,t,o,u);for(const v in e.propsOptions[0])v in o||(o[v]=void 0);n?e.props=a?o:Bm(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function bp(e,t,n,a){const{props:o,attrs:u,vnode:{patchFlag:v}}=e,_=vt(o),[R]=e.propsOptions;let K=!1;if((a||v>0)&&!(v&16)){if(v&8){const ae=e.vnode.dynamicProps;for(let Te=0;Te<ae.length;Te++){let we=ae[Te];const Ue=t[we];if(R)if(ut(u,we))Ue!==u[we]&&(u[we]=Ue,K=!0);else{const qe=Fr(we);o[qe]=Hf(R,_,qe,Ue,e,!1)}else Ue!==u[we]&&(u[we]=Ue,K=!0)}}}else{ml(e,t,o,u)&&(K=!0);let ae;for(const Te in _)(!t||!ut(t,Te)&&((ae=qn(Te))===Te||!ut(t,ae)))&&(R?n&&(n[Te]!==void 0||n[ae]!==void 0)&&(o[Te]=Hf(R,_,Te,void 0,e,!0)):delete o[Te]);if(u!==_)for(const Te in u)(!t||!ut(t,Te))&&(delete u[Te],K=!0)}K&&Pr(e,"set","$attrs")}function ml(e,t,n,a){const[o,u]=e.propsOptions;let v=!1,_;if(t)for(let R in t){if(di(R))continue;const K=t[R];let ae;o&&ut(o,ae=Fr(R))?!u||!u.includes(ae)?n[ae]=K:(_||(_={}))[ae]=K:ho(e.emitsOptions,R)||(!(R in a)||K!==a[R])&&(a[R]=K,v=!0)}if(u){const R=vt(n),K=_||Et;for(let ae=0;ae<u.length;ae++){const Te=u[ae];n[Te]=Hf(o,R,Te,K[Te],e,!ut(K,Te))}}return v}function Hf(e,t,n,a,o,u){const v=e[n];if(v!=null){const _=ut(v,"default");if(_&&a===void 0){const R=v.default;if(v.type!==Function&&rt(R)){const{propsDefaults:K}=o;n in K?a=K[n]:(Kn(o),a=K[n]=R.call(null,t),An())}else a=R}v[0]&&(u&&!_?a=!1:v[1]&&(a===""||a===qn(n))&&(a=!0))}return a}function pl(e,t,n=!1){const a=t.propsCache,o=a.get(e);if(o)return o;const u=e.props,v={},_=[];let R=!1;if(!rt(e)){const ae=Te=>{R=!0;const[we,Ue]=pl(Te,t,!0);Qt(v,we),Ue&&_.push(...Ue)};!n&&t.mixins.length&&t.mixins.forEach(ae),e.extends&&ae(e.extends),e.mixins&&e.mixins.forEach(ae)}if(!u&&!R)return a.set(e,Xn),Xn;if(et(u))for(let ae=0;ae<u.length;ae++){const Te=Fr(u[ae]);Au(Te)&&(v[Te]=Et)}else if(u)for(const ae in u){const Te=Fr(ae);if(Au(Te)){const we=u[ae],Ue=v[Te]=et(we)||rt(we)?{type:we}:we;if(Ue){const qe=Ou(Boolean,Ue.type),lt=Ou(String,Ue.type);Ue[0]=qe>-1,Ue[1]=lt<0||qe<lt,(qe>-1||ut(Ue,"default"))&&_.push(Te)}}}const K=[v,_];return a.set(e,K),K}function Au(e){return e[0]!=="$"}function Su(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function wu(e,t){return Su(e)===Su(t)}function Ou(e,t){return et(t)?t.findIndex(n=>wu(n,e)):rt(t)&&wu(t,e)?0:-1}const vl=e=>e[0]==="_"||e==="$stable",mo=e=>et(e)?e.map(Lr):[Lr(e)],_p=(e,t,n)=>{const a=Xm((...o)=>mo(t(...o)),n);return a._c=!1,a},bl=(e,t,n)=>{const a=e._ctx;for(const o in e){if(vl(o))continue;const u=e[o];if(rt(u))t[o]=_p(o,u,a);else if(u!=null){const v=mo(u);t[o]=()=>v}}},_l=(e,t)=>{const n=mo(t);e.slots.default=()=>n},yp=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=vt(t),mi(t,"_",n)):bl(t,e.slots={})}else e.slots={},t&&_l(e,t);mi(e.slots,Li,1)},gp=(e,t,n)=>{const{vnode:a,slots:o}=e;let u=!0,v=Et;if(a.shapeFlag&32){const _=t._;_?n&&_===1?u=!1:(Qt(o,t),!n&&_===1&&delete o._):(u=!t.$stable,bl(t,o)),v=t}else t&&(_l(e,t),v={default:1});if(u)for(const _ in o)!vl(_)&&!(_ in v)&&delete o[_]};function bn(e,t,n,a){const o=e.dirs,u=t&&t.dirs;for(let v=0;v<o.length;v++){const _=o[v];u&&(_.oldValue=u[v].value);let R=_.dir[a];R&&(Qn(),Er(R,n,8,[e.el,_,e,t]),Sn())}}function yl(){return{app:null,config:{isNativeTag:tm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ep=0;function xp(e,t){return function(a,o=null){o!=null&&!Vt(o)&&(o=null);const u=yl(),v=new Set;let _=!1;const R=u.app={_uid:Ep++,_component:a,_props:o,_container:null,_context:u,_instance:null,version:Qp,get config(){return u.config},set config(K){},use(K,...ae){return v.has(K)||(K&&rt(K.install)?(v.add(K),K.install(R,...ae)):rt(K)&&(v.add(K),K(R,...ae))),R},mixin(K){return u.mixins.includes(K)||u.mixins.push(K),R},component(K,ae){return ae?(u.components[K]=ae,R):u.components[K]},directive(K,ae){return ae?(u.directives[K]=ae,R):u.directives[K]},mount(K,ae,Te){if(!_){const we=Rr(a,o);return we.appContext=u,ae&&t?t(we,K):e(we,K,Te),_=!0,R._container=K,K.__vue_app__=R,bo(we.component)||we.component.proxy}},unmount(){_&&(e(null,R._container),delete R._container.__vue_app__)},provide(K,ae){return u.provides[K]=ae,R}};return R}}function $f(e,t,n,a,o=!1){if(et(e)){e.forEach((we,Ue)=>$f(we,t&&(et(t)?t[Ue]:t),n,a,o));return}if(kf(a)&&!o)return;const u=a.shapeFlag&4?bo(a.component)||a.component.proxy:a.el,v=o?null:u,{i:_,r:R}=e,K=t&&t.r,ae=_.refs===Et?_.refs={}:_.refs,Te=_.setupState;if(K!=null&&K!==R&&(Wt(K)?(ae[K]=null,ut(Te,K)&&(Te[K]=null)):qt(K)&&(K.value=null)),rt(R))Zr(R,_,12,[v,ae]);else{const we=Wt(R),Ue=qt(R);if(we||Ue){const qe=()=>{if(e.f){const lt=we?ae[R]:R.value;o?et(lt)&&Jf(lt,u):et(lt)?lt.includes(u)||lt.push(u):we?ae[R]=[u]:(R.value=[u],e.k&&(ae[e.k]=R.value))}else we?(ae[R]=v,ut(Te,R)&&(Te[R]=v)):qt(R)&&(R.value=v,e.k&&(ae[e.k]=v))};v?(qe.id=-1,tr(qe,n)):qe()}}}const tr=Qm;function Tp(e){return Ap(e)}function Ap(e,t){const n=sm();n.__VUE__=!0;const{insert:a,remove:o,patchProp:u,createElement:v,createText:_,createComment:R,setText:K,setElementText:ae,parentNode:Te,nextSibling:we,setScopeId:Ue=gr,cloneNode:qe,insertStaticContent:lt}=e,Qe=(E,O,$,ne=null,re=null,fe=null,Se=!1,de=null,_e=!!O.dynamicChildren)=>{if(E===O)return;E&&!va(E,O)&&(ne=Tr(E),_t(E,re,fe,!0),E=null),O.patchFlag===-2&&(_e=!1,O.dynamicChildren=null);const{type:se,ref:i,shapeFlag:Le}=O;switch(se){case po:tt(E,O,$,ne);break;case en:xt(E,O,$,ne);break;case Nf:E==null&&dt(O,$,ne,Se);break;case _r:Mr(E,O,$,ne,re,fe,Se,de,_e);break;default:Le&1?rr(E,O,$,ne,re,fe,Se,de,_e):Le&6?Ke(E,O,$,ne,re,fe,Se,de,_e):(Le&64||Le&128)&&se.process(E,O,$,ne,re,fe,Se,de,_e,mr)}i!=null&&re&&$f(i,E&&E.ref,fe,O||E,!O)},tt=(E,O,$,ne)=>{if(E==null)a(O.el=_(O.children),$,ne);else{const re=O.el=E.el;O.children!==E.children&&K(re,O.children)}},xt=(E,O,$,ne)=>{E==null?a(O.el=R(O.children||""),$,ne):O.el=E.el},dt=(E,O,$,ne)=>{[E.el,E.anchor]=lt(E.children,O,$,ne)},ht=({el:E,anchor:O},$,ne)=>{let re;for(;E&&E!==O;)re=we(E),a(E,$,ne),E=re;a(O,$,ne)},Dt=({el:E,anchor:O})=>{let $;for(;E&&E!==O;)$=we(E),o(E),E=$;o(O)},rr=(E,O,$,ne,re,fe,Se,de,_e)=>{Se=Se||O.type==="svg",E==null?Yt(O,$,ne,re,fe,Se,de,_e):dr(E,O,re,fe,Se,de,_e)},Yt=(E,O,$,ne,re,fe,Se,de)=>{let _e,se;const{type:i,props:Le,shapeFlag:Pe,transition:$e,patchFlag:Ze,dirs:ot}=E;if(E.el&&qe!==void 0&&Ze===-1)_e=E.el=qe(E.el);else{if(_e=E.el=v(E.type,fe,Le&&Le.is,Le),Pe&8?ae(_e,E.children):Pe&16&&jt(E.children,_e,null,ne,re,fe&&i!=="foreignObject",Se,de),ot&&bn(E,null,ne,"created"),Le){for(const ct in Le)ct!=="value"&&!di(ct)&&u(_e,ct,null,Le[ct],fe,E.children,ne,re,Pt);"value"in Le&&u(_e,"value",null,Le.value),(se=Le.onVnodeBeforeMount)&&Cr(se,ne,E)}nr(_e,E,E.scopeId,Se,ne)}ot&&bn(E,null,ne,"beforeMount");const pt=(!re||re&&!re.pendingBranch)&&$e&&!$e.persisted;pt&&$e.beforeEnter(_e),a(_e,O,$),((se=Le&&Le.onVnodeMounted)||pt||ot)&&tr(()=>{se&&Cr(se,ne,E),pt&&$e.enter(_e),ot&&bn(E,null,ne,"mounted")},re)},nr=(E,O,$,ne,re)=>{if($&&Ue(E,$),ne)for(let fe=0;fe<ne.length;fe++)Ue(E,ne[fe]);if(re){let fe=re.subTree;if(O===fe){const Se=re.vnode;nr(E,Se,Se.scopeId,Se.slotScopeIds,re.parent)}}},jt=(E,O,$,ne,re,fe,Se,de,_e=0)=>{for(let se=_e;se<E.length;se++){const i=E[se]=de?Qr(E[se]):Lr(E[se]);Qe(null,i,O,$,ne,re,fe,Se,de)}},dr=(E,O,$,ne,re,fe,Se)=>{const de=O.el=E.el;let{patchFlag:_e,dynamicChildren:se,dirs:i}=O;_e|=E.patchFlag&16;const Le=E.props||Et,Pe=O.props||Et;let $e;$&&_n($,!1),($e=Pe.onVnodeBeforeUpdate)&&Cr($e,$,O,E),i&&bn(O,E,$,"beforeUpdate"),$&&_n($,!0);const Ze=re&&O.type!=="foreignObject";if(se?xr(E.dynamicChildren,se,de,$,ne,Ze,fe):Se||H(E,O,de,null,$,ne,Ze,fe,!1),_e>0){if(_e&16)st(de,O,Le,Pe,$,ne,re);else if(_e&2&&Le.class!==Pe.class&&u(de,"class",null,Pe.class,re),_e&4&&u(de,"style",Le.style,Pe.style,re),_e&8){const ot=O.dynamicProps;for(let pt=0;pt<ot.length;pt++){const ct=ot[pt],Zt=Le[ct],Ur=Pe[ct];(Ur!==Zt||ct==="value")&&u(de,ct,Zt,Ur,re,E.children,$,ne,Pt)}}_e&1&&E.children!==O.children&&ae(de,O.children)}else!Se&&se==null&&st(de,O,Le,Pe,$,ne,re);(($e=Pe.onVnodeUpdated)||i)&&tr(()=>{$e&&Cr($e,$,O,E),i&&bn(O,E,$,"updated")},ne)},xr=(E,O,$,ne,re,fe,Se)=>{for(let de=0;de<O.length;de++){const _e=E[de],se=O[de],i=_e.el&&(_e.type===_r||!va(_e,se)||_e.shapeFlag&70)?Te(_e.el):$;Qe(_e,se,i,null,ne,re,fe,Se,!0)}},st=(E,O,$,ne,re,fe,Se)=>{if($!==ne){for(const de in ne){if(di(de))continue;const _e=ne[de],se=$[de];_e!==se&&de!=="value"&&u(E,de,se,_e,Se,O.children,re,fe,Pt)}if($!==Et)for(const de in $)!di(de)&&!(de in ne)&&u(E,de,$[de],null,Se,O.children,re,fe,Pt);"value"in ne&&u(E,"value",$.value,ne.value)}},Mr=(E,O,$,ne,re,fe,Se,de,_e)=>{const se=O.el=E?E.el:_(""),i=O.anchor=E?E.anchor:_("");let{patchFlag:Le,dynamicChildren:Pe,slotScopeIds:$e}=O;$e&&(de=de?de.concat($e):$e),E==null?(a(se,$,ne),a(i,$,ne),jt(O.children,$,i,re,fe,Se,de,_e)):Le>0&&Le&64&&Pe&&E.dynamicChildren?(xr(E.dynamicChildren,Pe,$,re,fe,Se,de),(O.key!=null||re&&O===re.subTree)&&gl(E,O,!0)):H(E,O,$,i,re,fe,Se,de,_e)},Ke=(E,O,$,ne,re,fe,Se,de,_e)=>{O.slotScopeIds=de,E==null?O.shapeFlag&512?re.ctx.activate(O,$,ne,Se,_e):je(O,$,ne,re,fe,Se,_e):We(E,O,_e)},je=(E,O,$,ne,re,fe,Se)=>{const de=E.component=Bp(E,ne,re);if(ul(E)&&(de.ctx.renderer=mr),Mp(de),de.asyncDep){if(re&&re.registerDep(de,Re),!E.el){const _e=de.subTree=Rr(en);xt(null,_e,O,$)}return}Re(de,E,O,$,re,fe,Se)},We=(E,O,$)=>{const ne=O.component=E.component;if(Ym(E,O,$))if(ne.asyncDep&&!ne.asyncResolved){at(ne,O,$);return}else ne.next=O,Wp(ne.update),ne.update();else O.component=E.component,O.el=E.el,ne.vnode=O},Re=(E,O,$,ne,re,fe,Se)=>{const de=()=>{if(E.isMounted){let{next:i,bu:Le,u:Pe,parent:$e,vnode:Ze}=E,ot=i,pt;_n(E,!1),i?(i.el=Ze.el,at(E,i,Se)):i=Ze,Le&&Lf(Le),(pt=i.props&&i.props.onVnodeBeforeUpdate)&&Cr(pt,$e,i,Ze),_n(E,!0);const ct=Rf(E),Zt=E.subTree;E.subTree=ct,Qe(Zt,ct,Te(Zt.el),Tr(Zt),E,re,fe),i.el=ct.el,ot===null&&Km(E,ct.el),Pe&&tr(Pe,re),(pt=i.props&&i.props.onVnodeUpdated)&&tr(()=>Cr(pt,$e,i,Ze),re)}else{let i;const{el:Le,props:Pe}=O,{bm:$e,m:Ze,parent:ot}=E,pt=kf(O);if(_n(E,!1),$e&&Lf($e),!pt&&(i=Pe&&Pe.onVnodeBeforeMount)&&Cr(i,ot,O),_n(E,!0),Le&&kr){const ct=()=>{E.subTree=Rf(E),kr(Le,E.subTree,E,re,null)};pt?O.type.__asyncLoader().then(()=>!E.isUnmounted&&ct()):ct()}else{const ct=E.subTree=Rf(E);Qe(null,ct,$,ne,E,re,fe),O.el=ct.el}if(Ze&&tr(Ze,re),!pt&&(i=Pe&&Pe.onVnodeMounted)){const ct=O;tr(()=>Cr(i,ot,ct),re)}O.shapeFlag&256&&E.a&&tr(E.a,re),E.isMounted=!0,O=$=ne=null}},_e=E.effect=new no(de,()=>Nl(E.update),E.scope),se=E.update=_e.run.bind(_e);se.id=E.uid,_n(E,!0),se()},at=(E,O,$)=>{O.component=E;const ne=E.vnode.props;E.vnode=O,E.next=null,bp(E,O.props,ne,$),gp(E,O.children,$),Qn(),yo(void 0,E.update),Sn()},H=(E,O,$,ne,re,fe,Se,de,_e=!1)=>{const se=E&&E.children,i=E?E.shapeFlag:0,Le=O.children,{patchFlag:Pe,shapeFlag:$e}=O;if(Pe>0){if(Pe&128){Fe(se,Le,$,ne,re,fe,Se,de,_e);return}else if(Pe&256){hr(se,Le,$,ne,re,fe,Se,de,_e);return}}$e&8?(i&16&&Pt(se,re,fe),Le!==se&&ae($,Le)):i&16?$e&16?Fe(se,Le,$,ne,re,fe,Se,de,_e):Pt(se,re,fe,!0):(i&8&&ae($,""),$e&16&&jt(Le,$,ne,re,fe,Se,de,_e))},hr=(E,O,$,ne,re,fe,Se,de,_e)=>{E=E||Xn,O=O||Xn;const se=E.length,i=O.length,Le=Math.min(se,i);let Pe;for(Pe=0;Pe<Le;Pe++){const $e=O[Pe]=_e?Qr(O[Pe]):Lr(O[Pe]);Qe(E[Pe],$e,$,null,re,fe,Se,de,_e)}se>i?Pt(E,re,fe,!0,!1,Le):jt(O,$,ne,re,fe,Se,de,_e,Le)},Fe=(E,O,$,ne,re,fe,Se,de,_e)=>{let se=0;const i=O.length;let Le=E.length-1,Pe=i-1;for(;se<=Le&&se<=Pe;){const $e=E[se],Ze=O[se]=_e?Qr(O[se]):Lr(O[se]);if(va($e,Ze))Qe($e,Ze,$,null,re,fe,Se,de,_e);else break;se++}for(;se<=Le&&se<=Pe;){const $e=E[Le],Ze=O[Pe]=_e?Qr(O[Pe]):Lr(O[Pe]);if(va($e,Ze))Qe($e,Ze,$,null,re,fe,Se,de,_e);else break;Le--,Pe--}if(se>Le){if(se<=Pe){const $e=Pe+1,Ze=$e<i?O[$e].el:ne;for(;se<=Pe;)Qe(null,O[se]=_e?Qr(O[se]):Lr(O[se]),$,Ze,re,fe,Se,de,_e),se++}}else if(se>Pe)for(;se<=Le;)_t(E[se],re,fe,!0),se++;else{const $e=se,Ze=se,ot=new Map;for(se=Ze;se<=Pe;se++){const Ht=O[se]=_e?Qr(O[se]):Lr(O[se]);Ht.key!=null&&ot.set(Ht.key,se)}let pt,ct=0;const Zt=Pe-Ze+1;let Ur=!1,wa=0;const jr=new Array(Zt);for(se=0;se<Zt;se++)jr[se]=0;for(se=$e;se<=Le;se++){const Ht=E[se];if(ct>=Zt){_t(Ht,re,fe,!0);continue}let ar;if(Ht.key!=null)ar=ot.get(Ht.key);else for(pt=Ze;pt<=Pe;pt++)if(jr[pt-Ze]===0&&va(Ht,O[pt])){ar=pt;break}ar===void 0?_t(Ht,re,fe,!0):(jr[ar-Ze]=se+1,ar>=wa?wa=ar:Ur=!0,Qe(Ht,O[ar],$,null,re,fe,Se,de,_e),ct++)}const zt=Ur?Sp(jr):Xn;for(pt=zt.length-1,se=Zt-1;se>=0;se--){const Ht=Ze+se,ar=O[Ht],Oa=Ht+1<i?O[Ht+1].el:ne;jr[se]===0?Qe(null,ar,$,Oa,re,fe,Se,de,_e):Ur&&(pt<0||se!==zt[pt]?it(ar,$,Oa,2):pt--)}}},it=(E,O,$,ne,re=null)=>{const{el:fe,type:Se,transition:de,children:_e,shapeFlag:se}=E;if(se&6){it(E.component.subTree,O,$,ne);return}if(se&128){E.suspense.move(O,$,ne);return}if(se&64){Se.move(E,O,$,mr);return}if(Se===_r){a(fe,O,$);for(let Le=0;Le<_e.length;Le++)it(_e[Le],O,$,ne);a(E.anchor,O,$);return}if(Se===Nf){ht(E,O,$);return}if(ne!==2&&se&1&&de)if(ne===0)de.beforeEnter(fe),a(fe,O,$),tr(()=>de.enter(fe),re);else{const{leave:Le,delayLeave:Pe,afterLeave:$e}=de,Ze=()=>a(fe,O,$),ot=()=>{Le(fe,()=>{Ze(),$e&&$e()})};Pe?Pe(fe,Ze,ot):ot()}else a(fe,O,$)},_t=(E,O,$,ne=!1,re=!1)=>{const{type:fe,props:Se,ref:de,children:_e,dynamicChildren:se,shapeFlag:i,patchFlag:Le,dirs:Pe}=E;if(de!=null&&$f(de,null,$,E,!0),i&256){O.ctx.deactivate(E);return}const $e=i&1&&Pe,Ze=!kf(E);let ot;if(Ze&&(ot=Se&&Se.onVnodeBeforeUnmount)&&Cr(ot,O,E),i&6)Xt(E.component,$,ne);else{if(i&128){E.suspense.unmount($,ne);return}$e&&bn(E,null,O,"beforeUnmount"),i&64?E.type.remove(E,O,$,re,mr,ne):se&&(fe!==_r||Le>0&&Le&64)?Pt(se,O,$,!1,!0):(fe===_r&&Le&384||!re&&i&16)&&Pt(_e,O,$),ne&&At(E)}(Ze&&(ot=Se&&Se.onVnodeUnmounted)||$e)&&tr(()=>{ot&&Cr(ot,O,E),$e&&bn(E,null,O,"unmounted")},$)},At=E=>{const{type:O,el:$,anchor:ne,transition:re}=E;if(O===_r){mt($,ne);return}if(O===Nf){Dt(E);return}const fe=()=>{o($),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if(E.shapeFlag&1&&re&&!re.persisted){const{leave:Se,delayLeave:de}=re,_e=()=>Se($,fe);de?de(E.el,fe,_e):_e()}else fe()},mt=(E,O)=>{let $;for(;E!==O;)$=we(E),o(E),E=$;o(O)},Xt=(E,O,$)=>{const{bum:ne,scope:re,update:fe,subTree:Se,um:de}=E;ne&&Lf(ne),re.stop(),fe&&(fe.active=!1,_t(Se,E,O,$)),de&&tr(de,O),tr(()=>{E.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},Pt=(E,O,$,ne=!1,re=!1,fe=0)=>{for(let Se=fe;Se<E.length;Se++)_t(E[Se],O,$,ne,re)},Tr=E=>E.shapeFlag&6?Tr(E.component.subTree):E.shapeFlag&128?E.suspense.next():we(E.anchor||E.el),tn=(E,O,$)=>{E==null?O._vnode&&_t(O._vnode,null,null,!0):Qe(O._vnode||null,E,O,null,null,null,$),Gl(),O._vnode=E},mr={p:Qe,um:_t,m:it,r:At,mt:je,mc:jt,pc:H,pbc:xr,n:Tr,o:e};let pr,kr;return t&&([pr,kr]=t(mr)),{render:tn,hydrate:pr,createApp:xp(tn,pr)}}function _n({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function gl(e,t,n=!1){const a=e.children,o=t.children;if(et(a)&&et(o))for(let u=0;u<a.length;u++){const v=a[u];let _=o[u];_.shapeFlag&1&&!_.dynamicChildren&&((_.patchFlag<=0||_.patchFlag===32)&&(_=o[u]=Qr(o[u]),_.el=v.el),n||gl(v,_))}}function Sp(e){const t=e.slice(),n=[0];let a,o,u,v,_;const R=e.length;for(a=0;a<R;a++){const K=e[a];if(K!==0){if(o=n[n.length-1],e[o]<K){t[a]=o,n.push(a);continue}for(u=0,v=n.length-1;u<v;)_=u+v>>1,e[n[_]]<K?u=_+1:v=_;K<e[n[u]]&&(u>0&&(t[a]=n[u-1]),n[u]=a)}}for(u=n.length,v=n[u-1];u-- >0;)n[u]=v,v=t[v];return n}const wp=e=>e.__isTeleport,El="components";function Sv(e,t){return Cp(El,e,!0,t)||e}const Op=Symbol();function Cp(e,t,n=!0,a=!1){const o=yr||$t;if(o){const u=o.type;if(e===El){const _=Hp(u);if(_&&(_===t||_===Fr(t)||_===Si(Fr(t))))return u}const v=Cu(o[e]||u[e],t)||Cu(o.appContext[e],t);return!v&&a?u:v}}function Cu(e,t){return e&&(e[t]||e[Fr(t)]||e[Si(Fr(t))])}const _r=Symbol(void 0),po=Symbol(void 0),en=Symbol(void 0),Nf=Symbol(void 0),ya=[];let Tn=null;function xl(e=!1){ya.push(Tn=e?null:[])}function Lp(){ya.pop(),Tn=ya[ya.length-1]||null}let bi=1;function Lu(e){bi+=e}function Tl(e){return e.dynamicChildren=bi>0?Tn||Xn:null,Lp(),bi>0&&Tn&&Tn.push(e),e}function wv(e,t,n,a,o,u){return Tl(Ol(e,t,n,a,o,u,!0))}function Al(e,t,n,a,o){return Tl(Rr(e,t,n,a,o,!0))}function Sl(e){return e?e.__v_isVNode===!0:!1}function va(e,t){return e.type===t.type&&e.key===t.key}const Li="__vInternal",wl=({key:e})=>e!=null?e:null,hi=({ref:e,ref_key:t,ref_for:n})=>e!=null?Wt(e)||qt(e)||rt(e)?{i:yr,r:e,k:t,f:!!n}:e:null;function Ol(e,t=null,n=null,a=0,o=null,u=e===_r?0:1,v=!1,_=!1){const R={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wl(t),ref:t&&hi(t),scopeId:Oi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:a,dynamicProps:o,dynamicChildren:null,appContext:null};return _?(vo(R,n),u&128&&e.normalize(R)):n&&(R.shapeFlag|=Wt(n)?8:16),bi>0&&!v&&Tn&&(R.patchFlag>0||u&6)&&R.patchFlag!==32&&Tn.push(R),R}const Rr=Rp;function Rp(e,t=null,n=null,a=0,o=null,u=!1){if((!e||e===Op)&&(e=en),Sl(e)){const _=Aa(e,t,!0);return n&&vo(_,n),_}if($p(e)&&(e=e.__vccOpts),t){t=Fp(t);let{class:_,style:R}=t;_&&!Wt(_)&&(t.class=Qf(_)),Vt(R)&&(nl(R)&&!et(R)&&(R=Qt({},R)),t.style=qf(R))}const v=Wt(e)?1:qm(e)?128:wp(e)?64:Vt(e)?4:rt(e)?2:0;return Ol(e,t,n,a,o,v,u,!0)}function Fp(e){return e?nl(e)||Li in e?Qt({},e):e:null}function Aa(e,t,n=!1){const{props:a,ref:o,patchFlag:u,children:v}=e,_=t?Dp(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&wl(_),ref:t&&t.ref?n&&o?et(o)?o.concat(hi(t)):[o,hi(t)]:hi(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:v,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_r?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Aa(e.ssContent),ssFallback:e.ssFallback&&Aa(e.ssFallback),el:e.el,anchor:e.anchor}}function Np(e=" ",t=0){return Rr(po,null,e,t)}function Ov(e="",t=!1){return t?(xl(),Al(en,null,e)):Rr(en,null,e)}function Lr(e){return e==null||typeof e=="boolean"?Rr(en):et(e)?Rr(_r,null,e.slice()):typeof e=="object"?Qr(e):Rr(po,null,String(e))}function Qr(e){return e.el===null||e.memo?e:Aa(e)}function vo(e,t){let n=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(et(t))n=16;else if(typeof t=="object")if(a&65){const o=t.default;o&&(o._c&&(o._d=!1),vo(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Li in t)?t._ctx=yr:o===3&&yr&&(yr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else rt(t)?(t={default:t,_ctx:yr},n=32):(t=String(t),a&64?(n=16,t=[Np(t)]):n=8);e.children=t,e.shapeFlag|=n}function Dp(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const o in a)if(o==="class")t.class!==a.class&&(t.class=Qf([t.class,a.class]));else if(o==="style")t.style=qf([t.style,a.style]);else if(xi(o)){const u=t[o],v=a[o];u!==v&&!(et(u)&&u.includes(v))&&(t[o]=u?[].concat(u,v):v)}else o!==""&&(t[o]=a[o])}return t}function Cr(e,t,n,a=null){Er(e,t,7,[n,a])}function Cv(e,t,n={},a,o){if(yr.isCE)return Rr("slot",t==="default"?null:{name:t},a&&a());let u=e[t];u&&u._c&&(u._d=!1),xl();const v=u&&Cl(u(n)),_=Al(_r,{key:n.key||`_${t}`},v||(a?a():[]),v&&e._===1?64:-2);return!o&&_.scopeId&&(_.slotScopeIds=[_.scopeId+"-s"]),u&&u._c&&(u._d=!0),_}function Cl(e){return e.some(t=>Sl(t)?!(t.type===en||t.type===_r&&!Cl(t.children)):!0)?e:null}const Vf=e=>e?Ll(e)?bo(e)||e.proxy:Vf(e.parent):null,_i=Qt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Vf(e.parent),$root:e=>Vf(e.root),$emit:e=>e.emit,$options:e=>hl(e),$forceUpdate:e=>()=>Nl(e.update),$nextTick:e=>Xp.bind(e.proxy),$watch:e=>qp.bind(e)}),Ip={get({_:e},t){const{ctx:n,setupState:a,data:o,props:u,accessCache:v,type:_,appContext:R}=e;let K;if(t[0]!=="$"){const Ue=v[t];if(Ue!==void 0)switch(Ue){case 1:return a[t];case 2:return o[t];case 4:return n[t];case 3:return u[t]}else{if(a!==Et&&ut(a,t))return v[t]=1,a[t];if(o!==Et&&ut(o,t))return v[t]=2,o[t];if((K=e.propsOptions[0])&&ut(K,t))return v[t]=3,u[t];if(n!==Et&&ut(n,t))return v[t]=4,n[t];Uf&&(v[t]=0)}}const ae=_i[t];let Te,we;if(ae)return t==="$attrs"&&ur(e,"get",t),ae(e);if((Te=_.__cssModules)&&(Te=Te[t]))return Te;if(n!==Et&&ut(n,t))return v[t]=4,n[t];if(we=R.config.globalProperties,ut(we,t))return we[t]},set({_:e},t,n){const{data:a,setupState:o,ctx:u}=e;if(o!==Et&&ut(o,t))o[t]=n;else if(a!==Et&&ut(a,t))a[t]=n;else if(ut(e.props,t))return!1;return t[0]==="$"&&t.slice(1)in e?!1:(u[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:o,propsOptions:u}},v){let _;return!!n[v]||e!==Et&&ut(e,v)||t!==Et&&ut(t,v)||(_=u[0])&&ut(_,v)||ut(a,v)||ut(_i,v)||ut(o.config.globalProperties,v)}},Gp=yl();let Pp=0;function Bp(e,t,n){const a=e.type,o=(t?t.appContext:e.appContext)||Gp,u={uid:Pp++,vnode:e,type:a,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new um(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pl(a,o),emitsOptions:sl(a,o),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:a.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=Vm.bind(null,u),e.ce&&e.ce(u),u}let $t=null;const Kn=e=>{$t=e,e.scope.on()},An=()=>{$t&&$t.scope.off(),$t=null};function Ll(e){return e.vnode.shapeFlag&4}let yi=!1;function Mp(e,t=!1){yi=t;const{props:n,children:a}=e.vnode,o=Ll(e);vp(e,n,o,t),yp(e,a);const u=o?kp(e,t):void 0;return yi=!1,u}function kp(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=al(new Proxy(e.ctx,Ip));const{setup:a}=n;if(a){const o=e.setupContext=a.length>1?jp(e):null;Kn(e),Qn();const u=Zr(a,e,0,[e.props,o]);if(Sn(),An(),$u(u)){if(u.then(An,An),t)return u.then(v=>{Ru(e,v,t)}).catch(v=>{Ri(v,e,0)});e.asyncDep=u}else Ru(e,u,t)}else Rl(e,t)}function Ru(e,t,n){rt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Vt(t)&&(e.setupState=ol(t)),Rl(e,n)}let Fu;function Rl(e,t,n){const a=e.type;if(!e.render){if(!t&&Fu&&!a.render){const o=a.template;if(o){const{isCustomElement:u,compilerOptions:v}=e.appContext.config,{delimiters:_,compilerOptions:R}=a,K=Qt(Qt({isCustomElement:u,delimiters:_},v),R);a.render=Fu(o,K)}}e.render=a.render||gr}Kn(e),Qn(),cp(e),Sn(),An()}function Up(e){return new Proxy(e.attrs,{get(t,n){return ur(e,"get","$attrs"),t[n]}})}function jp(e){const t=a=>{e.exposed=a||{}};let n;return{get attrs(){return n||(n=Up(e))},slots:e.slots,emit:e.emit,expose:t}}function bo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ol(al(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in _i)return _i[n](e)}}))}function Hp(e){return rt(e)&&e.displayName||e.name}function $p(e){return rt(e)&&"__vccOpts"in e}function Zr(e,t,n,a){let o;try{o=a?e(...a):e()}catch(u){Ri(u,t,n)}return o}function Er(e,t,n,a){if(rt(e)){const u=Zr(e,t,n,a);return u&&$u(u)&&u.catch(v=>{Ri(v,t,n)}),u}const o=[];for(let u=0;u<e.length;u++)o.push(Er(e[u],t,n,a));return o}function Ri(e,t,n,a=!0){const o=t?t.vnode:null;if(t){let u=t.parent;const v=t.proxy,_=n;for(;u;){const K=u.ec;if(K){for(let ae=0;ae<K.length;ae++)if(K[ae](e,v,_)===!1)return}u=u.parent}const R=t.appContext.config.errorHandler;if(R){Zr(R,null,10,[e,v,_]);return}}Vp(e,n,o,a)}function Vp(e,t,n,a=!0){console.error(e)}let gi=!1,Xf=!1;const sr=[];let Gr=0;const ga=[];let _a=null,Hn=0;const Ea=[];let qr=null,$n=0;const Fl=Promise.resolve();let _o=null,zf=null;function Xp(e){const t=_o||Fl;return e?t.then(this?e.bind(this):e):t}function zp(e){let t=Gr+1,n=sr.length;for(;t<n;){const a=t+n>>>1;Sa(sr[a])<e?t=a+1:n=a}return t}function Nl(e){(!sr.length||!sr.includes(e,gi&&e.allowRecurse?Gr+1:Gr))&&e!==zf&&(e.id==null?sr.push(e):sr.splice(zp(e.id),0,e),Dl())}function Dl(){!gi&&!Xf&&(Xf=!0,_o=Fl.then(Pl))}function Wp(e){const t=sr.indexOf(e);t>Gr&&sr.splice(t,1)}function Il(e,t,n,a){et(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?a+1:a))&&n.push(e),Dl()}function Yp(e){Il(e,_a,ga,Hn)}function Kp(e){Il(e,qr,Ea,$n)}function yo(e,t=null){if(ga.length){for(zf=t,_a=[...new Set(ga)],ga.length=0,Hn=0;Hn<_a.length;Hn++)_a[Hn]();_a=null,Hn=0,zf=null,yo(e,t)}}function Gl(e){if(Ea.length){const t=[...new Set(Ea)];if(Ea.length=0,qr){qr.push(...t);return}for(qr=t,qr.sort((n,a)=>Sa(n)-Sa(a)),$n=0;$n<qr.length;$n++)qr[$n]();qr=null,$n=0}}const Sa=e=>e.id==null?1/0:e.id;function Pl(e){Xf=!1,gi=!0,yo(e),sr.sort((n,a)=>Sa(n)-Sa(a));const t=gr;try{for(Gr=0;Gr<sr.length;Gr++){const n=sr[Gr];n&&n.active!==!1&&Zr(n,null,14)}}finally{Gr=0,sr.length=0,Gl(),gi=!1,_o=null,(sr.length||ga.length||Ea.length)&&Pl(e)}}const Nu={};function Df(e,t,n){return Bl(e,t,n)}function Bl(e,t,{immediate:n,deep:a,flush:o,onTrack:u,onTrigger:v}=Et){const _=$t;let R,K=!1,ae=!1;if(qt(e)?(R=()=>e.value,K=!!e._shallow):Wn(e)?(R=()=>e,a=!0):et(e)?(ae=!0,K=e.some(Wn),R=()=>e.map(tt=>{if(qt(tt))return tt.value;if(Wn(tt))return Vn(tt);if(rt(tt))return Zr(tt,_,2)})):rt(e)?t?R=()=>Zr(e,_,2):R=()=>{if(!(_&&_.isUnmounted))return Te&&Te(),Er(e,_,3,[we])}:R=gr,t&&a){const tt=R;R=()=>Vn(tt())}let Te,we=tt=>{Te=Qe.onStop=()=>{Zr(tt,_,4)}};if(yi)return we=gr,t?n&&Er(t,_,3,[R(),ae?[]:void 0,we]):R(),gr;let Ue=ae?[]:Nu;const qe=()=>{if(!!Qe.active)if(t){const tt=Qe.run();(a||K||(ae?tt.some((xt,dt)=>xa(xt,Ue[dt])):xa(tt,Ue)))&&(Te&&Te(),Er(t,_,3,[tt,Ue===Nu?void 0:Ue,we]),Ue=tt)}else Qe.run()};qe.allowRecurse=!!t;let lt;o==="sync"?lt=qe:o==="post"?lt=()=>tr(qe,_&&_.suspense):lt=()=>{!_||_.isMounted?Yp(qe):qe()};const Qe=new no(R,lt);return t?n?qe():Ue=Qe.run():o==="post"?tr(Qe.run.bind(Qe),_&&_.suspense):Qe.run(),()=>{Qe.stop(),_&&_.scope&&Jf(_.scope.effects,Qe)}}function qp(e,t,n){const a=this.proxy,o=Wt(e)?e.includes(".")?Ml(a,e):()=>a[e]:e.bind(a,a);let u;rt(t)?u=t:(u=t.handler,n=t);const v=$t;Kn(this);const _=Bl(o,u.bind(a),n);return v?Kn(v):An(),_}function Ml(e,t){const n=t.split(".");return()=>{let a=e;for(let o=0;o<n.length&&a;o++)a=a[n[o]];return a}}function Vn(e,t){if(!Vt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),qt(e))Vn(e.value,t);else if(et(e))for(let n=0;n<e.length;n++)Vn(e[n],t);else if(Hu(e)||zn(e))e.forEach(n=>{Vn(n,t)});else if(Xu(e))for(const n in e)Vn(e[n],t);return e}const Qp="3.2.26",Zp="http://www.w3.org/2000/svg",jn=typeof document!="undefined"?document:null,Du=new Map,Jp={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const o=t?jn.createElementNS(Zp,e):jn.createElement(e,n?{is:n}:void 0);return e==="select"&&a&&a.multiple!=null&&o.setAttribute("multiple",a.multiple),o},createText:e=>jn.createTextNode(e),createComment:e=>jn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>jn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,a){const o=n?n.previousSibling:t.lastChild;let u=Du.get(e);if(!u){const v=jn.createElement("template");if(v.innerHTML=a?`<svg>${e}</svg>`:e,u=v.content,a){const _=u.firstChild;for(;_.firstChild;)u.appendChild(_.firstChild);u.removeChild(_)}Du.set(e,u)}return t.insertBefore(u.cloneNode(!0),n),[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function ev(e,t,n){const a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function tv(e,t,n){const a=e.style,o=Wt(n);if(n&&!o){for(const u in n)Wf(a,u,n[u]);if(t&&!Wt(t))for(const u in t)n[u]==null&&Wf(a,u,"")}else{const u=a.display;o?t!==n&&(a.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(a.display=u)}}const Iu=/\s*!important$/;function Wf(e,t,n){if(et(n))n.forEach(a=>Wf(e,t,a));else if(t.startsWith("--"))e.setProperty(t,n);else{const a=rv(e,t);Iu.test(n)?e.setProperty(qn(a),n.replace(Iu,""),"important"):e[a]=n}}const Gu=["Webkit","Moz","ms"],If={};function rv(e,t){const n=If[t];if(n)return n;let a=Fr(t);if(a!=="filter"&&a in e)return If[t]=a;a=Si(a);for(let o=0;o<Gu.length;o++){const u=Gu[o]+a;if(u in e)return If[t]=u}return t}const Pu="http://www.w3.org/1999/xlink";function nv(e,t,n,a,o){if(a&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Pu,t.slice(6,t.length)):e.setAttributeNS(Pu,t,n);else{const u=Qh(t);n==null||u&&!Uu(n)?e.removeAttribute(t):e.setAttribute(t,u?"":n)}}function av(e,t,n,a,o,u,v){if(t==="innerHTML"||t==="textContent"){a&&v(a,o,u),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const _=n==null?"":n;(e.value!==_||e.tagName==="OPTION")&&(e.value=_),n==null&&e.removeAttribute(t);return}if(n===""||n==null){const _=typeof e[t];if(_==="boolean"){e[t]=Uu(n);return}else if(n==null&&_==="string"){e[t]="",e.removeAttribute(t);return}else if(_==="number"){try{e[t]=0}catch{}e.removeAttribute(t);return}}try{e[t]=n}catch{}}let Ei=Date.now,kl=!1;if(typeof window!="undefined"){Ei()>document.createEvent("Event").timeStamp&&(Ei=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);kl=!!(e&&Number(e[1])<=53)}let Yf=0;const iv=Promise.resolve(),fv=()=>{Yf=0},ov=()=>Yf||(iv.then(fv),Yf=Ei());function sv(e,t,n,a){e.addEventListener(t,n,a)}function uv(e,t,n,a){e.removeEventListener(t,n,a)}function lv(e,t,n,a,o=null){const u=e._vei||(e._vei={}),v=u[t];if(a&&v)v.value=a;else{const[_,R]=cv(t);if(a){const K=u[t]=dv(a,o);sv(e,_,K,R)}else v&&(uv(e,_,v,R),u[t]=void 0)}}const Bu=/(?:Once|Passive|Capture)$/;function cv(e){let t;if(Bu.test(e)){t={};let n;for(;n=e.match(Bu);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[qn(e.slice(2)),t]}function dv(e,t){const n=a=>{const o=a.timeStamp||Ei();(kl||o>=n.attached-1)&&Er(hv(a,n.value),t,5,[a])};return n.value=e,n.attached=ov(),n}function hv(e,t){if(et(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(a=>o=>!o._stopped&&a(o))}else return t}const Mu=/^on[a-z]/,mv=(e,t,n,a,o=!1,u,v,_,R)=>{t==="class"?ev(e,a,o):t==="style"?tv(e,n,a):xi(t)?Zf(t)||lv(e,t,n,a,v):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):pv(e,t,a,o))?av(e,t,a,u,v,_,R):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),nv(e,t,a,o))};function pv(e,t,n,a){return a?!!(t==="innerHTML"||t==="textContent"||t in e&&Mu.test(t)&&rt(n)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Mu.test(t)&&Wt(n)?!1:t in e}const vv=Qt({patchProp:mv},Jp);let ku;function bv(){return ku||(ku=Tp(vv))}const Lv=(...e)=>{const t=bv().createApp(...e),{mount:n}=t;return t.mount=a=>{const o=_v(a);if(!o)return;const u=t._component;!rt(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const v=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),v},t};function _v(e){return Wt(e)?document.querySelector(e):e}var Ul=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function yv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jl={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(Ul,function(){var n=function(r){return r instanceof Uint8Array||r instanceof Uint16Array||r instanceof Uint32Array||r instanceof Int8Array||r instanceof Int16Array||r instanceof Int32Array||r instanceof Float32Array||r instanceof Float64Array||r instanceof Uint8ClampedArray},a=function(r,s){for(var p=Object.keys(s),N=0;N<p.length;++N)r[p[N]]=s[p[N]];return r},o=`
`;function u(r){return typeof atob!="undefined"?atob(r):"base64:"+r}function v(r){var s=new Error("(regl) "+r);throw console.error(s),s}function _(r,s){r||v(s)}function R(r){return r?": "+r:""}function K(r,s,p){r in s||v("unknown parameter ("+r+")"+R(p)+". possible values: "+Object.keys(s).join())}function ae(r,s){n(r)||v("invalid parameter type"+R(s)+". must be a typed array")}function Te(r,s){switch(s){case"number":return typeof r=="number";case"object":return typeof r=="object";case"string":return typeof r=="string";case"boolean":return typeof r=="boolean";case"function":return typeof r=="function";case"undefined":return typeof r=="undefined";case"symbol":return typeof r=="symbol"}}function we(r,s,p){Te(r,s)||v("invalid parameter type"+R(p)+". expected "+s+", got "+typeof r)}function Ue(r,s){r>=0&&(r|0)===r||v("invalid parameter type, ("+r+")"+R(s)+". must be a nonnegative integer")}function qe(r,s,p){s.indexOf(r)<0&&v("invalid value"+R(p)+". must be one of: "+s)}var lt=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function Qe(r){Object.keys(r).forEach(function(s){lt.indexOf(s)<0&&v('invalid regl constructor argument "'+s+'". must be one of '+lt)})}function tt(r,s){for(r=r+"";r.length<s;)r=" "+r;return r}function xt(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function dt(r,s){this.number=r,this.line=s,this.errors=[]}function ht(r,s,p){this.file=r,this.line=s,this.message=p}function Dt(){var r=new Error,s=(r.stack||r).toString(),p=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(s);if(p)return p[1];var N=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(s);return N?N[1]:"unknown"}function rr(){var r=new Error,s=(r.stack||r).toString(),p=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(s);if(p)return p[1];var N=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(s);return N?N[1]:"unknown"}function Yt(r,s){var p=r.split(`
`),N=1,k=0,F={unknown:new xt,0:new xt};F.unknown.name=F[0].name=s||Dt(),F.unknown.lines.push(new dt(0,""));for(var G=0;G<p.length;++G){var W=p[G],z=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(W);if(z)switch(z[1]){case"line":var J=/(\d+)(\s+\d+)?/.exec(z[2]);J&&(N=J[1]|0,J[2]&&(k=J[2]|0,k in F||(F[k]=new xt)));break;case"define":var te=/SHADER_NAME(_B64)?\s+(.*)$/.exec(z[2]);te&&(F[k].name=te[1]?u(te[2]):te[2]);break}F[k].lines.push(new dt(N++,W))}return Object.keys(F).forEach(function(ee){var oe=F[ee];oe.lines.forEach(function(Y){oe.index[Y.number]=Y})}),F}function nr(r){var s=[];return r.split(`
`).forEach(function(p){if(!(p.length<5)){var N=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(p);N?s.push(new ht(N[1]|0,N[2]|0,N[3].trim())):p.length>0&&s.push(new ht("unknown",0,p))}}),s}function jt(r,s){s.forEach(function(p){var N=r[p.file];if(N){var k=N.index[p.line];if(k){k.errors.push(p),N.hasErrors=!0;return}}r.unknown.hasErrors=!0,r.unknown.lines[0].errors.push(p)})}function dr(r,s,p,N,k){if(!r.getShaderParameter(s,r.COMPILE_STATUS)){var F=r.getShaderInfoLog(s),G=N===r.FRAGMENT_SHADER?"fragment":"vertex";Re(p,"string",G+" shader source must be a string",k);var W=Yt(p,k),z=nr(F);jt(W,z),Object.keys(W).forEach(function(J){var te=W[J];if(!te.hasErrors)return;var ee=[""],oe=[""];function Y(Z,A){ee.push(Z),oe.push(A||"")}Y("file number "+J+": "+te.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),te.lines.forEach(function(Z){if(Z.errors.length>0){Y(tt(Z.number,4)+"|  ","background-color:yellow; font-weight:bold"),Y(Z.line+o,"color:red; background-color:yellow; font-weight:bold");var A=0;Z.errors.forEach(function(I){var Q=I.message,be=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Q);if(be){var X=be[1];switch(Q=be[2],X){case"assign":X="=";break}A=Math.max(Z.line.indexOf(X,A),0)}else A=0;Y(tt("| ",6)),Y(tt("^^^",A+3)+o,"font-weight:bold"),Y(tt("| ",6)),Y(Q+o,"font-weight:bold")}),Y(tt("| ",6)+o)}else Y(tt(Z.number,4)+"|  "),Y(Z.line+o,"color:red")}),typeof document!="undefined"&&!window.chrome?(oe[0]=ee.join("%c"),console.log.apply(console,oe)):console.log(ee.join(""))}),_.raise("Error compiling "+G+" shader, "+W[0].name)}}function xr(r,s,p,N,k){if(!r.getProgramParameter(s,r.LINK_STATUS)){var F=r.getProgramInfoLog(s),G=Yt(p,k),W=Yt(N,k),z='Error linking program with vertex shader, "'+W[0].name+'", and fragment shader "'+G[0].name+'"';typeof document!="undefined"?console.log("%c"+z+o+"%c"+F,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(z+o+F),_.raise(z)}}function st(r){r._commandRef=Dt()}function Mr(r,s,p,N){st(r);function k(z){return z?N.id(z):0}r._fragId=k(r.static.frag),r._vertId=k(r.static.vert);function F(z,J){Object.keys(J).forEach(function(te){z[N.id(te)]=!0})}var G=r._uniformSet={};F(G,s.static),F(G,s.dynamic);var W=r._attributeSet={};F(W,p.static),F(W,p.dynamic),r._hasCount="count"in r.static||"count"in r.dynamic||"elements"in r.static||"elements"in r.dynamic}function Ke(r,s){var p=rr();v(r+" in command "+(s||Dt())+(p==="unknown"?"":" called from "+p))}function je(r,s,p){r||Ke(s,p||Dt())}function We(r,s,p,N){r in s||Ke("unknown parameter ("+r+")"+R(p)+". possible values: "+Object.keys(s).join(),N||Dt())}function Re(r,s,p,N){Te(r,s)||Ke("invalid parameter type"+R(p)+". expected "+s+", got "+typeof r,N||Dt())}function at(r){r()}function H(r,s,p){r.texture?qe(r.texture._texture.internalformat,s,"unsupported texture format for attachment"):qe(r.renderbuffer._renderbuffer.format,p,"unsupported renderbuffer format for attachment")}var hr=33071,Fe=9728,it=9984,_t=9985,At=9986,mt=9987,Xt=5120,Pt=5121,Tr=5122,tn=5123,mr=5124,pr=5125,kr=5126,E=32819,O=32820,$=33635,ne=34042,re=36193,fe={};fe[Xt]=fe[Pt]=1,fe[Tr]=fe[tn]=fe[re]=fe[$]=fe[E]=fe[O]=2,fe[mr]=fe[pr]=fe[kr]=fe[ne]=4;function Se(r,s){return r===O||r===E||r===$?2:r===ne?4:fe[r]*s}function de(r){return!(r&r-1)&&!!r}function _e(r,s,p){var N,k=s.width,F=s.height,G=s.channels;_(k>0&&k<=p.maxTextureSize&&F>0&&F<=p.maxTextureSize,"invalid texture shape"),(r.wrapS!==hr||r.wrapT!==hr)&&_(de(k)&&de(F),"incompatible wrap mode for texture, both width and height must be power of 2"),s.mipmask===1?k!==1&&F!==1&&_(r.minFilter!==it&&r.minFilter!==At&&r.minFilter!==_t&&r.minFilter!==mt,"min filter requires mipmap"):(_(de(k)&&de(F),"texture must be a square power of 2 to support mipmapping"),_(s.mipmask===(k<<1)-1,"missing or incomplete mipmap data")),s.type===kr&&(p.extensions.indexOf("oes_texture_float_linear")<0&&_(r.minFilter===Fe&&r.magFilter===Fe,"filter not supported, must enable oes_texture_float_linear"),_(!r.genMipmaps,"mipmap generation not supported with float textures"));var W=s.images;for(N=0;N<16;++N)if(W[N]){var z=k>>N,J=F>>N;_(s.mipmask&1<<N,"missing mipmap data");var te=W[N];if(_(te.width===z&&te.height===J,"invalid shape for mip images"),_(te.format===s.format&&te.internalformat===s.internalformat&&te.type===s.type,"incompatible type for mip image"),!te.compressed)if(te.data){var ee=Math.ceil(Se(te.type,G)*z/te.unpackAlignment)*te.unpackAlignment;_(te.data.byteLength===ee*J,"invalid data for image, buffer size is inconsistent with image format")}else te.element||te.copy}else r.genMipmaps||_((s.mipmask&1<<N)===0,"extra mipmap data");s.compressed&&_(!r.genMipmaps,"mipmap generation for compressed images not supported")}function se(r,s,p,N){var k=r.width,F=r.height,G=r.channels;_(k>0&&k<=N.maxTextureSize&&F>0&&F<=N.maxTextureSize,"invalid texture shape"),_(k===F,"cube map must be square"),_(s.wrapS===hr&&s.wrapT===hr,"wrap mode not supported by cube map");for(var W=0;W<p.length;++W){var z=p[W];_(z.width===k&&z.height===F,"inconsistent cube map face shape"),s.genMipmaps&&(_(!z.compressed,"can not generate mipmap for compressed textures"),_(z.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var J=z.images,te=0;te<16;++te){var ee=J[te];if(ee){var oe=k>>te,Y=F>>te;_(z.mipmask&1<<te,"missing mipmap data"),_(ee.width===oe&&ee.height===Y,"invalid shape for mip images"),_(ee.format===r.format&&ee.internalformat===r.internalformat&&ee.type===r.type,"incompatible type for mip image"),ee.compressed||(ee.data?_(ee.data.byteLength===oe*Y*Math.max(Se(ee.type,G),ee.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):ee.element||ee.copy)}}}}var i=a(_,{optional:at,raise:v,commandRaise:Ke,command:je,parameter:K,commandParameter:We,constructor:Qe,type:we,commandType:Re,isTypedArray:ae,nni:Ue,oneOf:qe,shaderError:dr,linkError:xr,callSite:rr,saveCommandRef:st,saveDrawInfo:Mr,framebufferFormat:H,guessCommand:Dt,texture2D:_e,textureCube:se}),Le=0,Pe=0,$e=5,Ze=6;function ot(r,s){this.id=Le++,this.type=r,this.data=s}function pt(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ct(r){if(r.length===0)return[];var s=r.charAt(0),p=r.charAt(r.length-1);if(r.length>1&&s===p&&(s==='"'||s==="'"))return['"'+pt(r.substr(1,r.length-2))+'"'];var N=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(r);if(N)return ct(r.substr(0,N.index)).concat(ct(N[1])).concat(ct(r.substr(N.index+N[0].length)));var k=r.split(".");if(k.length===1)return['"'+pt(r)+'"'];for(var F=[],G=0;G<k.length;++G)F=F.concat(ct(k[G]));return F}function Zt(r){return"["+ct(r).join("][")+"]"}function Ur(r,s){return new ot(r,Zt(s+""))}function wa(r){return typeof r=="function"&&!r._reglType||r instanceof ot}function jr(r,s){if(typeof r=="function")return new ot(Pe,r);if(typeof r=="number"||typeof r=="boolean")return new ot($e,r);if(Array.isArray(r))return new ot(Ze,r.map(function(p,N){return jr(p,s+"["+N+"]")}));if(r instanceof ot)return r;i(!1,"invalid option type in uniform "+s)}var zt={DynamicVariable:ot,define:Ur,isDynamic:wa,unbox:jr,accessor:Zt},Ht={next:typeof requestAnimationFrame=="function"?function(r){return requestAnimationFrame(r)}:function(r){return setTimeout(r,16)},cancel:typeof cancelAnimationFrame=="function"?function(r){return cancelAnimationFrame(r)}:clearTimeout},ar=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Oa(){var r={"":0},s=[""];return{id:function(p){var N=r[p];return N||(N=r[p]=s.length,s.push(p),N)},str:function(p){return s[p]}}}function $l(r,s,p){var N=document.createElement("canvas");a(N.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),r.appendChild(N),r===document.body&&(N.style.position="absolute",a(r.style,{margin:0,padding:0}));function k(){var W=window.innerWidth,z=window.innerHeight;if(r!==document.body){var J=N.getBoundingClientRect();W=J.right-J.left,z=J.bottom-J.top}N.width=p*W,N.height=p*z}var F;r!==document.body&&typeof ResizeObserver=="function"?(F=new ResizeObserver(function(){setTimeout(k)}),F.observe(r)):window.addEventListener("resize",k,!1);function G(){F?F.disconnect():window.removeEventListener("resize",k),r.removeChild(N)}return k(),{canvas:N,onDestroy:G}}function Vl(r,s){function p(N){try{return r.getContext(N,s)}catch{return null}}return p("webgl")||p("experimental-webgl")||p("webgl-experimental")}function Xl(r){return typeof r.nodeName=="string"&&typeof r.appendChild=="function"&&typeof r.getBoundingClientRect=="function"}function zl(r){return typeof r.drawArrays=="function"||typeof r.drawElements=="function"}function go(r){return typeof r=="string"?r.split():(i(Array.isArray(r),"invalid extension array"),r)}function Eo(r){return typeof r=="string"?(i(typeof document!="undefined","not supported outside of DOM"),document.querySelector(r)):r}function Wl(r){var s=r||{},p,N,k,F,G={},W=[],z=[],J=typeof window=="undefined"?1:window.devicePixelRatio,te=!1,ee=function(Z){Z&&i.raise(Z)},oe=function(){};if(typeof s=="string"?(i(typeof document!="undefined","selector queries only supported in DOM enviroments"),p=document.querySelector(s),i(p,"invalid query string for element")):typeof s=="object"?Xl(s)?p=s:zl(s)?(F=s,k=F.canvas):(i.constructor(s),"gl"in s?F=s.gl:"canvas"in s?k=Eo(s.canvas):"container"in s&&(N=Eo(s.container)),"attributes"in s&&(G=s.attributes,i.type(G,"object","invalid context attributes")),"extensions"in s&&(W=go(s.extensions)),"optionalExtensions"in s&&(z=go(s.optionalExtensions)),"onDone"in s&&(i.type(s.onDone,"function","invalid or missing onDone callback"),ee=s.onDone),"profile"in s&&(te=!!s.profile),"pixelRatio"in s&&(J=+s.pixelRatio,i(J>0,"invalid pixel ratio"))):i.raise("invalid arguments to regl"),p&&(p.nodeName.toLowerCase()==="canvas"?k=p:N=p),!F){if(!k){i(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Y=$l(N||document.body,ee,J);if(!Y)return null;k=Y.canvas,oe=Y.onDestroy}G.premultipliedAlpha===void 0&&(G.premultipliedAlpha=!0),F=Vl(k,G)}return F?{gl:F,canvas:k,container:N,extensions:W,optionalExtensions:z,pixelRatio:J,profile:te,onDone:ee,onDestroy:oe}:(oe(),ee("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Yl(r,s){var p={};function N(G){i.type(G,"string","extension name must be string");var W=G.toLowerCase(),z;try{z=p[W]=r.getExtension(W)}catch{}return!!z}for(var k=0;k<s.extensions.length;++k){var F=s.extensions[k];if(!N(F))return s.onDestroy(),s.onDone('"'+F+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return s.optionalExtensions.forEach(N),{extensions:p,restore:function(){Object.keys(p).forEach(function(G){if(p[G]&&!N(G))throw new Error("(regl): error restoring extension "+G)})}}}function ir(r,s){for(var p=Array(r),N=0;N<r;++N)p[N]=s(N);return p}var Kl=5120,ql=5121,Ql=5122,Zl=5123,Jl=5124,ec=5125,tc=5126;function rc(r){for(var s=16;s<=1<<28;s*=16)if(r<=s)return s;return 0}function xo(r){var s,p;return s=(r>65535)<<4,r>>>=s,p=(r>255)<<3,r>>>=p,s|=p,p=(r>15)<<2,r>>>=p,s|=p,p=(r>3)<<1,r>>>=p,s|=p,s|r>>1}function To(){var r=ir(8,function(){return[]});function s(F){var G=rc(F),W=r[xo(G)>>2];return W.length>0?W.pop():new ArrayBuffer(G)}function p(F){r[xo(F.byteLength)>>2].push(F)}function N(F,G){var W=null;switch(F){case Kl:W=new Int8Array(s(G),0,G);break;case ql:W=new Uint8Array(s(G),0,G);break;case Ql:W=new Int16Array(s(2*G),0,G);break;case Zl:W=new Uint16Array(s(2*G),0,G);break;case Jl:W=new Int32Array(s(4*G),0,G);break;case ec:W=new Uint32Array(s(4*G),0,G);break;case tc:W=new Float32Array(s(4*G),0,G);break;default:return null}return W.length!==G?W.subarray(0,G):W}function k(F){p(F.buffer)}return{alloc:s,free:p,allocType:N,freeType:k}}var Ot=To();Ot.zero=To();var nc=3408,ac=3410,ic=3411,fc=3412,oc=3413,sc=3414,uc=3415,lc=33901,cc=33902,dc=3379,hc=3386,mc=34921,pc=36347,vc=36348,bc=35661,_c=35660,yc=34930,gc=36349,Ec=34076,xc=34024,Tc=7936,Ac=7937,Sc=7938,wc=35724,Oc=34047,Cc=36063,Lc=34852,Ca=3553,Ao=34067,Rc=34069,Fc=33984,Zn=6408,Fi=5126,So=5121,Ni=36160,Nc=36053,Dc=36064,Ic=16384,Gc=function(r,s){var p=1;s.ext_texture_filter_anisotropic&&(p=r.getParameter(Oc));var N=1,k=1;s.webgl_draw_buffers&&(N=r.getParameter(Lc),k=r.getParameter(Cc));var F=!!s.oes_texture_float;if(F){var G=r.createTexture();r.bindTexture(Ca,G),r.texImage2D(Ca,0,Zn,1,1,0,Zn,Fi,null);var W=r.createFramebuffer();if(r.bindFramebuffer(Ni,W),r.framebufferTexture2D(Ni,Dc,Ca,G,0),r.bindTexture(Ca,null),r.checkFramebufferStatus(Ni)!==Nc)F=!1;else{r.viewport(0,0,1,1),r.clearColor(1,0,0,1),r.clear(Ic);var z=Ot.allocType(Fi,4);r.readPixels(0,0,1,1,Zn,Fi,z),r.getError()?F=!1:(r.deleteFramebuffer(W),r.deleteTexture(G),F=z[0]===1),Ot.freeType(z)}}var J=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),te=!0;if(!J){var ee=r.createTexture(),oe=Ot.allocType(So,36);r.activeTexture(Fc),r.bindTexture(Ao,ee),r.texImage2D(Rc,0,Zn,3,3,0,Zn,So,oe),Ot.freeType(oe),r.bindTexture(Ao,null),r.deleteTexture(ee),te=!r.getError()}return{colorBits:[r.getParameter(ac),r.getParameter(ic),r.getParameter(fc),r.getParameter(oc)],depthBits:r.getParameter(sc),stencilBits:r.getParameter(uc),subpixelBits:r.getParameter(nc),extensions:Object.keys(s).filter(function(Y){return!!s[Y]}),maxAnisotropic:p,maxDrawbuffers:N,maxColorAttachments:k,pointSizeDims:r.getParameter(lc),lineWidthDims:r.getParameter(cc),maxViewportDims:r.getParameter(hc),maxCombinedTextureUnits:r.getParameter(bc),maxCubeMapSize:r.getParameter(Ec),maxRenderbufferSize:r.getParameter(xc),maxTextureUnits:r.getParameter(yc),maxTextureSize:r.getParameter(dc),maxAttributes:r.getParameter(mc),maxVertexUniforms:r.getParameter(pc),maxVertexTextureUnits:r.getParameter(_c),maxVaryingVectors:r.getParameter(vc),maxFragmentUniforms:r.getParameter(gc),glsl:r.getParameter(wc),renderer:r.getParameter(Ac),vendor:r.getParameter(Tc),version:r.getParameter(Sc),readFloat:F,npotTextureCube:te}};function vr(r){return!!r&&typeof r=="object"&&Array.isArray(r.shape)&&Array.isArray(r.stride)&&typeof r.offset=="number"&&r.shape.length===r.stride.length&&(Array.isArray(r.data)||n(r.data))}var fr=function(r){return Object.keys(r).map(function(s){return r[s]})},La={shape:kc,flatten:Mc};function Pc(r,s,p){for(var N=0;N<s;++N)p[N]=r[N]}function Bc(r,s,p,N){for(var k=0,F=0;F<s;++F)for(var G=r[F],W=0;W<p;++W)N[k++]=G[W]}function wo(r,s,p,N,k,F){for(var G=F,W=0;W<s;++W)for(var z=r[W],J=0;J<p;++J)for(var te=z[J],ee=0;ee<N;++ee)k[G++]=te[ee]}function Oo(r,s,p,N,k){for(var F=1,G=p+1;G<s.length;++G)F*=s[G];var W=s[p];if(s.length-p===4){var z=s[p+1],J=s[p+2],te=s[p+3];for(G=0;G<W;++G)wo(r[G],z,J,te,N,k),k+=F}else for(G=0;G<W;++G)Oo(r[G],s,p+1,N,k),k+=F}function Mc(r,s,p,N){var k=1;if(s.length)for(var F=0;F<s.length;++F)k*=s[F];else k=0;var G=N||Ot.allocType(p,k);switch(s.length){case 0:break;case 1:Pc(r,s[0],G);break;case 2:Bc(r,s[0],s[1],G);break;case 3:wo(r,s[0],s[1],s[2],G,0);break;default:Oo(r,s,0,G,0)}return G}function kc(r){for(var s=[],p=r;p.length;p=p[0])s.push(p.length);return s}var Di={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Uc=5120,jc=5122,Hc=5124,$c=5121,Vc=5123,Xc=5125,zc=5126,Wc=5126,rn={int8:Uc,int16:jc,int32:Hc,uint8:$c,uint16:Vc,uint32:Xc,float:zc,float32:Wc},Yc=35048,Kc=35040,Ra={dynamic:Yc,stream:Kc,static:35044},Ii=La.flatten,Co=La.shape,Lo=35044,qc=35040,Gi=5121,Pi=5126,Hr=[];Hr[5120]=1,Hr[5122]=2,Hr[5124]=4,Hr[5121]=1,Hr[5123]=2,Hr[5125]=4,Hr[5126]=4;function Fa(r){return Di[Object.prototype.toString.call(r)]|0}function Ro(r,s){for(var p=0;p<s.length;++p)r[p]=s[p]}function Fo(r,s,p,N,k,F,G){for(var W=0,z=0;z<p;++z)for(var J=0;J<N;++J)r[W++]=s[k*z+F*J+G]}function Qc(r,s,p,N){var k=0,F={};function G(A){this.id=k++,this.buffer=r.createBuffer(),this.type=A,this.usage=Lo,this.byteLength=0,this.dimension=1,this.dtype=Gi,this.persistentData=null,p.profile&&(this.stats={size:0})}G.prototype.bind=function(){r.bindBuffer(this.type,this.buffer)},G.prototype.destroy=function(){oe(this)};var W=[];function z(A,I){var Q=W.pop();return Q||(Q=new G(A)),Q.bind(),ee(Q,I,qc,0,1,!1),Q}function J(A){W.push(A)}function te(A,I,Q){A.byteLength=I.byteLength,r.bufferData(A.type,I,Q)}function ee(A,I,Q,be,X,pe){var he;if(A.usage=Q,Array.isArray(I)){if(A.dtype=be||Pi,I.length>0){var Ce;if(Array.isArray(I[0])){he=Co(I);for(var U=1,M=1;M<he.length;++M)U*=he[M];A.dimension=U,Ce=Ii(I,he,A.dtype),te(A,Ce,Q),pe?A.persistentData=Ce:Ot.freeType(Ce)}else if(typeof I[0]=="number"){A.dimension=X;var Ee=Ot.allocType(A.dtype,I.length);Ro(Ee,I),te(A,Ee,Q),pe?A.persistentData=Ee:Ot.freeType(Ee)}else n(I[0])?(A.dimension=I[0].length,A.dtype=be||Fa(I[0])||Pi,Ce=Ii(I,[I.length,I[0].length],A.dtype),te(A,Ce,Q),pe?A.persistentData=Ce:Ot.freeType(Ce)):i.raise("invalid buffer data")}}else if(n(I))A.dtype=be||Fa(I),A.dimension=X,te(A,I,Q),pe&&(A.persistentData=new Uint8Array(new Uint8Array(I.buffer)));else if(vr(I)){he=I.shape;var ue=I.stride,q=I.offset,le=0,ce=0,Me=0,Be=0;he.length===1?(le=he[0],ce=1,Me=ue[0],Be=0):he.length===2?(le=he[0],ce=he[1],Me=ue[0],Be=ue[1]):i.raise("invalid shape"),A.dtype=be||Fa(I.data)||Pi,A.dimension=ce;var me=Ot.allocType(A.dtype,le*ce);Fo(me,I.data,le,ce,Me,Be,q),te(A,me,Q),pe?A.persistentData=me:Ot.freeType(me)}else I instanceof ArrayBuffer?(A.dtype=Gi,A.dimension=X,te(A,I,Q),pe&&(A.persistentData=new Uint8Array(new Uint8Array(I)))):i.raise("invalid buffer data")}function oe(A){s.bufferCount--,N(A);var I=A.buffer;i(I,"buffer must not be deleted already"),r.deleteBuffer(I),A.buffer=null,delete F[A.id]}function Y(A,I,Q,be){s.bufferCount++;var X=new G(I);F[X.id]=X;function pe(U){var M=Lo,Ee=null,ue=0,q=0,le=1;return Array.isArray(U)||n(U)||vr(U)||U instanceof ArrayBuffer?Ee=U:typeof U=="number"?ue=U|0:U&&(i.type(U,"object","buffer arguments must be an object, a number or an array"),"data"in U&&(i(Ee===null||Array.isArray(Ee)||n(Ee)||vr(Ee),"invalid data for buffer"),Ee=U.data),"usage"in U&&(i.parameter(U.usage,Ra,"invalid buffer usage"),M=Ra[U.usage]),"type"in U&&(i.parameter(U.type,rn,"invalid buffer type"),q=rn[U.type]),"dimension"in U&&(i.type(U.dimension,"number","invalid dimension"),le=U.dimension|0),"length"in U&&(i.nni(ue,"buffer length must be a nonnegative integer"),ue=U.length|0)),X.bind(),Ee?ee(X,Ee,M,q,le,be):(ue&&r.bufferData(X.type,ue,M),X.dtype=q||Gi,X.usage=M,X.dimension=le,X.byteLength=ue),p.profile&&(X.stats.size=X.byteLength*Hr[X.dtype]),pe}function he(U,M){i(M+U.byteLength<=X.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+U.byteLength+" starting from offset "+M+" to a buffer of size "+X.byteLength),r.bufferSubData(X.type,M,U)}function Ce(U,M){var Ee=(M||0)|0,ue;if(X.bind(),n(U)||U instanceof ArrayBuffer)he(U,Ee);else if(Array.isArray(U)){if(U.length>0)if(typeof U[0]=="number"){var q=Ot.allocType(X.dtype,U.length);Ro(q,U),he(q,Ee),Ot.freeType(q)}else if(Array.isArray(U[0])||n(U[0])){ue=Co(U);var le=Ii(U,ue,X.dtype);he(le,Ee),Ot.freeType(le)}else i.raise("invalid buffer data")}else if(vr(U)){ue=U.shape;var ce=U.stride,Me=0,Be=0,me=0,ve=0;ue.length===1?(Me=ue[0],Be=1,me=ce[0],ve=0):ue.length===2?(Me=ue[0],Be=ue[1],me=ce[0],ve=ce[1]):i.raise("invalid shape");var De=Array.isArray(U.data)?X.dtype:Fa(U.data),ke=Ot.allocType(De,Me*Be);Fo(ke,U.data,Me,Be,me,ve,U.offset),he(ke,Ee),Ot.freeType(ke)}else i.raise("invalid data for buffer subdata");return pe}return Q||pe(A),pe._reglType="buffer",pe._buffer=X,pe.subdata=Ce,p.profile&&(pe.stats=X.stats),pe.destroy=function(){oe(X)},pe}function Z(){fr(F).forEach(function(A){A.buffer=r.createBuffer(),r.bindBuffer(A.type,A.buffer),r.bufferData(A.type,A.persistentData||A.byteLength,A.usage)})}return p.profile&&(s.getTotalBufferSize=function(){var A=0;return Object.keys(F).forEach(function(I){A+=F[I].stats.size}),A}),{create:Y,createStream:z,destroyStream:J,clear:function(){fr(F).forEach(oe),W.forEach(oe)},getBuffer:function(A){return A&&A._buffer instanceof G?A._buffer:null},restore:Z,_initBuffer:ee}}var Zc=0,Jc=0,ed=1,td=1,rd=4,nd=4,$r={points:Zc,point:Jc,lines:ed,line:td,triangles:rd,triangle:nd,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ad=0,id=1,Jn=4,fd=5120,wn=5121,No=5122,On=5123,Do=5124,nn=5125,Bi=34963,od=35040,sd=35044;function ud(r,s,p,N){var k={},F=0,G={uint8:wn,uint16:On};s.oes_element_index_uint&&(G.uint32=nn);function W(Z){this.id=F++,k[this.id]=this,this.buffer=Z,this.primType=Jn,this.vertCount=0,this.type=0}W.prototype.bind=function(){this.buffer.bind()};var z=[];function J(Z){var A=z.pop();return A||(A=new W(p.create(null,Bi,!0,!1)._buffer)),ee(A,Z,od,-1,-1,0,0),A}function te(Z){z.push(Z)}function ee(Z,A,I,Q,be,X,pe){Z.buffer.bind();var he;if(A){var Ce=pe;!pe&&(!n(A)||vr(A)&&!n(A.data))&&(Ce=s.oes_element_index_uint?nn:On),p._initBuffer(Z.buffer,A,I,Ce,3)}else r.bufferData(Bi,X,I),Z.buffer.dtype=he||wn,Z.buffer.usage=I,Z.buffer.dimension=3,Z.buffer.byteLength=X;if(he=pe,!pe){switch(Z.buffer.dtype){case wn:case fd:he=wn;break;case On:case No:he=On;break;case nn:case Do:he=nn;break;default:i.raise("unsupported type for element array")}Z.buffer.dtype=he}Z.type=he,i(he!==nn||!!s.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var U=be;U<0&&(U=Z.buffer.byteLength,he===On?U>>=1:he===nn&&(U>>=2)),Z.vertCount=U;var M=Q;if(Q<0){M=Jn;var Ee=Z.buffer.dimension;Ee===1&&(M=ad),Ee===2&&(M=id),Ee===3&&(M=Jn)}Z.primType=M}function oe(Z){N.elementsCount--,i(Z.buffer!==null,"must not double destroy elements"),delete k[Z.id],Z.buffer.destroy(),Z.buffer=null}function Y(Z,A){var I=p.create(null,Bi,!0),Q=new W(I._buffer);N.elementsCount++;function be(X){if(!X)I(),Q.primType=Jn,Q.vertCount=0,Q.type=wn;else if(typeof X=="number")I(X),Q.primType=Jn,Q.vertCount=X|0,Q.type=wn;else{var pe=null,he=sd,Ce=-1,U=-1,M=0,Ee=0;Array.isArray(X)||n(X)||vr(X)?pe=X:(i.type(X,"object","invalid arguments for elements"),"data"in X&&(pe=X.data,i(Array.isArray(pe)||n(pe)||vr(pe),"invalid data for element buffer")),"usage"in X&&(i.parameter(X.usage,Ra,"invalid element buffer usage"),he=Ra[X.usage]),"primitive"in X&&(i.parameter(X.primitive,$r,"invalid element buffer primitive"),Ce=$r[X.primitive]),"count"in X&&(i(typeof X.count=="number"&&X.count>=0,"invalid vertex count for elements"),U=X.count|0),"type"in X&&(i.parameter(X.type,G,"invalid buffer type"),Ee=G[X.type]),"length"in X?M=X.length|0:(M=U,Ee===On||Ee===No?M*=2:(Ee===nn||Ee===Do)&&(M*=4))),ee(Q,pe,he,Ce,U,M,Ee)}return be}return be(Z),be._reglType="elements",be._elements=Q,be.subdata=function(X,pe){return I.subdata(X,pe),be},be.destroy=function(){oe(Q)},be}return{create:Y,createStream:J,destroyStream:te,getElements:function(Z){return typeof Z=="function"&&Z._elements instanceof W?Z._elements:null},clear:function(){fr(k).forEach(oe)}}}var Io=new Float32Array(1),ld=new Uint32Array(Io.buffer),cd=5123;function Go(r){for(var s=Ot.allocType(cd,r.length),p=0;p<r.length;++p)if(isNaN(r[p]))s[p]=65535;else if(r[p]===1/0)s[p]=31744;else if(r[p]===-1/0)s[p]=64512;else{Io[0]=r[p];var N=ld[0],k=N>>>31<<15,F=(N<<1>>>24)-127,G=N>>13&(1<<10)-1;if(F<-24)s[p]=k;else if(F<-14){var W=-14-F;s[p]=k+(G+(1<<10)>>W)}else F>15?s[p]=k+31744:s[p]=k+(F+15<<10)+G}return s}function yt(r){return Array.isArray(r)||n(r)}var Po=function(r){return!(r&r-1)&&!!r},dd=34467,Ar=3553,Mi=34067,Na=34069,an=6408,ki=6406,Da=6407,ea=6409,Ia=6410,Bo=32854,Ui=32855,Mo=36194,hd=32819,md=32820,pd=33635,vd=34042,ji=6402,Ga=34041,Hi=35904,$i=35906,Cn=36193,Vi=33776,Xi=33777,zi=33778,Wi=33779,ko=35986,Uo=35987,jo=34798,Ho=35840,$o=35841,Vo=35842,Xo=35843,zo=36196,Ln=5121,Yi=5123,Ki=5125,ta=5126,bd=10242,_d=10243,yd=10497,qi=33071,gd=33648,Ed=10240,xd=10241,Qi=9728,Td=9729,Zi=9984,Wo=9985,Yo=9986,Ji=9987,Ad=33170,Pa=4352,Sd=4353,wd=4354,Od=34046,Cd=3317,Ld=37440,Rd=37441,Fd=37443,Ko=37444,ra=33984,Nd=[Zi,Yo,Wo,Ji],Ba=[0,ea,Ia,Da,an],lr={};lr[ea]=lr[ki]=lr[ji]=1,lr[Ga]=lr[Ia]=2,lr[Da]=lr[Hi]=3,lr[an]=lr[$i]=4;function Rn(r){return"[object "+r+"]"}var qo=Rn("HTMLCanvasElement"),Qo=Rn("OffscreenCanvas"),Zo=Rn("CanvasRenderingContext2D"),Jo=Rn("ImageBitmap"),es=Rn("HTMLImageElement"),ts=Rn("HTMLVideoElement"),Dd=Object.keys(Di).concat([qo,Qo,Zo,Jo,es,ts]),Fn=[];Fn[Ln]=1,Fn[ta]=4,Fn[Cn]=2,Fn[Yi]=2,Fn[Ki]=4;var Bt=[];Bt[Bo]=2,Bt[Ui]=2,Bt[Mo]=2,Bt[Ga]=4,Bt[Vi]=.5,Bt[Xi]=.5,Bt[zi]=1,Bt[Wi]=1,Bt[ko]=.5,Bt[Uo]=1,Bt[jo]=1,Bt[Ho]=.5,Bt[$o]=.25,Bt[Vo]=.5,Bt[Xo]=.25,Bt[zo]=.5;function rs(r){return Array.isArray(r)&&(r.length===0||typeof r[0]=="number")}function ns(r){if(!Array.isArray(r))return!1;var s=r.length;return!(s===0||!yt(r[0]))}function fn(r){return Object.prototype.toString.call(r)}function as(r){return fn(r)===qo}function is(r){return fn(r)===Qo}function Id(r){return fn(r)===Zo}function Gd(r){return fn(r)===Jo}function Pd(r){return fn(r)===es}function Bd(r){return fn(r)===ts}function ef(r){if(!r)return!1;var s=fn(r);return Dd.indexOf(s)>=0?!0:rs(r)||ns(r)||vr(r)}function fs(r){return Di[Object.prototype.toString.call(r)]|0}function Md(r,s){var p=s.length;switch(r.type){case Ln:case Yi:case Ki:case ta:var N=Ot.allocType(r.type,p);N.set(s),r.data=N;break;case Cn:r.data=Go(s);break;default:i.raise("unsupported texture type, must specify a typed array")}}function os(r,s){return Ot.allocType(r.type===Cn?ta:r.type,s)}function ss(r,s){r.type===Cn?(r.data=Go(s),Ot.freeType(s)):r.data=s}function kd(r,s,p,N,k,F){for(var G=r.width,W=r.height,z=r.channels,J=G*W*z,te=os(r,J),ee=0,oe=0;oe<W;++oe)for(var Y=0;Y<G;++Y)for(var Z=0;Z<z;++Z)te[ee++]=s[p*Y+N*oe+k*Z+F];ss(r,te)}function Ma(r,s,p,N,k,F){var G;if(typeof Bt[r]!="undefined"?G=Bt[r]:G=lr[r]*Fn[s],F&&(G*=6),k){for(var W=0,z=p;z>=1;)W+=G*z*z,z/=2;return W}else return G*p*N}function Ud(r,s,p,N,k,F,G){var W={"don't care":Pa,"dont care":Pa,nice:wd,fast:Sd},z={repeat:yd,clamp:qi,mirror:gd},J={nearest:Qi,linear:Td},te=a({mipmap:Ji,"nearest mipmap nearest":Zi,"linear mipmap nearest":Wo,"nearest mipmap linear":Yo,"linear mipmap linear":Ji},J),ee={none:0,browser:Ko},oe={uint8:Ln,rgba4:hd,rgb565:pd,"rgb5 a1":md},Y={alpha:ki,luminance:ea,"luminance alpha":Ia,rgb:Da,rgba:an,rgba4:Bo,"rgb5 a1":Ui,rgb565:Mo},Z={};s.ext_srgb&&(Y.srgb=Hi,Y.srgba=$i),s.oes_texture_float&&(oe.float32=oe.float=ta),s.oes_texture_half_float&&(oe.float16=oe["half float"]=Cn),s.webgl_depth_texture&&(a(Y,{depth:ji,"depth stencil":Ga}),a(oe,{uint16:Yi,uint32:Ki,"depth stencil":vd})),s.webgl_compressed_texture_s3tc&&a(Z,{"rgb s3tc dxt1":Vi,"rgba s3tc dxt1":Xi,"rgba s3tc dxt3":zi,"rgba s3tc dxt5":Wi}),s.webgl_compressed_texture_atc&&a(Z,{"rgb atc":ko,"rgba atc explicit alpha":Uo,"rgba atc interpolated alpha":jo}),s.webgl_compressed_texture_pvrtc&&a(Z,{"rgb pvrtc 4bppv1":Ho,"rgb pvrtc 2bppv1":$o,"rgba pvrtc 4bppv1":Vo,"rgba pvrtc 2bppv1":Xo}),s.webgl_compressed_texture_etc1&&(Z["rgb etc1"]=zo);var A=Array.prototype.slice.call(r.getParameter(dd));Object.keys(Z).forEach(function(h){var D=Z[h];A.indexOf(D)>=0&&(Y[h]=D)});var I=Object.keys(Y);p.textureFormats=I;var Q=[];Object.keys(Y).forEach(function(h){var D=Y[h];Q[D]=h});var be=[];Object.keys(oe).forEach(function(h){var D=oe[h];be[D]=h});var X=[];Object.keys(J).forEach(function(h){var D=J[h];X[D]=h});var pe=[];Object.keys(te).forEach(function(h){var D=te[h];pe[D]=h});var he=[];Object.keys(z).forEach(function(h){var D=z[h];he[D]=h});var Ce=I.reduce(function(h,D){var L=Y[D];return L===ea||L===ki||L===ea||L===Ia||L===ji||L===Ga||s.ext_srgb&&(L===Hi||L===$i)?h[L]=L:L===Ui||D.indexOf("rgba")>=0?h[L]=an:h[L]=Da,h},{});function U(){this.internalformat=an,this.format=an,this.type=Ln,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ko,this.width=0,this.height=0,this.channels=0}function M(h,D){h.internalformat=D.internalformat,h.format=D.format,h.type=D.type,h.compressed=D.compressed,h.premultiplyAlpha=D.premultiplyAlpha,h.flipY=D.flipY,h.unpackAlignment=D.unpackAlignment,h.colorSpace=D.colorSpace,h.width=D.width,h.height=D.height,h.channels=D.channels}function Ee(h,D){if(!(typeof D!="object"||!D)){if("premultiplyAlpha"in D&&(i.type(D.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),h.premultiplyAlpha=D.premultiplyAlpha),"flipY"in D&&(i.type(D.flipY,"boolean","invalid texture flip"),h.flipY=D.flipY),"alignment"in D&&(i.oneOf(D.alignment,[1,2,4,8],"invalid texture unpack alignment"),h.unpackAlignment=D.alignment),"colorSpace"in D&&(i.parameter(D.colorSpace,ee,"invalid colorSpace"),h.colorSpace=ee[D.colorSpace]),"type"in D){var L=D.type;i(s.oes_texture_float||!(L==="float"||L==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),i(s.oes_texture_half_float||!(L==="half float"||L==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),i(s.webgl_depth_texture||!(L==="uint16"||L==="uint32"||L==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),i.parameter(L,oe,"invalid texture type"),h.type=oe[L]}var ge=h.width,Ve=h.height,l=h.channels,f=!1;"shape"in D?(i(Array.isArray(D.shape)&&D.shape.length>=2,"shape must be an array"),ge=D.shape[0],Ve=D.shape[1],D.shape.length===3&&(l=D.shape[2],i(l>0&&l<=4,"invalid number of channels"),f=!0),i(ge>=0&&ge<=p.maxTextureSize,"invalid width"),i(Ve>=0&&Ve<=p.maxTextureSize,"invalid height")):("radius"in D&&(ge=Ve=D.radius,i(ge>=0&&ge<=p.maxTextureSize,"invalid radius")),"width"in D&&(ge=D.width,i(ge>=0&&ge<=p.maxTextureSize,"invalid width")),"height"in D&&(Ve=D.height,i(Ve>=0&&Ve<=p.maxTextureSize,"invalid height")),"channels"in D&&(l=D.channels,i(l>0&&l<=4,"invalid number of channels"),f=!0)),h.width=ge|0,h.height=Ve|0,h.channels=l|0;var b=!1;if("format"in D){var T=D.format;i(s.webgl_depth_texture||!(T==="depth"||T==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),i.parameter(T,Y,"invalid texture format");var S=h.internalformat=Y[T];h.format=Ce[S],T in oe&&("type"in D||(h.type=oe[T])),T in Z&&(h.compressed=!0),b=!0}!f&&b?h.channels=lr[h.format]:f&&!b?h.channels!==Ba[h.format]&&(h.format=h.internalformat=Ba[h.channels]):b&&f&&i(h.channels===lr[h.format],"number of channels inconsistent with specified format")}}function ue(h){r.pixelStorei(Ld,h.flipY),r.pixelStorei(Rd,h.premultiplyAlpha),r.pixelStorei(Fd,h.colorSpace),r.pixelStorei(Cd,h.unpackAlignment)}function q(){U.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function le(h,D){var L=null;if(ef(D)?L=D:D&&(i.type(D,"object","invalid pixel data type"),Ee(h,D),"x"in D&&(h.xOffset=D.x|0),"y"in D&&(h.yOffset=D.y|0),ef(D.data)&&(L=D.data)),i(!h.compressed||L instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),D.copy){i(!L,"can not specify copy and data field for the same texture");var ge=k.viewportWidth,Ve=k.viewportHeight;h.width=h.width||ge-h.xOffset,h.height=h.height||Ve-h.yOffset,h.needsCopy=!0,i(h.xOffset>=0&&h.xOffset<ge&&h.yOffset>=0&&h.yOffset<Ve&&h.width>0&&h.width<=ge&&h.height>0&&h.height<=Ve,"copy texture read out of bounds")}else if(!L)h.width=h.width||1,h.height=h.height||1,h.channels=h.channels||4;else if(n(L))h.channels=h.channels||4,h.data=L,!("type"in D)&&h.type===Ln&&(h.type=fs(L));else if(rs(L))h.channels=h.channels||4,Md(h,L),h.alignment=1,h.needsFree=!0;else if(vr(L)){var l=L.data;!Array.isArray(l)&&h.type===Ln&&(h.type=fs(l));var f=L.shape,b=L.stride,T,S,g,y,x,c;f.length===3?(g=f[2],c=b[2]):(i(f.length===2,"invalid ndarray pixel data, must be 2 or 3D"),g=1,c=1),T=f[0],S=f[1],y=b[0],x=b[1],h.alignment=1,h.width=T,h.height=S,h.channels=g,h.format=h.internalformat=Ba[g],h.needsFree=!0,kd(h,l,y,x,c,L.offset)}else if(as(L)||is(L)||Id(L))as(L)||is(L)?h.element=L:h.element=L.canvas,h.width=h.element.width,h.height=h.element.height,h.channels=4;else if(Gd(L))h.element=L,h.width=L.width,h.height=L.height,h.channels=4;else if(Pd(L))h.element=L,h.width=L.naturalWidth,h.height=L.naturalHeight,h.channels=4;else if(Bd(L))h.element=L,h.width=L.videoWidth,h.height=L.videoHeight,h.channels=4;else if(ns(L)){var m=h.width||L[0].length,d=h.height||L.length,C=h.channels;yt(L[0][0])?C=C||L[0][0].length:C=C||1;for(var w=La.shape(L),B=1,j=0;j<w.length;++j)B*=w[j];var ie=os(h,B);La.flatten(L,w,"",ie),ss(h,ie),h.alignment=1,h.width=m,h.height=d,h.channels=C,h.format=h.internalformat=Ba[C],h.needsFree=!0}h.type===ta?i(p.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):h.type===Cn&&i(p.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function ce(h,D,L){var ge=h.element,Ve=h.data,l=h.internalformat,f=h.format,b=h.type,T=h.width,S=h.height;ue(h),ge?r.texImage2D(D,L,f,f,b,ge):h.compressed?r.compressedTexImage2D(D,L,l,T,S,0,Ve):h.needsCopy?(N(),r.copyTexImage2D(D,L,f,h.xOffset,h.yOffset,T,S,0)):r.texImage2D(D,L,f,T,S,0,f,b,Ve||null)}function Me(h,D,L,ge,Ve){var l=h.element,f=h.data,b=h.internalformat,T=h.format,S=h.type,g=h.width,y=h.height;ue(h),l?r.texSubImage2D(D,Ve,L,ge,T,S,l):h.compressed?r.compressedTexSubImage2D(D,Ve,L,ge,b,g,y,f):h.needsCopy?(N(),r.copyTexSubImage2D(D,Ve,L,ge,h.xOffset,h.yOffset,g,y)):r.texSubImage2D(D,Ve,L,ge,g,y,T,S,f)}var Be=[];function me(){return Be.pop()||new q}function ve(h){h.needsFree&&Ot.freeType(h.data),q.call(h),Be.push(h)}function De(){U.call(this),this.genMipmaps=!1,this.mipmapHint=Pa,this.mipmask=0,this.images=Array(16)}function ke(h,D,L){var ge=h.images[0]=me();h.mipmask=1,ge.width=h.width=D,ge.height=h.height=L,ge.channels=h.channels=4}function Xe(h,D){var L=null;if(ef(D))L=h.images[0]=me(),M(L,h),le(L,D),h.mipmask=1;else if(Ee(h,D),Array.isArray(D.mipmap))for(var ge=D.mipmap,Ve=0;Ve<ge.length;++Ve)L=h.images[Ve]=me(),M(L,h),L.width>>=Ve,L.height>>=Ve,le(L,ge[Ve]),h.mipmask|=1<<Ve;else L=h.images[0]=me(),M(L,h),le(L,D),h.mipmask=1;M(h,h.images[0]),h.compressed&&(h.internalformat===Vi||h.internalformat===Xi||h.internalformat===zi||h.internalformat===Wi)&&i(h.width%4===0&&h.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function gt(h,D){for(var L=h.images,ge=0;ge<L.length;++ge){if(!L[ge])return;ce(L[ge],D,ge)}}var Tt=[];function Ye(){var h=Tt.pop()||new De;U.call(h),h.mipmask=0;for(var D=0;D<16;++D)h.images[D]=null;return h}function Rt(h){for(var D=h.images,L=0;L<D.length;++L)D[L]&&ve(D[L]),D[L]=null;Tt.push(h)}function bt(){this.minFilter=Qi,this.magFilter=Qi,this.wrapS=qi,this.wrapT=qi,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Pa}function Lt(h,D){if("min"in D){var L=D.min;i.parameter(L,te),h.minFilter=te[L],Nd.indexOf(h.minFilter)>=0&&!("faces"in D)&&(h.genMipmaps=!0)}if("mag"in D){var ge=D.mag;i.parameter(ge,J),h.magFilter=J[ge]}var Ve=h.wrapS,l=h.wrapT;if("wrap"in D){var f=D.wrap;typeof f=="string"?(i.parameter(f,z),Ve=l=z[f]):Array.isArray(f)&&(i.parameter(f[0],z),i.parameter(f[1],z),Ve=z[f[0]],l=z[f[1]])}else{if("wrapS"in D){var b=D.wrapS;i.parameter(b,z),Ve=z[b]}if("wrapT"in D){var T=D.wrapT;i.parameter(T,z),l=z[T]}}if(h.wrapS=Ve,h.wrapT=l,"anisotropic"in D){var S=D.anisotropic;i(typeof S=="number"&&S>=1&&S<=p.maxAnisotropic,"aniso samples must be between 1 and "),h.anisotropic=D.anisotropic}if("mipmap"in D){var g=!1;switch(typeof D.mipmap){case"string":i.parameter(D.mipmap,W,"invalid mipmap hint"),h.mipmapHint=W[D.mipmap],h.genMipmaps=!0,g=!0;break;case"boolean":g=h.genMipmaps=D.mipmap;break;case"object":i(Array.isArray(D.mipmap),"invalid mipmap type"),h.genMipmaps=!1,g=!0;break;default:i.raise("invalid mipmap type")}g&&!("min"in D)&&(h.minFilter=Zi)}}function Ft(h,D){r.texParameteri(D,xd,h.minFilter),r.texParameteri(D,Ed,h.magFilter),r.texParameteri(D,bd,h.wrapS),r.texParameteri(D,_d,h.wrapT),s.ext_texture_filter_anisotropic&&r.texParameteri(D,Od,h.anisotropic),h.genMipmaps&&(r.hint(Ad,h.mipmapHint),r.generateMipmap(D))}var Nt=0,Gt={},Mt=p.maxTextureUnits,St=Array(Mt).map(function(){return null});function He(h){U.call(this),this.mipmask=0,this.internalformat=an,this.id=Nt++,this.refCount=1,this.target=h,this.texture=r.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new bt,G.profile&&(this.stats={size:0})}function kt(h){r.activeTexture(ra),r.bindTexture(h.target,h.texture)}function nt(){var h=St[0];h?r.bindTexture(h.target,h.texture):r.bindTexture(Ar,null)}function Ne(h){var D=h.texture;i(D,"must not double destroy texture");var L=h.unit,ge=h.target;L>=0&&(r.activeTexture(ra+L),r.bindTexture(ge,null),St[L]=null),r.deleteTexture(D),h.texture=null,h.params=null,h.pixels=null,h.refCount=0,delete Gt[h.id],F.textureCount--}a(He.prototype,{bind:function(){var h=this;h.bindCount+=1;var D=h.unit;if(D<0){for(var L=0;L<Mt;++L){var ge=St[L];if(ge){if(ge.bindCount>0)continue;ge.unit=-1}St[L]=h,D=L;break}D>=Mt&&i.raise("insufficient number of texture units"),G.profile&&F.maxTextureUnits<D+1&&(F.maxTextureUnits=D+1),h.unit=D,r.activeTexture(ra+D),r.bindTexture(h.target,h.texture)}return D},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Ne(this)}});function ze(h,D){var L=new He(Ar);Gt[L.id]=L,F.textureCount++;function ge(f,b){var T=L.texInfo;bt.call(T);var S=Ye();return typeof f=="number"?typeof b=="number"?ke(S,f|0,b|0):ke(S,f|0,f|0):f?(i.type(f,"object","invalid arguments to regl.texture"),Lt(T,f),Xe(S,f)):ke(S,1,1),T.genMipmaps&&(S.mipmask=(S.width<<1)-1),L.mipmask=S.mipmask,M(L,S),i.texture2D(T,S,p),L.internalformat=S.internalformat,ge.width=S.width,ge.height=S.height,kt(L),gt(S,Ar),Ft(T,Ar),nt(),Rt(S),G.profile&&(L.stats.size=Ma(L.internalformat,L.type,S.width,S.height,T.genMipmaps,!1)),ge.format=Q[L.internalformat],ge.type=be[L.type],ge.mag=X[T.magFilter],ge.min=pe[T.minFilter],ge.wrapS=he[T.wrapS],ge.wrapT=he[T.wrapT],ge}function Ve(f,b,T,S){i(!!f,"must specify image data");var g=b|0,y=T|0,x=S|0,c=me();return M(c,L),c.width=0,c.height=0,le(c,f),c.width=c.width||(L.width>>x)-g,c.height=c.height||(L.height>>x)-y,i(L.type===c.type&&L.format===c.format&&L.internalformat===c.internalformat,"incompatible format for texture.subimage"),i(g>=0&&y>=0&&g+c.width<=L.width&&y+c.height<=L.height,"texture.subimage write out of bounds"),i(L.mipmask&1<<x,"missing mipmap data"),i(c.data||c.element||c.needsCopy,"missing image data"),kt(L),Me(c,Ar,g,y,x),nt(),ve(c),ge}function l(f,b){var T=f|0,S=b|0||T;if(T===L.width&&S===L.height)return ge;ge.width=L.width=T,ge.height=L.height=S,kt(L);for(var g=0;L.mipmask>>g;++g){var y=T>>g,x=S>>g;if(!y||!x)break;r.texImage2D(Ar,g,L.format,y,x,0,L.format,L.type,null)}return nt(),G.profile&&(L.stats.size=Ma(L.internalformat,L.type,T,S,!1,!1)),ge}return ge(h,D),ge.subimage=Ve,ge.resize=l,ge._reglType="texture2d",ge._texture=L,G.profile&&(ge.stats=L.stats),ge.destroy=function(){L.decRef()},ge}function Je(h,D,L,ge,Ve,l){var f=new He(Mi);Gt[f.id]=f,F.cubeCount++;var b=new Array(6);function T(y,x,c,m,d,C){var w,B=f.texInfo;for(bt.call(B),w=0;w<6;++w)b[w]=Ye();if(typeof y=="number"||!y){var j=y|0||1;for(w=0;w<6;++w)ke(b[w],j,j)}else if(typeof y=="object")if(x)Xe(b[0],y),Xe(b[1],x),Xe(b[2],c),Xe(b[3],m),Xe(b[4],d),Xe(b[5],C);else if(Lt(B,y),Ee(f,y),"faces"in y){var ie=y.faces;for(i(Array.isArray(ie)&&ie.length===6,"cube faces must be a length 6 array"),w=0;w<6;++w)i(typeof ie[w]=="object"&&!!ie[w],"invalid input for cube map face"),M(b[w],f),Xe(b[w],ie[w])}else for(w=0;w<6;++w)Xe(b[w],y);else i.raise("invalid arguments to cube map");for(M(f,b[0]),i.optional(function(){p.npotTextureCube||i(Po(f.width)&&Po(f.height),"your browser does not support non power or two texture dimensions")}),B.genMipmaps?f.mipmask=(b[0].width<<1)-1:f.mipmask=b[0].mipmask,i.textureCube(f,B,b,p),f.internalformat=b[0].internalformat,T.width=b[0].width,T.height=b[0].height,kt(f),w=0;w<6;++w)gt(b[w],Na+w);for(Ft(B,Mi),nt(),G.profile&&(f.stats.size=Ma(f.internalformat,f.type,T.width,T.height,B.genMipmaps,!0)),T.format=Q[f.internalformat],T.type=be[f.type],T.mag=X[B.magFilter],T.min=pe[B.minFilter],T.wrapS=he[B.wrapS],T.wrapT=he[B.wrapT],w=0;w<6;++w)Rt(b[w]);return T}function S(y,x,c,m,d){i(!!x,"must specify image data"),i(typeof y=="number"&&y===(y|0)&&y>=0&&y<6,"invalid face");var C=c|0,w=m|0,B=d|0,j=me();return M(j,f),j.width=0,j.height=0,le(j,x),j.width=j.width||(f.width>>B)-C,j.height=j.height||(f.height>>B)-w,i(f.type===j.type&&f.format===j.format&&f.internalformat===j.internalformat,"incompatible format for texture.subimage"),i(C>=0&&w>=0&&C+j.width<=f.width&&w+j.height<=f.height,"texture.subimage write out of bounds"),i(f.mipmask&1<<B,"missing mipmap data"),i(j.data||j.element||j.needsCopy,"missing image data"),kt(f),Me(j,Na+y,C,w,B),nt(),ve(j),T}function g(y){var x=y|0;if(x!==f.width){T.width=f.width=x,T.height=f.height=x,kt(f);for(var c=0;c<6;++c)for(var m=0;f.mipmask>>m;++m)r.texImage2D(Na+c,m,f.format,x>>m,x>>m,0,f.format,f.type,null);return nt(),G.profile&&(f.stats.size=Ma(f.internalformat,f.type,T.width,T.height,!1,!0)),T}}return T(h,D,L,ge,Ve,l),T.subimage=S,T.resize=g,T._reglType="textureCube",T._texture=f,G.profile&&(T.stats=f.stats),T.destroy=function(){f.decRef()},T}function wt(){for(var h=0;h<Mt;++h)r.activeTexture(ra+h),r.bindTexture(Ar,null),St[h]=null;fr(Gt).forEach(Ne),F.cubeCount=0,F.textureCount=0}G.profile&&(F.getTotalTextureSize=function(){var h=0;return Object.keys(Gt).forEach(function(D){h+=Gt[D].stats.size}),h});function wr(){for(var h=0;h<Mt;++h){var D=St[h];D&&(D.bindCount=0,D.unit=-1,St[h]=null)}fr(Gt).forEach(function(L){L.texture=r.createTexture(),r.bindTexture(L.target,L.texture);for(var ge=0;ge<32;++ge)if((L.mipmask&1<<ge)!==0)if(L.target===Ar)r.texImage2D(Ar,ge,L.internalformat,L.width>>ge,L.height>>ge,0,L.internalformat,L.type,null);else for(var Ve=0;Ve<6;++Ve)r.texImage2D(Na+Ve,ge,L.internalformat,L.width>>ge,L.height>>ge,0,L.internalformat,L.type,null);Ft(L.texInfo,L.target)})}function hn(){for(var h=0;h<Mt;++h){var D=St[h];D&&(D.bindCount=0,D.unit=-1,St[h]=null),r.activeTexture(ra+h),r.bindTexture(Ar,null),r.bindTexture(Mi,null)}}return{create2D:ze,createCube:Je,clear:wt,getTexture:function(h){return null},restore:wr,refresh:hn}}var Vr=36161,ka=32854,us=32855,ls=36194,cs=33189,ds=36168,hs=34041,ms=35907,ps=34836,vs=34842,bs=34843,br=[];br[ka]=2,br[us]=2,br[ls]=2,br[cs]=2,br[ds]=1,br[hs]=4,br[ms]=4,br[ps]=16,br[vs]=8,br[bs]=6;function _s(r,s,p){return br[r]*s*p}var jd=function(r,s,p,N,k){var F={rgba4:ka,rgb565:ls,"rgb5 a1":us,depth:cs,stencil:ds,"depth stencil":hs};s.ext_srgb&&(F.srgba=ms),s.ext_color_buffer_half_float&&(F.rgba16f=vs,F.rgb16f=bs),s.webgl_color_buffer_float&&(F.rgba32f=ps);var G=[];Object.keys(F).forEach(function(Y){var Z=F[Y];G[Z]=Y});var W=0,z={};function J(Y){this.id=W++,this.refCount=1,this.renderbuffer=Y,this.format=ka,this.width=0,this.height=0,k.profile&&(this.stats={size:0})}J.prototype.decRef=function(){--this.refCount<=0&&te(this)};function te(Y){var Z=Y.renderbuffer;i(Z,"must not double destroy renderbuffer"),r.bindRenderbuffer(Vr,null),r.deleteRenderbuffer(Z),Y.renderbuffer=null,Y.refCount=0,delete z[Y.id],N.renderbufferCount--}function ee(Y,Z){var A=new J(r.createRenderbuffer());z[A.id]=A,N.renderbufferCount++;function I(be,X){var pe=0,he=0,Ce=ka;if(typeof be=="object"&&be){var U=be;if("shape"in U){var M=U.shape;i(Array.isArray(M)&&M.length>=2,"invalid renderbuffer shape"),pe=M[0]|0,he=M[1]|0}else"radius"in U&&(pe=he=U.radius|0),"width"in U&&(pe=U.width|0),"height"in U&&(he=U.height|0);"format"in U&&(i.parameter(U.format,F,"invalid renderbuffer format"),Ce=F[U.format])}else typeof be=="number"?(pe=be|0,typeof X=="number"?he=X|0:he=pe):be?i.raise("invalid arguments to renderbuffer constructor"):pe=he=1;if(i(pe>0&&he>0&&pe<=p.maxRenderbufferSize&&he<=p.maxRenderbufferSize,"invalid renderbuffer size"),!(pe===A.width&&he===A.height&&Ce===A.format))return I.width=A.width=pe,I.height=A.height=he,A.format=Ce,r.bindRenderbuffer(Vr,A.renderbuffer),r.renderbufferStorage(Vr,Ce,pe,he),i(r.getError()===0,"invalid render buffer format"),k.profile&&(A.stats.size=_s(A.format,A.width,A.height)),I.format=G[A.format],I}function Q(be,X){var pe=be|0,he=X|0||pe;return pe===A.width&&he===A.height||(i(pe>0&&he>0&&pe<=p.maxRenderbufferSize&&he<=p.maxRenderbufferSize,"invalid renderbuffer size"),I.width=A.width=pe,I.height=A.height=he,r.bindRenderbuffer(Vr,A.renderbuffer),r.renderbufferStorage(Vr,A.format,pe,he),i(r.getError()===0,"invalid render buffer format"),k.profile&&(A.stats.size=_s(A.format,A.width,A.height))),I}return I(Y,Z),I.resize=Q,I._reglType="renderbuffer",I._renderbuffer=A,k.profile&&(I.stats=A.stats),I.destroy=function(){A.decRef()},I}k.profile&&(N.getTotalRenderbufferSize=function(){var Y=0;return Object.keys(z).forEach(function(Z){Y+=z[Z].stats.size}),Y});function oe(){fr(z).forEach(function(Y){Y.renderbuffer=r.createRenderbuffer(),r.bindRenderbuffer(Vr,Y.renderbuffer),r.renderbufferStorage(Vr,Y.format,Y.width,Y.height)}),r.bindRenderbuffer(Vr,null)}return{create:ee,clear:function(){fr(z).forEach(te)},restore:oe}},Nr=36160,tf=36161,on=3553,Ua=34069,ys=36064,gs=36096,Es=36128,xs=33306,Ts=36053,Hd=36054,$d=36055,Vd=36057,Xd=36061,zd=36193,Wd=5121,Yd=5126,As=6407,Ss=6408,Kd=6402,qd=[As,Ss],rf=[];rf[Ss]=4,rf[As]=3;var ja=[];ja[Wd]=1,ja[Yd]=4,ja[zd]=2;var Qd=32854,Zd=32855,Jd=36194,eh=33189,th=36168,ws=34041,rh=35907,nh=34836,ah=34842,ih=34843,fh=[Qd,Zd,Jd,rh,ah,ih,nh],Nn={};Nn[Ts]="complete",Nn[Hd]="incomplete attachment",Nn[Vd]="incomplete dimensions",Nn[$d]="incomplete, missing attachment",Nn[Xd]="unsupported";function oh(r,s,p,N,k,F){var G={cur:null,next:null,dirty:!1,setFBO:null},W=["rgba"],z=["rgba4","rgb565","rgb5 a1"];s.ext_srgb&&z.push("srgba"),s.ext_color_buffer_half_float&&z.push("rgba16f","rgb16f"),s.webgl_color_buffer_float&&z.push("rgba32f");var J=["uint8"];s.oes_texture_half_float&&J.push("half float","float16"),s.oes_texture_float&&J.push("float","float32");function te(q,le,ce){this.target=q,this.texture=le,this.renderbuffer=ce;var Me=0,Be=0;le?(Me=le.width,Be=le.height):ce&&(Me=ce.width,Be=ce.height),this.width=Me,this.height=Be}function ee(q){q&&(q.texture&&q.texture._texture.decRef(),q.renderbuffer&&q.renderbuffer._renderbuffer.decRef())}function oe(q,le,ce){if(!!q)if(q.texture){var Me=q.texture._texture,Be=Math.max(1,Me.width),me=Math.max(1,Me.height);i(Be===le&&me===ce,"inconsistent width/height for supplied texture"),Me.refCount+=1}else{var ve=q.renderbuffer._renderbuffer;i(ve.width===le&&ve.height===ce,"inconsistent width/height for renderbuffer"),ve.refCount+=1}}function Y(q,le){le&&(le.texture?r.framebufferTexture2D(Nr,q,le.target,le.texture._texture.texture,0):r.framebufferRenderbuffer(Nr,q,tf,le.renderbuffer._renderbuffer.renderbuffer))}function Z(q){var le=on,ce=null,Me=null,Be=q;typeof q=="object"&&(Be=q.data,"target"in q&&(le=q.target|0)),i.type(Be,"function","invalid attachment data");var me=Be._reglType;return me==="texture2d"?(ce=Be,i(le===on)):me==="textureCube"?(ce=Be,i(le>=Ua&&le<Ua+6,"invalid cube map target")):me==="renderbuffer"?(Me=Be,le=tf):i.raise("invalid regl object for attachment"),new te(le,ce,Me)}function A(q,le,ce,Me,Be){if(ce){var me=N.create2D({width:q,height:le,format:Me,type:Be});return me._texture.refCount=0,new te(on,me,null)}else{var ve=k.create({width:q,height:le,format:Me});return ve._renderbuffer.refCount=0,new te(tf,null,ve)}}function I(q){return q&&(q.texture||q.renderbuffer)}function Q(q,le,ce){q&&(q.texture?q.texture.resize(le,ce):q.renderbuffer&&q.renderbuffer.resize(le,ce),q.width=le,q.height=ce)}var be=0,X={};function pe(){this.id=be++,X[this.id]=this,this.framebuffer=r.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function he(q){q.colorAttachments.forEach(ee),ee(q.depthAttachment),ee(q.stencilAttachment),ee(q.depthStencilAttachment)}function Ce(q){var le=q.framebuffer;i(le,"must not double destroy framebuffer"),r.deleteFramebuffer(le),q.framebuffer=null,F.framebufferCount--,delete X[q.id]}function U(q){var le;r.bindFramebuffer(Nr,q.framebuffer);var ce=q.colorAttachments;for(le=0;le<ce.length;++le)Y(ys+le,ce[le]);for(le=ce.length;le<p.maxColorAttachments;++le)r.framebufferTexture2D(Nr,ys+le,on,null,0);r.framebufferTexture2D(Nr,xs,on,null,0),r.framebufferTexture2D(Nr,gs,on,null,0),r.framebufferTexture2D(Nr,Es,on,null,0),Y(gs,q.depthAttachment),Y(Es,q.stencilAttachment),Y(xs,q.depthStencilAttachment);var Me=r.checkFramebufferStatus(Nr);!r.isContextLost()&&Me!==Ts&&i.raise("framebuffer configuration not supported, status = "+Nn[Me]),r.bindFramebuffer(Nr,G.next?G.next.framebuffer:null),G.cur=G.next,r.getError()}function M(q,le){var ce=new pe;F.framebufferCount++;function Me(me,ve){var De;i(G.next!==ce,"can not update framebuffer which is currently in use");var ke=0,Xe=0,gt=!0,Tt=!0,Ye=null,Rt=!0,bt="rgba",Lt="uint8",Ft=1,Nt=null,Gt=null,Mt=null,St=!1;if(typeof me=="number")ke=me|0,Xe=ve|0||ke;else if(!me)ke=Xe=1;else{i.type(me,"object","invalid arguments for framebuffer");var He=me;if("shape"in He){var kt=He.shape;i(Array.isArray(kt)&&kt.length>=2,"invalid shape for framebuffer"),ke=kt[0],Xe=kt[1]}else"radius"in He&&(ke=Xe=He.radius),"width"in He&&(ke=He.width),"height"in He&&(Xe=He.height);("color"in He||"colors"in He)&&(Ye=He.color||He.colors,Array.isArray(Ye)&&i(Ye.length===1||s.webgl_draw_buffers,"multiple render targets not supported")),Ye||("colorCount"in He&&(Ft=He.colorCount|0,i(Ft>0,"invalid color buffer count")),"colorTexture"in He&&(Rt=!!He.colorTexture,bt="rgba4"),"colorType"in He&&(Lt=He.colorType,Rt?(i(s.oes_texture_float||!(Lt==="float"||Lt==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),i(s.oes_texture_half_float||!(Lt==="half float"||Lt==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Lt==="half float"||Lt==="float16"?(i(s.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),bt="rgba16f"):(Lt==="float"||Lt==="float32")&&(i(s.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),bt="rgba32f"),i.oneOf(Lt,J,"invalid color type")),"colorFormat"in He&&(bt=He.colorFormat,W.indexOf(bt)>=0?Rt=!0:z.indexOf(bt)>=0?Rt=!1:i.optional(function(){Rt?i.oneOf(He.colorFormat,W,"invalid color format for texture"):i.oneOf(He.colorFormat,z,"invalid color format for renderbuffer")}))),("depthTexture"in He||"depthStencilTexture"in He)&&(St=!!(He.depthTexture||He.depthStencilTexture),i(!St||s.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in He&&(typeof He.depth=="boolean"?gt=He.depth:(Nt=He.depth,Tt=!1)),"stencil"in He&&(typeof He.stencil=="boolean"?Tt=He.stencil:(Gt=He.stencil,gt=!1)),"depthStencil"in He&&(typeof He.depthStencil=="boolean"?gt=Tt=He.depthStencil:(Mt=He.depthStencil,gt=!1,Tt=!1))}var nt=null,Ne=null,ze=null,Je=null;if(Array.isArray(Ye))nt=Ye.map(Z);else if(Ye)nt=[Z(Ye)];else for(nt=new Array(Ft),De=0;De<Ft;++De)nt[De]=A(ke,Xe,Rt,bt,Lt);i(s.webgl_draw_buffers||nt.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),i(nt.length<=p.maxColorAttachments,"too many color attachments, not supported"),ke=ke||nt[0].width,Xe=Xe||nt[0].height,Nt?Ne=Z(Nt):gt&&!Tt&&(Ne=A(ke,Xe,St,"depth","uint32")),Gt?ze=Z(Gt):Tt&&!gt&&(ze=A(ke,Xe,!1,"stencil","uint8")),Mt?Je=Z(Mt):!Nt&&!Gt&&Tt&&gt&&(Je=A(ke,Xe,St,"depth stencil","depth stencil")),i(!!Nt+!!Gt+!!Mt<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var wt=null;for(De=0;De<nt.length;++De)if(oe(nt[De],ke,Xe),i(!nt[De]||nt[De].texture&&qd.indexOf(nt[De].texture._texture.format)>=0||nt[De].renderbuffer&&fh.indexOf(nt[De].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+De+" is invalid"),nt[De]&&nt[De].texture){var wr=rf[nt[De].texture._texture.format]*ja[nt[De].texture._texture.type];wt===null?wt=wr:i(wt===wr,"all color attachments much have the same number of bits per pixel.")}return oe(Ne,ke,Xe),i(!Ne||Ne.texture&&Ne.texture._texture.format===Kd||Ne.renderbuffer&&Ne.renderbuffer._renderbuffer.format===eh,"invalid depth attachment for framebuffer object"),oe(ze,ke,Xe),i(!ze||ze.renderbuffer&&ze.renderbuffer._renderbuffer.format===th,"invalid stencil attachment for framebuffer object"),oe(Je,ke,Xe),i(!Je||Je.texture&&Je.texture._texture.format===ws||Je.renderbuffer&&Je.renderbuffer._renderbuffer.format===ws,"invalid depth-stencil attachment for framebuffer object"),he(ce),ce.width=ke,ce.height=Xe,ce.colorAttachments=nt,ce.depthAttachment=Ne,ce.stencilAttachment=ze,ce.depthStencilAttachment=Je,Me.color=nt.map(I),Me.depth=I(Ne),Me.stencil=I(ze),Me.depthStencil=I(Je),Me.width=ce.width,Me.height=ce.height,U(ce),Me}function Be(me,ve){i(G.next!==ce,"can not resize a framebuffer which is currently in use");var De=Math.max(me|0,1),ke=Math.max(ve|0||De,1);if(De===ce.width&&ke===ce.height)return Me;for(var Xe=ce.colorAttachments,gt=0;gt<Xe.length;++gt)Q(Xe[gt],De,ke);return Q(ce.depthAttachment,De,ke),Q(ce.stencilAttachment,De,ke),Q(ce.depthStencilAttachment,De,ke),ce.width=Me.width=De,ce.height=Me.height=ke,U(ce),Me}return Me(q,le),a(Me,{resize:Be,_reglType:"framebuffer",_framebuffer:ce,destroy:function(){Ce(ce),he(ce)},use:function(me){G.setFBO({framebuffer:Me},me)}})}function Ee(q){var le=Array(6);function ce(Be){var me;i(le.indexOf(G.next)<0,"can not update framebuffer which is currently in use");var ve={color:null},De=0,ke=null,Xe="rgba",gt="uint8",Tt=1;if(typeof Be=="number")De=Be|0;else if(!Be)De=1;else{i.type(Be,"object","invalid arguments for framebuffer");var Ye=Be;if("shape"in Ye){var Rt=Ye.shape;i(Array.isArray(Rt)&&Rt.length>=2,"invalid shape for framebuffer"),i(Rt[0]===Rt[1],"cube framebuffer must be square"),De=Rt[0]}else"radius"in Ye&&(De=Ye.radius|0),"width"in Ye?(De=Ye.width|0,"height"in Ye&&i(Ye.height===De,"must be square")):"height"in Ye&&(De=Ye.height|0);("color"in Ye||"colors"in Ye)&&(ke=Ye.color||Ye.colors,Array.isArray(ke)&&i(ke.length===1||s.webgl_draw_buffers,"multiple render targets not supported")),ke||("colorCount"in Ye&&(Tt=Ye.colorCount|0,i(Tt>0,"invalid color buffer count")),"colorType"in Ye&&(i.oneOf(Ye.colorType,J,"invalid color type"),gt=Ye.colorType),"colorFormat"in Ye&&(Xe=Ye.colorFormat,i.oneOf(Ye.colorFormat,W,"invalid color format for texture"))),"depth"in Ye&&(ve.depth=Ye.depth),"stencil"in Ye&&(ve.stencil=Ye.stencil),"depthStencil"in Ye&&(ve.depthStencil=Ye.depthStencil)}var bt;if(ke)if(Array.isArray(ke))for(bt=[],me=0;me<ke.length;++me)bt[me]=ke[me];else bt=[ke];else{bt=Array(Tt);var Lt={radius:De,format:Xe,type:gt};for(me=0;me<Tt;++me)bt[me]=N.createCube(Lt)}for(ve.color=Array(bt.length),me=0;me<bt.length;++me){var Ft=bt[me];i(typeof Ft=="function"&&Ft._reglType==="textureCube","invalid cube map"),De=De||Ft.width,i(Ft.width===De&&Ft.height===De,"invalid cube map shape"),ve.color[me]={target:Ua,data:bt[me]}}for(me=0;me<6;++me){for(var Nt=0;Nt<bt.length;++Nt)ve.color[Nt].target=Ua+me;me>0&&(ve.depth=le[0].depth,ve.stencil=le[0].stencil,ve.depthStencil=le[0].depthStencil),le[me]?le[me](ve):le[me]=M(ve)}return a(ce,{width:De,height:De,color:bt})}function Me(Be){var me,ve=Be|0;if(i(ve>0&&ve<=p.maxCubeMapSize,"invalid radius for cube fbo"),ve===ce.width)return ce;var De=ce.color;for(me=0;me<De.length;++me)De[me].resize(ve);for(me=0;me<6;++me)le[me].resize(ve);return ce.width=ce.height=ve,ce}return ce(q),a(ce,{faces:le,resize:Me,_reglType:"framebufferCube",destroy:function(){le.forEach(function(Be){Be.destroy()})}})}function ue(){G.cur=null,G.next=null,G.dirty=!0,fr(X).forEach(function(q){q.framebuffer=r.createFramebuffer(),U(q)})}return a(G,{getFramebuffer:function(q){if(typeof q=="function"&&q._reglType==="framebuffer"){var le=q._framebuffer;if(le instanceof pe)return le}return null},create:M,createCube:Ee,clear:function(){fr(X).forEach(Ce)},restore:ue})}var sh=5126,Os=34962,Ha=34963,Cs=["attributes","elements","offset","count","primitive","instances"];function nf(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=sh,this.offset=0,this.stride=0,this.divisor=0}function uh(r,s,p,N,k,F,G){for(var W=p.maxAttributes,z=new Array(W),J=0;J<W;++J)z[J]=new nf;var te=0,ee={},oe={Record:nf,scope:{},state:z,currentVAO:null,targetVAO:null,restore:Z()?he:function(){},createVAO:Ce,getVAO:I,destroyBuffer:Y,setVAO:Z()?Q:be,clear:Z()?X:function(){}};function Y(U){for(var M=0;M<z.length;++M){var Ee=z[M];Ee.buffer===U&&(r.disableVertexAttribArray(M),Ee.buffer=null)}}function Z(){return s.oes_vertex_array_object}function A(){return s.angle_instanced_arrays}function I(U){return typeof U=="function"&&U._vao?U._vao:null}function Q(U){if(U!==oe.currentVAO){var M=Z();U?M.bindVertexArrayOES(U.vao):M.bindVertexArrayOES(null),oe.currentVAO=U}}function be(U){if(U!==oe.currentVAO){if(U)U.bindAttrs();else{for(var M=A(),Ee=0;Ee<z.length;++Ee){var ue=z[Ee];ue.buffer?(r.enableVertexAttribArray(Ee),ue.buffer.bind(),r.vertexAttribPointer(Ee,ue.size,ue.type,ue.normalized,ue.stride,ue.offfset),M&&ue.divisor&&M.vertexAttribDivisorANGLE(Ee,ue.divisor)):(r.disableVertexAttribArray(Ee),r.vertexAttrib4f(Ee,ue.x,ue.y,ue.z,ue.w))}G.elements?r.bindBuffer(Ha,G.elements.buffer.buffer):r.bindBuffer(Ha,null)}oe.currentVAO=U}}function X(){fr(ee).forEach(function(U){U.destroy()})}function pe(){this.id=++te,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var U=Z();U?this.vao=U.createVertexArrayOES():this.vao=null,ee[this.id]=this,this.buffers=[]}pe.prototype.bindAttrs=function(){for(var U=A(),M=this.attributes,Ee=0;Ee<M.length;++Ee){var ue=M[Ee];ue.buffer?(r.enableVertexAttribArray(Ee),r.bindBuffer(Os,ue.buffer.buffer),r.vertexAttribPointer(Ee,ue.size,ue.type,ue.normalized,ue.stride,ue.offset),U&&ue.divisor&&U.vertexAttribDivisorANGLE(Ee,ue.divisor)):(r.disableVertexAttribArray(Ee),r.vertexAttrib4f(Ee,ue.x,ue.y,ue.z,ue.w))}for(var q=M.length;q<W;++q)r.disableVertexAttribArray(q);var le=F.getElements(this.elements);le?r.bindBuffer(Ha,le.buffer.buffer):r.bindBuffer(Ha,null)},pe.prototype.refresh=function(){var U=Z();U&&(U.bindVertexArrayOES(this.vao),this.bindAttrs(),oe.currentVAO=null,U.bindVertexArrayOES(null))},pe.prototype.destroy=function(){if(this.vao){var U=Z();this===oe.currentVAO&&(oe.currentVAO=null,U.bindVertexArrayOES(null)),U.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ee[this.id]&&(delete ee[this.id],N.vaoCount-=1)};function he(){var U=Z();U&&fr(ee).forEach(function(M){M.refresh()})}function Ce(U){var M=new pe;N.vaoCount+=1;function Ee(ue){var q;if(Array.isArray(ue))q=ue,M.elements&&M.ownsElements&&M.elements.destroy(),M.elements=null,M.ownsElements=!1,M.offset=0,M.count=0,M.instances=-1,M.primitive=4;else{if(i(typeof ue=="object","invalid arguments for create vao"),i("attributes"in ue,"must specify attributes for vao"),ue.elements){var le=ue.elements;M.ownsElements?typeof le=="function"&&le._reglType==="elements"?(M.elements.destroy(),M.ownsElements=!1):(M.elements(le),M.ownsElements=!1):F.getElements(ue.elements)?(M.elements=ue.elements,M.ownsElements=!1):(M.elements=F.create(ue.elements),M.ownsElements=!0)}else M.elements=null,M.ownsElements=!1;q=ue.attributes,M.offset=0,M.count=-1,M.instances=-1,M.primitive=4,M.elements&&(M.count=M.elements._elements.vertCount,M.primitive=M.elements._elements.primType),"offset"in ue&&(M.offset=ue.offset|0),"count"in ue&&(M.count=ue.count|0),"instances"in ue&&(M.instances=ue.instances|0),"primitive"in ue&&(i(ue.primitive in $r,"bad primitive type: "+ue.primitive),M.primitive=$r[ue.primitive]),i.optional(()=>{for(var gt=Object.keys(ue),Tt=0;Tt<gt.length;++Tt)i(Cs.indexOf(gt[Tt])>=0,'invalid option for vao: "'+gt[Tt]+'" valid options are '+Cs)}),i(Array.isArray(q),"attributes must be an array")}i(q.length<W,"too many attributes"),i(q.length>0,"must specify at least one attribute");var ce={},Me=M.attributes;Me.length=q.length;for(var Be=0;Be<q.length;++Be){var me=q[Be],ve=Me[Be]=new nf,De=me.data||me;if(Array.isArray(De)||n(De)||vr(De)){var ke;M.buffers[Be]&&(ke=M.buffers[Be],n(De)&&ke._buffer.byteLength>=De.byteLength?ke.subdata(De):(ke.destroy(),M.buffers[Be]=null)),M.buffers[Be]||(ke=M.buffers[Be]=k.create(me,Os,!1,!0)),ve.buffer=k.getBuffer(ke),ve.size=ve.buffer.dimension|0,ve.normalized=!1,ve.type=ve.buffer.dtype,ve.offset=0,ve.stride=0,ve.divisor=0,ve.state=1,ce[Be]=1}else k.getBuffer(me)?(ve.buffer=k.getBuffer(me),ve.size=ve.buffer.dimension|0,ve.normalized=!1,ve.type=ve.buffer.dtype,ve.offset=0,ve.stride=0,ve.divisor=0,ve.state=1):k.getBuffer(me.buffer)?(ve.buffer=k.getBuffer(me.buffer),ve.size=(+me.size||ve.buffer.dimension)|0,ve.normalized=!!me.normalized||!1,"type"in me?(i.parameter(me.type,rn,"invalid buffer type"),ve.type=rn[me.type]):ve.type=ve.buffer.dtype,ve.offset=(me.offset||0)|0,ve.stride=(me.stride||0)|0,ve.divisor=(me.divisor||0)|0,ve.state=1,i(ve.size>=1&&ve.size<=4,"size must be between 1 and 4"),i(ve.offset>=0,"invalid offset"),i(ve.stride>=0&&ve.stride<=255,"stride must be between 0 and 255"),i(ve.divisor>=0,"divisor must be positive"),i(!ve.divisor||!!s.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in me?(i(Be>0,"first attribute must not be a constant"),ve.x=+me.x||0,ve.y=+me.y||0,ve.z=+me.z||0,ve.w=+me.w||0,ve.state=2):i(!1,"invalid attribute spec for location "+Be)}for(var Xe=0;Xe<M.buffers.length;++Xe)!ce[Xe]&&M.buffers[Xe]&&(M.buffers[Xe].destroy(),M.buffers[Xe]=null);return M.refresh(),Ee}return Ee.destroy=function(){for(var ue=0;ue<M.buffers.length;++ue)M.buffers[ue]&&M.buffers[ue].destroy();M.buffers.length=0,M.ownsElements&&(M.elements.destroy(),M.elements=null,M.ownsElements=!1),M.destroy()},Ee._vao=M,Ee._reglType="vao",Ee(U)}return oe}var Ls=35632,lh=35633,ch=35718,dh=35721;function hh(r,s,p,N){var k={},F={};function G(A,I,Q,be){this.name=A,this.id=I,this.location=Q,this.info=be}function W(A,I){for(var Q=0;Q<A.length;++Q)if(A[Q].id===I.id){A[Q].location=I.location;return}A.push(I)}function z(A,I,Q){var be=A===Ls?k:F,X=be[I];if(!X){var pe=s.str(I);X=r.createShader(A),r.shaderSource(X,pe),r.compileShader(X),i.shaderError(r,X,pe,A,Q),be[I]=X}return X}var J={},te=[],ee=0;function oe(A,I){this.id=ee++,this.fragId=A,this.vertId=I,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,N.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Y(A,I,Q){var be,X,pe=z(Ls,A.fragId),he=z(lh,A.vertId),Ce=A.program=r.createProgram();if(r.attachShader(Ce,pe),r.attachShader(Ce,he),Q)for(be=0;be<Q.length;++be){var U=Q[be];r.bindAttribLocation(Ce,U[0],U[1])}r.linkProgram(Ce),i.linkError(r,Ce,s.str(A.fragId),s.str(A.vertId),I);var M=r.getProgramParameter(Ce,ch);N.profile&&(A.stats.uniformsCount=M);var Ee=A.uniforms;for(be=0;be<M;++be)if(X=r.getActiveUniform(Ce,be),X){if(X.size>1)for(var ue=0;ue<X.size;++ue){var q=X.name.replace("[0]","["+ue+"]");W(Ee,new G(q,s.id(q),r.getUniformLocation(Ce,q),X))}var le=X.name;X.size>1&&(le=le.replace("[0]","")),W(Ee,new G(le,s.id(le),r.getUniformLocation(Ce,le),X))}var ce=r.getProgramParameter(Ce,dh);N.profile&&(A.stats.attributesCount=ce);var Me=A.attributes;for(be=0;be<ce;++be)X=r.getActiveAttrib(Ce,be),X&&W(Me,new G(X.name,s.id(X.name),r.getAttribLocation(Ce,X.name),X))}N.profile&&(p.getMaxUniformsCount=function(){var A=0;return te.forEach(function(I){I.stats.uniformsCount>A&&(A=I.stats.uniformsCount)}),A},p.getMaxAttributesCount=function(){var A=0;return te.forEach(function(I){I.stats.attributesCount>A&&(A=I.stats.attributesCount)}),A});function Z(){k={},F={};for(var A=0;A<te.length;++A)Y(te[A],null,te[A].attributes.map(function(I){return[I.location,I.name]}))}return{clear:function(){var A=r.deleteShader.bind(r);fr(k).forEach(A),k={},fr(F).forEach(A),F={},te.forEach(function(I){r.deleteProgram(I.program)}),te.length=0,J={},p.shaderCount=0},program:function(A,I,Q,be){i.command(A>=0,"missing vertex shader",Q),i.command(I>=0,"missing fragment shader",Q);var X=J[I];X||(X=J[I]={});var pe=X[A];if(pe&&(pe.refCount++,!be))return pe;var he=new oe(I,A);return p.shaderCount++,Y(he,Q,be),pe||(X[A]=he),te.push(he),a(he,{destroy:function(){if(he.refCount--,he.refCount<=0){r.deleteProgram(he.program);var Ce=te.indexOf(he);te.splice(Ce,1),p.shaderCount--}X[he.vertId].refCount<=0&&(r.deleteShader(F[he.vertId]),delete F[he.vertId],delete J[he.fragId][he.vertId]),Object.keys(J[he.fragId]).length||(r.deleteShader(k[he.fragId]),delete k[he.fragId],delete J[he.fragId])}})},restore:Z,shader:z,frag:-1,vert:-1}}var mh=6408,na=5121,ph=3333,$a=5126;function vh(r,s,p,N,k,F,G){function W(te){var ee;s.next===null?(i(k.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),ee=na):(i(s.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),ee=s.next.colorAttachments[0].texture._texture.type,i.optional(function(){F.oes_texture_float?(i(ee===na||ee===$a,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),ee===$a&&i(G.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):i(ee===na,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var oe=0,Y=0,Z=N.framebufferWidth,A=N.framebufferHeight,I=null;n(te)?I=te:te&&(i.type(te,"object","invalid arguments to regl.read()"),oe=te.x|0,Y=te.y|0,i(oe>=0&&oe<N.framebufferWidth,"invalid x offset for regl.read"),i(Y>=0&&Y<N.framebufferHeight,"invalid y offset for regl.read"),Z=(te.width||N.framebufferWidth-oe)|0,A=(te.height||N.framebufferHeight-Y)|0,I=te.data||null),I&&(ee===na?i(I instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):ee===$a&&i(I instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),i(Z>0&&Z+oe<=N.framebufferWidth,"invalid width for read pixels"),i(A>0&&A+Y<=N.framebufferHeight,"invalid height for read pixels"),p();var Q=Z*A*4;return I||(ee===na?I=new Uint8Array(Q):ee===$a&&(I=I||new Float32Array(Q))),i.isTypedArray(I,"data buffer for regl.read() must be a typedarray"),i(I.byteLength>=Q,"data buffer for regl.read() too small"),r.pixelStorei(ph,4),r.readPixels(oe,Y,Z,A,mh,ee,I),I}function z(te){var ee;return s.setFBO({framebuffer:te.framebuffer},function(){ee=W(te)}),ee}function J(te){return!te||!("framebuffer"in te)?W(te):z(te)}return J}function Dn(r){return Array.prototype.slice.call(r)}function In(r){return Dn(r).join("")}function bh(){var r=0,s=[],p=[];function N(ee){for(var oe=0;oe<p.length;++oe)if(p[oe]===ee)return s[oe];var Y="g"+r++;return s.push(Y),p.push(ee),Y}function k(){var ee=[];function oe(){ee.push.apply(ee,Dn(arguments))}var Y=[];function Z(){var A="v"+r++;return Y.push(A),arguments.length>0&&(ee.push(A,"="),ee.push.apply(ee,Dn(arguments)),ee.push(";")),A}return a(oe,{def:Z,toString:function(){return In([Y.length>0?"var "+Y.join(",")+";":"",In(ee)])}})}function F(){var ee=k(),oe=k(),Y=ee.toString,Z=oe.toString;function A(I,Q){oe(I,Q,"=",ee.def(I,Q),";")}return a(function(){ee.apply(ee,Dn(arguments))},{def:ee.def,entry:ee,exit:oe,save:A,set:function(I,Q,be){A(I,Q),ee(I,Q,"=",be,";")},toString:function(){return Y()+Z()}})}function G(){var ee=In(arguments),oe=F(),Y=F(),Z=oe.toString,A=Y.toString;return a(oe,{then:function(){return oe.apply(oe,Dn(arguments)),this},else:function(){return Y.apply(Y,Dn(arguments)),this},toString:function(){var I=A();return I&&(I="else{"+I+"}"),In(["if(",ee,"){",Z(),"}",I])}})}var W=k(),z={};function J(ee,oe){var Y=[];function Z(){var X="a"+Y.length;return Y.push(X),X}oe=oe||0;for(var A=0;A<oe;++A)Z();var I=F(),Q=I.toString,be=z[ee]=a(I,{arg:Z,toString:function(){return In(["function(",Y.join(),"){",Q(),"}"])}});return be}function te(){var ee=['"use strict";',W,"return {"];Object.keys(z).forEach(function(Z){ee.push('"',Z,'":',z[Z].toString(),",")}),ee.push("}");var oe=In(ee).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Y=Function.apply(null,s.concat(oe));return Y.apply(null,p)}return{global:W,link:N,block:k,proc:J,scope:F,cond:G,compile:te}}var Gn="xyzw".split(""),Rs=5121,Pn=1,af=2,ff=0,of=1,sf=2,uf=3,Va=4,Fs=5,Ns=6,Ds="dither",Is="blend.enable",Gs="blend.color",lf="blend.equation",cf="blend.func",Ps="depth.enable",Bs="depth.func",Ms="depth.range",ks="depth.mask",df="colorMask",Us="cull.enable",js="cull.face",hf="frontFace",mf="lineWidth",Hs="polygonOffset.enable",pf="polygonOffset.offset",$s="sample.alpha",Vs="sample.enable",vf="sample.coverage",Xs="stencil.enable",zs="stencil.mask",bf="stencil.func",_f="stencil.opFront",aa="stencil.opBack",Ws="scissor.enable",Xa="scissor.box",Dr="viewport",ia="profile",sn="framebuffer",fa="vert",oa="frag",un="elements",ln="primitive",cn="count",za="offset",Wa="instances",sa="vao",yf="Width",gf="Height",Bn=sn+yf,Mn=sn+gf,_h=Dr+yf,yh=Dr+gf,Ys="drawingBuffer",Ks=Ys+yf,qs=Ys+gf,gh=[cf,lf,bf,_f,aa,vf,Dr,Xa,pf],kn=34962,Ef=34963,Eh=35632,xh=35633,Qs=3553,Th=34067,Ah=2884,Sh=3042,wh=3024,Oh=2960,Ch=2929,Lh=3089,Rh=32823,Fh=32926,Nh=32928,xf=5126,Ya=35664,Ka=35665,qa=35666,Tf=5124,Qa=35667,Za=35668,Ja=35669,Af=35670,ei=35671,ti=35672,ri=35673,ua=35674,la=35675,ca=35676,da=35678,ha=35680,Sf=4,ma=1028,dn=1029,Zs=2304,wf=2305,Dh=32775,Ih=32776,Gh=519,Xr=7680,Js=0,eu=1,tu=32774,Ph=513,ru=36160,Bh=36064,Sr={"0":0,"1":1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},nu=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Un={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},zr={"0":0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},au={frag:Eh,vert:xh},Of={cw:Zs,ccw:wf};function ni(r){return Array.isArray(r)||n(r)||vr(r)}function iu(r){return r.sort(function(s,p){return s===Dr?-1:p===Dr?1:s<p?-1:1})}function It(r,s,p,N){this.thisDep=r,this.contextDep=s,this.propDep=p,this.append=N}function Wr(r){return r&&!(r.thisDep||r.contextDep||r.propDep)}function Ct(r){return new It(!1,!1,!1,r)}function Jt(r,s){var p=r.type;if(p===ff){var N=r.data.length;return new It(!0,N>=1,N>=2,s)}else if(p===Va){var k=r.data;return new It(k.thisDep,k.contextDep,k.propDep,s)}else{if(p===Fs)return new It(!1,!1,!1,s);if(p===Ns){for(var F=!1,G=!1,W=!1,z=0;z<r.data.length;++z){var J=r.data[z];if(J.type===of)W=!0;else if(J.type===sf)G=!0;else if(J.type===uf)F=!0;else if(J.type===ff){F=!0;var te=J.data;te>=1&&(G=!0),te>=2&&(W=!0)}else J.type===Va&&(F=F||J.data.thisDep,G=G||J.data.contextDep,W=W||J.data.propDep)}return new It(F,G,W,s)}else return new It(p===uf,p===sf,p===of,s)}}var fu=new It(!1,!1,!1,function(){});function Mh(r,s,p,N,k,F,G,W,z,J,te,ee,oe,Y,Z){var A=J.Record,I={add:32774,subtract:32778,"reverse subtract":32779};p.ext_blend_minmax&&(I.min=Dh,I.max=Ih);var Q=p.angle_instanced_arrays,be=p.webgl_draw_buffers,X=p.oes_vertex_array_object,pe={dirty:!0,profile:Z.profile},he={},Ce=[],U={},M={};function Ee(l){return l.replace(".","_")}function ue(l,f,b){var T=Ee(l);Ce.push(l),he[T]=pe[T]=!!b,U[T]=f}function q(l,f,b){var T=Ee(l);Ce.push(l),Array.isArray(b)?(pe[T]=b.slice(),he[T]=b.slice()):pe[T]=he[T]=b,M[T]=f}ue(Ds,wh),ue(Is,Sh),q(Gs,"blendColor",[0,0,0,0]),q(lf,"blendEquationSeparate",[tu,tu]),q(cf,"blendFuncSeparate",[eu,Js,eu,Js]),ue(Ps,Ch,!0),q(Bs,"depthFunc",Ph),q(Ms,"depthRange",[0,1]),q(ks,"depthMask",!0),q(df,df,[!0,!0,!0,!0]),ue(Us,Ah),q(js,"cullFace",dn),q(hf,hf,wf),q(mf,mf,1),ue(Hs,Rh),q(pf,"polygonOffset",[0,0]),ue($s,Fh),ue(Vs,Nh),q(vf,"sampleCoverage",[1,!1]),ue(Xs,Oh),q(zs,"stencilMask",-1),q(bf,"stencilFunc",[Gh,0,-1]),q(_f,"stencilOpSeparate",[ma,Xr,Xr,Xr]),q(aa,"stencilOpSeparate",[dn,Xr,Xr,Xr]),ue(Ws,Lh),q(Xa,"scissor",[0,0,r.drawingBufferWidth,r.drawingBufferHeight]),q(Dr,Dr,[0,0,r.drawingBufferWidth,r.drawingBufferHeight]);var le={gl:r,context:oe,strings:s,next:he,current:pe,draw:ee,elements:F,buffer:k,shader:te,attributes:J.state,vao:J,uniforms:z,framebuffer:W,extensions:p,timer:Y,isBufferArgs:ni},ce={primTypes:$r,compareFuncs:Un,blendFuncs:Sr,blendEquations:I,stencilOps:zr,glTypes:rn,orientationType:Of};i.optional(function(){le.isArrayLike=yt}),be&&(ce.backBuffer=[dn],ce.drawBuffer=ir(N.maxDrawbuffers,function(l){return l===0?[0]:ir(l,function(f){return Bh+f})}));var Me=0;function Be(){var l=bh(),f=l.link,b=l.global;l.id=Me++,l.batchId="0";var T=f(le),S=l.shared={props:"a0"};Object.keys(le).forEach(function(m){S[m]=b.def(T,".",m)}),i.optional(function(){l.CHECK=f(i),l.commandStr=i.guessCommand(),l.command=f(l.commandStr),l.assert=function(m,d,C){m("if(!(",d,"))",this.CHECK,".commandRaise(",f(C),",",this.command,");")},ce.invalidBlendCombinations=nu});var g=l.next={},y=l.current={};Object.keys(M).forEach(function(m){Array.isArray(pe[m])&&(g[m]=b.def(S.next,".",m),y[m]=b.def(S.current,".",m))});var x=l.constants={};Object.keys(ce).forEach(function(m){x[m]=b.def(JSON.stringify(ce[m]))}),l.invoke=function(m,d){switch(d.type){case ff:var C=["this",S.context,S.props,l.batchId];return m.def(f(d.data),".call(",C.slice(0,Math.max(d.data.length+1,4)),")");case of:return m.def(S.props,d.data);case sf:return m.def(S.context,d.data);case uf:return m.def("this",d.data);case Va:return d.data.append(l,m),d.data.ref;case Fs:return d.data.toString();case Ns:return d.data.map(function(w){return l.invoke(m,w)})}},l.attribCache={};var c={};return l.scopeAttrib=function(m){var d=s.id(m);if(d in c)return c[d];var C=J.scope[d];C||(C=J.scope[d]=new A);var w=c[d]=f(C);return w},l}function me(l){var f=l.static,b=l.dynamic,T;if(ia in f){var S=!!f[ia];T=Ct(function(y,x){return S}),T.enable=S}else if(ia in b){var g=b[ia];T=Jt(g,function(y,x){return y.invoke(x,g)})}return T}function ve(l,f){var b=l.static,T=l.dynamic;if(sn in b){var S=b[sn];return S?(S=W.getFramebuffer(S),i.command(S,"invalid framebuffer object"),Ct(function(y,x){var c=y.link(S),m=y.shared;x.set(m.framebuffer,".next",c);var d=m.context;return x.set(d,"."+Bn,c+".width"),x.set(d,"."+Mn,c+".height"),c})):Ct(function(y,x){var c=y.shared;x.set(c.framebuffer,".next","null");var m=c.context;return x.set(m,"."+Bn,m+"."+Ks),x.set(m,"."+Mn,m+"."+qs),"null"})}else if(sn in T){var g=T[sn];return Jt(g,function(y,x){var c=y.invoke(x,g),m=y.shared,d=m.framebuffer,C=x.def(d,".getFramebuffer(",c,")");i.optional(function(){y.assert(x,"!"+c+"||"+C,"invalid framebuffer object")}),x.set(d,".next",C);var w=m.context;return x.set(w,"."+Bn,C+"?"+C+".width:"+w+"."+Ks),x.set(w,"."+Mn,C+"?"+C+".height:"+w+"."+qs),C})}else return null}function De(l,f,b){var T=l.static,S=l.dynamic;function g(c){if(c in T){var m=T[c];i.commandType(m,"object","invalid "+c,b.commandStr);var d=!0,C=m.x|0,w=m.y|0,B,j;return"width"in m?(B=m.width|0,i.command(B>=0,"invalid "+c,b.commandStr)):d=!1,"height"in m?(j=m.height|0,i.command(j>=0,"invalid "+c,b.commandStr)):d=!1,new It(!d&&f&&f.thisDep,!d&&f&&f.contextDep,!d&&f&&f.propDep,function(Oe,ye){var V=Oe.shared.context,P=B;"width"in m||(P=ye.def(V,".",Bn,"-",C));var Ae=j;return"height"in m||(Ae=ye.def(V,".",Mn,"-",w)),[C,w,P,Ae]})}else if(c in S){var ie=S[c],Ge=Jt(ie,function(Oe,ye){var V=Oe.invoke(ye,ie);i.optional(function(){Oe.assert(ye,V+"&&typeof "+V+'==="object"',"invalid "+c)});var P=Oe.shared.context,Ae=ye.def(V,".x|0"),xe=ye.def(V,".y|0"),Ie=ye.def('"width" in ',V,"?",V,".width|0:","(",P,".",Bn,"-",Ae,")"),ft=ye.def('"height" in ',V,"?",V,".height|0:","(",P,".",Mn,"-",xe,")");return i.optional(function(){Oe.assert(ye,Ie+">=0&&"+ft+">=0","invalid "+c)}),[Ae,xe,Ie,ft]});return f&&(Ge.thisDep=Ge.thisDep||f.thisDep,Ge.contextDep=Ge.contextDep||f.contextDep,Ge.propDep=Ge.propDep||f.propDep),Ge}else return f?new It(f.thisDep,f.contextDep,f.propDep,function(Oe,ye){var V=Oe.shared.context;return[0,0,ye.def(V,".",Bn),ye.def(V,".",Mn)]}):null}var y=g(Dr);if(y){var x=y;y=new It(y.thisDep,y.contextDep,y.propDep,function(c,m){var d=x.append(c,m),C=c.shared.context;return m.set(C,"."+_h,d[2]),m.set(C,"."+yh,d[3]),d})}return{viewport:y,scissor_box:g(Xa)}}function ke(l,f){var b=l.static,T=typeof b[oa]=="string"&&typeof b[fa]=="string";if(T){if(Object.keys(f.dynamic).length>0)return null;var S=f.static,g=Object.keys(S);if(g.length>0&&typeof S[g[0]]=="number"){for(var y=[],x=0;x<g.length;++x)i(typeof S[g[x]]=="number","must specify all vertex attribute locations when using vaos"),y.push([S[g[x]]|0,g[x]]);return y}}return null}function Xe(l,f,b){var T=l.static,S=l.dynamic;function g(d){if(d in T){var C=s.id(T[d]);i.optional(function(){te.shader(au[d],C,i.guessCommand())});var w=Ct(function(){return C});return w.id=C,w}else if(d in S){var B=S[d];return Jt(B,function(j,ie){var Ge=j.invoke(ie,B),Oe=ie.def(j.shared.strings,".id(",Ge,")");return i.optional(function(){ie(j.shared.shader,".shader(",au[d],",",Oe,",",j.command,");")}),Oe})}return null}var y=g(oa),x=g(fa),c=null,m;return Wr(y)&&Wr(x)?(c=te.program(x.id,y.id,null,b),m=Ct(function(d,C){return d.link(c)})):m=new It(y&&y.thisDep||x&&x.thisDep,y&&y.contextDep||x&&x.contextDep,y&&y.propDep||x&&x.propDep,function(d,C){var w=d.shared.shader,B;y?B=y.append(d,C):B=C.def(w,".",oa);var j;x?j=x.append(d,C):j=C.def(w,".",fa);var ie=w+".program("+j+","+B;return i.optional(function(){ie+=","+d.command}),C.def(ie+")")}),{frag:y,vert:x,progVar:m,program:c}}function gt(l,f){var b=l.static,T=l.dynamic,S={},g=!1;function y(){if(sa in b){var ye=b[sa];return ye!==null&&J.getVAO(ye)===null&&(ye=J.createVAO(ye)),g=!0,S.vao=ye,Ct(function(P){var Ae=J.getVAO(ye);return Ae?P.link(Ae):"null"})}else if(sa in T){g=!0;var V=T[sa];return Jt(V,function(P,Ae){var xe=P.invoke(Ae,V);return Ae.def(P.shared.vao+".getVAO("+xe+")")})}return null}var x=y(),c=!1;function m(){if(un in b){var ye=b[un];if(S.elements=ye,ni(ye)){var V=S.elements=F.create(ye,!0);ye=F.getElements(V),c=!0}else ye&&(ye=F.getElements(ye),c=!0,i.command(ye,"invalid elements",f.commandStr));var P=Ct(function(xe,Ie){if(ye){var ft=xe.link(ye);return xe.ELEMENTS=ft,ft}return xe.ELEMENTS=null,null});return P.value=ye,P}else if(un in T){c=!0;var Ae=T[un];return Jt(Ae,function(xe,Ie){var ft=xe.shared,Ut=ft.isBufferArgs,mn=ft.elements,Ir=xe.invoke(Ie,Ae),Or=Ie.def("null"),Yr=Ie.def(Ut,"(",Ir,")"),pn=xe.cond(Yr).then(Or,"=",mn,".createStream(",Ir,");").else(Or,"=",mn,".getElements(",Ir,");");return i.optional(function(){xe.assert(pn.else,"!"+Ir+"||"+Or,"invalid elements")}),Ie.entry(pn),Ie.exit(xe.cond(Yr).then(mn,".destroyStream(",Or,");")),xe.ELEMENTS=Or,Or})}else if(g)return new It(x.thisDep,x.contextDep,x.propDep,function(xe,Ie){return Ie.def(xe.shared.vao+".currentVAO?"+xe.shared.elements+".getElements("+xe.shared.vao+".currentVAO.elements):null")});return null}var d=m();function C(){if(ln in b){var ye=b[ln];return S.primitive=ye,i.commandParameter(ye,$r,"invalid primitve",f.commandStr),Ct(function(P,Ae){return $r[ye]})}else if(ln in T){var V=T[ln];return Jt(V,function(P,Ae){var xe=P.constants.primTypes,Ie=P.invoke(Ae,V);return i.optional(function(){P.assert(Ae,Ie+" in "+xe,"invalid primitive, must be one of "+Object.keys($r))}),Ae.def(xe,"[",Ie,"]")})}else{if(c)return Wr(d)?d.value?Ct(function(P,Ae){return Ae.def(P.ELEMENTS,".primType")}):Ct(function(){return Sf}):new It(d.thisDep,d.contextDep,d.propDep,function(P,Ae){var xe=P.ELEMENTS;return Ae.def(xe,"?",xe,".primType:",Sf)});if(g)return new It(x.thisDep,x.contextDep,x.propDep,function(P,Ae){return Ae.def(P.shared.vao+".currentVAO?"+P.shared.vao+".currentVAO.primitive:"+Sf)})}return null}function w(ye,V){if(ye in b){var P=b[ye]|0;return V?S.offset=P:S.instances=P,i.command(!V||P>=0,"invalid "+ye,f.commandStr),Ct(function(xe,Ie){return V&&(xe.OFFSET=P),P})}else if(ye in T){var Ae=T[ye];return Jt(Ae,function(xe,Ie){var ft=xe.invoke(Ie,Ae);return V&&(xe.OFFSET=ft,i.optional(function(){xe.assert(Ie,ft+">=0","invalid "+ye)})),ft})}else if(V){if(c)return Ct(function(xe,Ie){return xe.OFFSET=0,0});if(g)return new It(x.thisDep,x.contextDep,x.propDep,function(xe,Ie){return Ie.def(xe.shared.vao+".currentVAO?"+xe.shared.vao+".currentVAO.offset:0")})}else if(g)return new It(x.thisDep,x.contextDep,x.propDep,function(xe,Ie){return Ie.def(xe.shared.vao+".currentVAO?"+xe.shared.vao+".currentVAO.instances:-1")});return null}var B=w(za,!0);function j(){if(cn in b){var ye=b[cn]|0;return S.count=ye,i.command(typeof ye=="number"&&ye>=0,"invalid vertex count",f.commandStr),Ct(function(){return ye})}else if(cn in T){var V=T[cn];return Jt(V,function(Ie,ft){var Ut=Ie.invoke(ft,V);return i.optional(function(){Ie.assert(ft,"typeof "+Ut+'==="number"&&'+Ut+">=0&&"+Ut+"===("+Ut+"|0)","invalid vertex count")}),Ut})}else if(c)if(Wr(d)){if(d)return B?new It(B.thisDep,B.contextDep,B.propDep,function(Ie,ft){var Ut=ft.def(Ie.ELEMENTS,".vertCount-",Ie.OFFSET);return i.optional(function(){Ie.assert(ft,Ut+">=0","invalid vertex offset/element buffer too small")}),Ut}):Ct(function(Ie,ft){return ft.def(Ie.ELEMENTS,".vertCount")});var P=Ct(function(){return-1});return i.optional(function(){P.MISSING=!0}),P}else{var Ae=new It(d.thisDep||B.thisDep,d.contextDep||B.contextDep,d.propDep||B.propDep,function(Ie,ft){var Ut=Ie.ELEMENTS;return Ie.OFFSET?ft.def(Ut,"?",Ut,".vertCount-",Ie.OFFSET,":-1"):ft.def(Ut,"?",Ut,".vertCount:-1")});return i.optional(function(){Ae.DYNAMIC=!0}),Ae}else if(g){var xe=new It(x.thisDep,x.contextDep,x.propDep,function(Ie,ft){return ft.def(Ie.shared.vao,".currentVAO?",Ie.shared.vao,".currentVAO.count:-1")});return xe}return null}var ie=C(),Ge=j(),Oe=w(Wa,!1);return{elements:d,primitive:ie,count:Ge,instances:Oe,offset:B,vao:x,vaoActive:g,elementsActive:c,static:S}}function Tt(l,f){var b=l.static,T=l.dynamic,S={};return Ce.forEach(function(g){var y=Ee(g);function x(c,m){if(g in b){var d=c(b[g]);S[y]=Ct(function(){return d})}else if(g in T){var C=T[g];S[y]=Jt(C,function(w,B){return m(w,B,w.invoke(B,C))})}}switch(g){case Us:case Is:case Ds:case Xs:case Ps:case Ws:case Hs:case $s:case Vs:case ks:return x(function(c){return i.commandType(c,"boolean",g,f.commandStr),c},function(c,m,d){return i.optional(function(){c.assert(m,"typeof "+d+'==="boolean"',"invalid flag "+g,c.commandStr)}),d});case Bs:return x(function(c){return i.commandParameter(c,Un,"invalid "+g,f.commandStr),Un[c]},function(c,m,d){var C=c.constants.compareFuncs;return i.optional(function(){c.assert(m,d+" in "+C,"invalid "+g+", must be one of "+Object.keys(Un))}),m.def(C,"[",d,"]")});case Ms:return x(function(c){return i.command(yt(c)&&c.length===2&&typeof c[0]=="number"&&typeof c[1]=="number"&&c[0]<=c[1],"depth range is 2d array",f.commandStr),c},function(c,m,d){i.optional(function(){c.assert(m,c.shared.isArrayLike+"("+d+")&&"+d+".length===2&&typeof "+d+'[0]==="number"&&typeof '+d+'[1]==="number"&&'+d+"[0]<="+d+"[1]","depth range must be a 2d array")});var C=m.def("+",d,"[0]"),w=m.def("+",d,"[1]");return[C,w]});case cf:return x(function(c){i.commandType(c,"object","blend.func",f.commandStr);var m="srcRGB"in c?c.srcRGB:c.src,d="srcAlpha"in c?c.srcAlpha:c.src,C="dstRGB"in c?c.dstRGB:c.dst,w="dstAlpha"in c?c.dstAlpha:c.dst;return i.commandParameter(m,Sr,y+".srcRGB",f.commandStr),i.commandParameter(d,Sr,y+".srcAlpha",f.commandStr),i.commandParameter(C,Sr,y+".dstRGB",f.commandStr),i.commandParameter(w,Sr,y+".dstAlpha",f.commandStr),i.command(nu.indexOf(m+", "+C)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+m+", "+C+")",f.commandStr),[Sr[m],Sr[C],Sr[d],Sr[w]]},function(c,m,d){var C=c.constants.blendFuncs;i.optional(function(){c.assert(m,d+"&&typeof "+d+'==="object"',"invalid blend func, must be an object")});function w(V,P){var Ae=m.def('"',V,P,'" in ',d,"?",d,".",V,P,":",d,".",V);return i.optional(function(){c.assert(m,Ae+" in "+C,"invalid "+g+"."+V+P+", must be one of "+Object.keys(Sr))}),Ae}var B=w("src","RGB"),j=w("dst","RGB");i.optional(function(){var V=c.constants.invalidBlendCombinations;c.assert(m,V+".indexOf("+B+'+", "+'+j+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var ie=m.def(C,"[",B,"]"),Ge=m.def(C,"[",w("src","Alpha"),"]"),Oe=m.def(C,"[",j,"]"),ye=m.def(C,"[",w("dst","Alpha"),"]");return[ie,Oe,Ge,ye]});case lf:return x(function(c){if(typeof c=="string")return i.commandParameter(c,I,"invalid "+g,f.commandStr),[I[c],I[c]];if(typeof c=="object")return i.commandParameter(c.rgb,I,g+".rgb",f.commandStr),i.commandParameter(c.alpha,I,g+".alpha",f.commandStr),[I[c.rgb],I[c.alpha]];i.commandRaise("invalid blend.equation",f.commandStr)},function(c,m,d){var C=c.constants.blendEquations,w=m.def(),B=m.def(),j=c.cond("typeof ",d,'==="string"');return i.optional(function(){function ie(Ge,Oe,ye){c.assert(Ge,ye+" in "+C,"invalid "+Oe+", must be one of "+Object.keys(I))}ie(j.then,g,d),c.assert(j.else,d+"&&typeof "+d+'==="object"',"invalid "+g),ie(j.else,g+".rgb",d+".rgb"),ie(j.else,g+".alpha",d+".alpha")}),j.then(w,"=",B,"=",C,"[",d,"];"),j.else(w,"=",C,"[",d,".rgb];",B,"=",C,"[",d,".alpha];"),m(j),[w,B]});case Gs:return x(function(c){return i.command(yt(c)&&c.length===4,"blend.color must be a 4d array",f.commandStr),ir(4,function(m){return+c[m]})},function(c,m,d){return i.optional(function(){c.assert(m,c.shared.isArrayLike+"("+d+")&&"+d+".length===4","blend.color must be a 4d array")}),ir(4,function(C){return m.def("+",d,"[",C,"]")})});case zs:return x(function(c){return i.commandType(c,"number",y,f.commandStr),c|0},function(c,m,d){return i.optional(function(){c.assert(m,"typeof "+d+'==="number"',"invalid stencil.mask")}),m.def(d,"|0")});case bf:return x(function(c){i.commandType(c,"object",y,f.commandStr);var m=c.cmp||"keep",d=c.ref||0,C="mask"in c?c.mask:-1;return i.commandParameter(m,Un,g+".cmp",f.commandStr),i.commandType(d,"number",g+".ref",f.commandStr),i.commandType(C,"number",g+".mask",f.commandStr),[Un[m],d,C]},function(c,m,d){var C=c.constants.compareFuncs;i.optional(function(){function ie(){c.assert(m,Array.prototype.join.call(arguments,""),"invalid stencil.func")}ie(d+"&&typeof ",d,'==="object"'),ie('!("cmp" in ',d,")||(",d,".cmp in ",C,")")});var w=m.def('"cmp" in ',d,"?",C,"[",d,".cmp]",":",Xr),B=m.def(d,".ref|0"),j=m.def('"mask" in ',d,"?",d,".mask|0:-1");return[w,B,j]});case _f:case aa:return x(function(c){i.commandType(c,"object",y,f.commandStr);var m=c.fail||"keep",d=c.zfail||"keep",C=c.zpass||"keep";return i.commandParameter(m,zr,g+".fail",f.commandStr),i.commandParameter(d,zr,g+".zfail",f.commandStr),i.commandParameter(C,zr,g+".zpass",f.commandStr),[g===aa?dn:ma,zr[m],zr[d],zr[C]]},function(c,m,d){var C=c.constants.stencilOps;i.optional(function(){c.assert(m,d+"&&typeof "+d+'==="object"',"invalid "+g)});function w(B){return i.optional(function(){c.assert(m,'!("'+B+'" in '+d+")||("+d+"."+B+" in "+C+")","invalid "+g+"."+B+", must be one of "+Object.keys(zr))}),m.def('"',B,'" in ',d,"?",C,"[",d,".",B,"]:",Xr)}return[g===aa?dn:ma,w("fail"),w("zfail"),w("zpass")]});case pf:return x(function(c){i.commandType(c,"object",y,f.commandStr);var m=c.factor|0,d=c.units|0;return i.commandType(m,"number",y+".factor",f.commandStr),i.commandType(d,"number",y+".units",f.commandStr),[m,d]},function(c,m,d){i.optional(function(){c.assert(m,d+"&&typeof "+d+'==="object"',"invalid "+g)});var C=m.def(d,".factor|0"),w=m.def(d,".units|0");return[C,w]});case js:return x(function(c){var m=0;return c==="front"?m=ma:c==="back"&&(m=dn),i.command(!!m,y,f.commandStr),m},function(c,m,d){return i.optional(function(){c.assert(m,d+'==="front"||'+d+'==="back"',"invalid cull.face")}),m.def(d,'==="front"?',ma,":",dn)});case mf:return x(function(c){return i.command(typeof c=="number"&&c>=N.lineWidthDims[0]&&c<=N.lineWidthDims[1],"invalid line width, must be a positive number between "+N.lineWidthDims[0]+" and "+N.lineWidthDims[1],f.commandStr),c},function(c,m,d){return i.optional(function(){c.assert(m,"typeof "+d+'==="number"&&'+d+">="+N.lineWidthDims[0]+"&&"+d+"<="+N.lineWidthDims[1],"invalid line width")}),d});case hf:return x(function(c){return i.commandParameter(c,Of,y,f.commandStr),Of[c]},function(c,m,d){return i.optional(function(){c.assert(m,d+'==="cw"||'+d+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),m.def(d+'==="cw"?'+Zs+":"+wf)});case df:return x(function(c){return i.command(yt(c)&&c.length===4,"color.mask must be length 4 array",f.commandStr),c.map(function(m){return!!m})},function(c,m,d){return i.optional(function(){c.assert(m,c.shared.isArrayLike+"("+d+")&&"+d+".length===4","invalid color.mask")}),ir(4,function(C){return"!!"+d+"["+C+"]"})});case vf:return x(function(c){i.command(typeof c=="object"&&c,y,f.commandStr);var m="value"in c?c.value:1,d=!!c.invert;return i.command(typeof m=="number"&&m>=0&&m<=1,"sample.coverage.value must be a number between 0 and 1",f.commandStr),[m,d]},function(c,m,d){i.optional(function(){c.assert(m,d+"&&typeof "+d+'==="object"',"invalid sample.coverage")});var C=m.def('"value" in ',d,"?+",d,".value:1"),w=m.def("!!",d,".invert");return[C,w]})}}),S}function Ye(l,f){var b=l.static,T=l.dynamic,S={};return Object.keys(b).forEach(function(g){var y=b[g],x;if(typeof y=="number"||typeof y=="boolean")x=Ct(function(){return y});else if(typeof y=="function"){var c=y._reglType;c==="texture2d"||c==="textureCube"?x=Ct(function(m){return m.link(y)}):c==="framebuffer"||c==="framebufferCube"?(i.command(y.color.length>0,'missing color attachment for framebuffer sent to uniform "'+g+'"',f.commandStr),x=Ct(function(m){return m.link(y.color[0])})):i.commandRaise('invalid data for uniform "'+g+'"',f.commandStr)}else yt(y)?x=Ct(function(m){var d=m.global.def("[",ir(y.length,function(C){return i.command(typeof y[C]=="number"||typeof y[C]=="boolean","invalid uniform "+g,m.commandStr),y[C]}),"]");return d}):i.commandRaise('invalid or missing data for uniform "'+g+'"',f.commandStr);x.value=y,S[g]=x}),Object.keys(T).forEach(function(g){var y=T[g];S[g]=Jt(y,function(x,c){return x.invoke(c,y)})}),S}function Rt(l,f){var b=l.static,T=l.dynamic,S={};return Object.keys(b).forEach(function(g){var y=b[g],x=s.id(g),c=new A;if(ni(y))c.state=Pn,c.buffer=k.getBuffer(k.create(y,kn,!1,!0)),c.type=0;else{var m=k.getBuffer(y);if(m)c.state=Pn,c.buffer=m,c.type=0;else if(i.command(typeof y=="object"&&y,"invalid data for attribute "+g,f.commandStr),"constant"in y){var d=y.constant;c.buffer="null",c.state=af,typeof d=="number"?c.x=d:(i.command(yt(d)&&d.length>0&&d.length<=4,"invalid constant for attribute "+g,f.commandStr),Gn.forEach(function(Oe,ye){ye<d.length&&(c[Oe]=d[ye])}))}else{ni(y.buffer)?m=k.getBuffer(k.create(y.buffer,kn,!1,!0)):m=k.getBuffer(y.buffer),i.command(!!m,'missing buffer for attribute "'+g+'"',f.commandStr);var C=y.offset|0;i.command(C>=0,'invalid offset for attribute "'+g+'"',f.commandStr);var w=y.stride|0;i.command(w>=0&&w<256,'invalid stride for attribute "'+g+'", must be integer betweeen [0, 255]',f.commandStr);var B=y.size|0;i.command(!("size"in y)||B>0&&B<=4,'invalid size for attribute "'+g+'", must be 1,2,3,4',f.commandStr);var j=!!y.normalized,ie=0;"type"in y&&(i.commandParameter(y.type,rn,"invalid type for attribute "+g,f.commandStr),ie=rn[y.type]);var Ge=y.divisor|0;i.optional(function(){"divisor"in y&&(i.command(Ge===0||Q,'cannot specify divisor for attribute "'+g+'", instancing not supported',f.commandStr),i.command(Ge>=0,'invalid divisor for attribute "'+g+'"',f.commandStr));var Oe=f.commandStr,ye=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(y).forEach(function(V){i.command(ye.indexOf(V)>=0,'unknown parameter "'+V+'" for attribute pointer "'+g+'" (valid parameters are '+ye+")",Oe)})}),c.buffer=m,c.state=Pn,c.size=B,c.normalized=j,c.type=ie||m.dtype,c.offset=C,c.stride=w,c.divisor=Ge}}S[g]=Ct(function(Oe,ye){var V=Oe.attribCache;if(x in V)return V[x];var P={isStream:!1};return Object.keys(c).forEach(function(Ae){P[Ae]=c[Ae]}),c.buffer&&(P.buffer=Oe.link(c.buffer),P.type=P.type||P.buffer+".dtype"),V[x]=P,P})}),Object.keys(T).forEach(function(g){var y=T[g];function x(c,m){var d=c.invoke(m,y),C=c.shared,w=c.constants,B=C.isBufferArgs,j=C.buffer;i.optional(function(){c.assert(m,d+"&&(typeof "+d+'==="object"||typeof '+d+'==="function")&&('+B+"("+d+")||"+j+".getBuffer("+d+")||"+j+".getBuffer("+d+".buffer)||"+B+"("+d+'.buffer)||("constant" in '+d+"&&(typeof "+d+'.constant==="number"||'+C.isArrayLike+"("+d+".constant))))",'invalid dynamic attribute "'+g+'"')});var ie={isStream:m.def(!1)},Ge=new A;Ge.state=Pn,Object.keys(Ge).forEach(function(P){ie[P]=m.def(""+Ge[P])});var Oe=ie.buffer,ye=ie.type;m("if(",B,"(",d,")){",ie.isStream,"=true;",Oe,"=",j,".createStream(",kn,",",d,");",ye,"=",Oe,".dtype;","}else{",Oe,"=",j,".getBuffer(",d,");","if(",Oe,"){",ye,"=",Oe,".dtype;",'}else if("constant" in ',d,"){",ie.state,"=",af,";","if(typeof "+d+'.constant === "number"){',ie[Gn[0]],"=",d,".constant;",Gn.slice(1).map(function(P){return ie[P]}).join("="),"=0;","}else{",Gn.map(function(P,Ae){return ie[P]+"="+d+".constant.length>"+Ae+"?"+d+".constant["+Ae+"]:0;"}).join(""),"}}else{","if(",B,"(",d,".buffer)){",Oe,"=",j,".createStream(",kn,",",d,".buffer);","}else{",Oe,"=",j,".getBuffer(",d,".buffer);","}",ye,'="type" in ',d,"?",w.glTypes,"[",d,".type]:",Oe,".dtype;",ie.normalized,"=!!",d,".normalized;");function V(P){m(ie[P],"=",d,".",P,"|0;")}return V("size"),V("offset"),V("stride"),V("divisor"),m("}}"),m.exit("if(",ie.isStream,"){",j,".destroyStream(",Oe,");","}"),ie}S[g]=Jt(y,x)}),S}function bt(l){var f=l.static,b=l.dynamic,T={};return Object.keys(f).forEach(function(S){var g=f[S];T[S]=Ct(function(y,x){return typeof g=="number"||typeof g=="boolean"?""+g:y.link(g)})}),Object.keys(b).forEach(function(S){var g=b[S];T[S]=Jt(g,function(y,x){return y.invoke(x,g)})}),T}function Lt(l,f,b,T,S){var g=l.static,y=l.dynamic;i.optional(function(){var V=[sn,fa,oa,un,ln,za,cn,Wa,ia,sa].concat(Ce);function P(Ae){Object.keys(Ae).forEach(function(xe){i.command(V.indexOf(xe)>=0,'unknown parameter "'+xe+'"',S.commandStr)})}P(g),P(y)});var x=ke(l,f),c=ve(l),m=De(l,c,S),d=gt(l,S),C=Tt(l,S),w=Xe(l,S,x);function B(V){var P=m[V];P&&(C[V]=P)}B(Dr),B(Ee(Xa));var j=Object.keys(C).length>0,ie={framebuffer:c,draw:d,shader:w,state:C,dirty:j,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(ie.profile=me(l),ie.uniforms=Ye(b,S),ie.drawVAO=ie.scopeVAO=d.vao,!ie.drawVAO&&w.program&&!x&&p.angle_instanced_arrays&&d.static.elements){var Ge=!0,Oe=w.program.attributes.map(function(V){var P=f.static[V];return Ge=Ge&&!!P,P});if(Ge&&Oe.length>0){var ye=J.getVAO(J.createVAO({attributes:Oe,elements:d.static.elements}));ie.drawVAO=new It(null,null,null,function(V,P){return V.link(ye)}),ie.useVAO=!0}}return x?ie.useVAO=!0:ie.attributes=Rt(f,S),ie.context=bt(T),ie}function Ft(l,f,b){var T=l.shared,S=T.context,g=l.scope();Object.keys(b).forEach(function(y){f.save(S,"."+y);var x=b[y],c=x.append(l,f);Array.isArray(c)?g(S,".",y,"=[",c.join(),"];"):g(S,".",y,"=",c,";")}),f(g)}function Nt(l,f,b,T){var S=l.shared,g=S.gl,y=S.framebuffer,x;be&&(x=f.def(S.extensions,".webgl_draw_buffers"));var c=l.constants,m=c.drawBuffer,d=c.backBuffer,C;b?C=b.append(l,f):C=f.def(y,".next"),T||f("if(",C,"!==",y,".cur){"),f("if(",C,"){",g,".bindFramebuffer(",ru,",",C,".framebuffer);"),be&&f(x,".drawBuffersWEBGL(",m,"[",C,".colorAttachments.length]);"),f("}else{",g,".bindFramebuffer(",ru,",null);"),be&&f(x,".drawBuffersWEBGL(",d,");"),f("}",y,".cur=",C,";"),T||f("}")}function Gt(l,f,b){var T=l.shared,S=T.gl,g=l.current,y=l.next,x=T.current,c=T.next,m=l.cond(x,".dirty");Ce.forEach(function(d){var C=Ee(d);if(!(C in b.state)){var w,B;if(C in y){w=y[C],B=g[C];var j=ir(pe[C].length,function(Ge){return m.def(w,"[",Ge,"]")});m(l.cond(j.map(function(Ge,Oe){return Ge+"!=="+B+"["+Oe+"]"}).join("||")).then(S,".",M[C],"(",j,");",j.map(function(Ge,Oe){return B+"["+Oe+"]="+Ge}).join(";"),";"))}else{w=m.def(c,".",C);var ie=l.cond(w,"!==",x,".",C);m(ie),C in U?ie(l.cond(w).then(S,".enable(",U[C],");").else(S,".disable(",U[C],");"),x,".",C,"=",w,";"):ie(S,".",M[C],"(",w,");",x,".",C,"=",w,";")}}}),Object.keys(b.state).length===0&&m(x,".dirty=false;"),f(m)}function Mt(l,f,b,T){var S=l.shared,g=l.current,y=S.current,x=S.gl;iu(Object.keys(b)).forEach(function(c){var m=b[c];if(!(T&&!T(m))){var d=m.append(l,f);if(U[c]){var C=U[c];Wr(m)?d?f(x,".enable(",C,");"):f(x,".disable(",C,");"):f(l.cond(d).then(x,".enable(",C,");").else(x,".disable(",C,");")),f(y,".",c,"=",d,";")}else if(yt(d)){var w=g[c];f(x,".",M[c],"(",d,");",d.map(function(B,j){return w+"["+j+"]="+B}).join(";"),";")}else f(x,".",M[c],"(",d,");",y,".",c,"=",d,";")}})}function St(l,f){Q&&(l.instancing=f.def(l.shared.extensions,".angle_instanced_arrays"))}function He(l,f,b,T,S){var g=l.shared,y=l.stats,x=g.current,c=g.timer,m=b.profile;function d(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var C,w;function B(V){C=f.def(),V(C,"=",d(),";"),typeof S=="string"?V(y,".count+=",S,";"):V(y,".count++;"),Y&&(T?(w=f.def(),V(w,"=",c,".getNumPendingQueries();")):V(c,".beginQuery(",y,");"))}function j(V){V(y,".cpuTime+=",d(),"-",C,";"),Y&&(T?V(c,".pushScopeStats(",w,",",c,".getNumPendingQueries(),",y,");"):V(c,".endQuery();"))}function ie(V){var P=f.def(x,".profile");f(x,".profile=",V,";"),f.exit(x,".profile=",P,";")}var Ge;if(m){if(Wr(m)){m.enable?(B(f),j(f.exit),ie("true")):ie("false");return}Ge=m.append(l,f),ie(Ge)}else Ge=f.def(x,".profile");var Oe=l.block();B(Oe),f("if(",Ge,"){",Oe,"}");var ye=l.block();j(ye),f.exit("if(",Ge,"){",ye,"}")}function kt(l,f,b,T,S){var g=l.shared;function y(c){switch(c){case Ya:case Qa:case ei:return 2;case Ka:case Za:case ti:return 3;case qa:case Ja:case ri:return 4;default:return 1}}function x(c,m,d){var C=g.gl,w=f.def(c,".location"),B=f.def(g.attributes,"[",w,"]"),j=d.state,ie=d.buffer,Ge=[d.x,d.y,d.z,d.w],Oe=["buffer","normalized","offset","stride"];function ye(){f("if(!",B,".buffer){",C,".enableVertexAttribArray(",w,");}");var P=d.type,Ae;if(d.size?Ae=f.def(d.size,"||",m):Ae=m,f("if(",B,".type!==",P,"||",B,".size!==",Ae,"||",Oe.map(function(Ie){return B+"."+Ie+"!=="+d[Ie]}).join("||"),"){",C,".bindBuffer(",kn,",",ie,".buffer);",C,".vertexAttribPointer(",[w,Ae,P,d.normalized,d.stride,d.offset],");",B,".type=",P,";",B,".size=",Ae,";",Oe.map(function(Ie){return B+"."+Ie+"="+d[Ie]+";"}).join(""),"}"),Q){var xe=d.divisor;f("if(",B,".divisor!==",xe,"){",l.instancing,".vertexAttribDivisorANGLE(",[w,xe],");",B,".divisor=",xe,";}")}}function V(){f("if(",B,".buffer){",C,".disableVertexAttribArray(",w,");",B,".buffer=null;","}if(",Gn.map(function(P,Ae){return B+"."+P+"!=="+Ge[Ae]}).join("||"),"){",C,".vertexAttrib4f(",w,",",Ge,");",Gn.map(function(P,Ae){return B+"."+P+"="+Ge[Ae]+";"}).join(""),"}")}j===Pn?ye():j===af?V():(f("if(",j,"===",Pn,"){"),ye(),f("}else{"),V(),f("}"))}T.forEach(function(c){var m=c.name,d=b.attributes[m],C;if(d){if(!S(d))return;C=d.append(l,f)}else{if(!S(fu))return;var w=l.scopeAttrib(m);i.optional(function(){l.assert(f,w+".state","missing attribute "+m)}),C={},Object.keys(new A).forEach(function(B){C[B]=f.def(w,".",B)})}x(l.link(c),y(c.info.type),C)})}function nt(l,f,b,T,S,g){for(var y=l.shared,x=y.gl,c={},m,d=0;d<T.length;++d){var C=T[d],w=C.name,B=C.info.type,j=C.info.size,ie=b.uniforms[w];if(j>1){if(!ie)continue;var Ge=w.replace("[0]","");if(c[Ge])continue;c[Ge]=1}var Oe=l.link(C),ye=Oe+".location",V;if(ie){if(!S(ie))continue;if(Wr(ie)){var P=ie.value;if(i.command(P!==null&&typeof P!="undefined",'missing uniform "'+w+'"',l.commandStr),B===da||B===ha){i.command(typeof P=="function"&&(B===da&&(P._reglType==="texture2d"||P._reglType==="framebuffer")||B===ha&&(P._reglType==="textureCube"||P._reglType==="framebufferCube")),"invalid texture for uniform "+w,l.commandStr);var Ae=l.link(P._texture||P.color[0]._texture);f(x,".uniform1i(",ye,",",Ae+".bind());"),f.exit(Ae,".unbind();")}else if(B===ua||B===la||B===ca){i.optional(function(){i.command(yt(P),"invalid matrix for uniform "+w,l.commandStr),i.command(B===ua&&P.length===4||B===la&&P.length===9||B===ca&&P.length===16,"invalid length for matrix uniform "+w,l.commandStr)});var xe=l.global.def("new Float32Array(["+Array.prototype.slice.call(P)+"])"),Ie=2;B===la?Ie=3:B===ca&&(Ie=4),f(x,".uniformMatrix",Ie,"fv(",ye,",false,",xe,");")}else{switch(B){case xf:j===1?i.commandType(P,"number","uniform "+w,l.commandStr):i.command(yt(P)&&P.length===j,"uniform "+w,l.commandStr),m="1f";break;case Ya:i.command(yt(P)&&P.length&&P.length%2===0&&P.length<=j*2,"uniform "+w,l.commandStr),m="2f";break;case Ka:i.command(yt(P)&&P.length&&P.length%3===0&&P.length<=j*3,"uniform "+w,l.commandStr),m="3f";break;case qa:i.command(yt(P)&&P.length&&P.length%4===0&&P.length<=j*4,"uniform "+w,l.commandStr),m="4f";break;case Af:j===1?i.commandType(P,"boolean","uniform "+w,l.commandStr):i.command(yt(P)&&P.length===j,"uniform "+w,l.commandStr),m="1i";break;case Tf:j===1?i.commandType(P,"number","uniform "+w,l.commandStr):i.command(yt(P)&&P.length===j,"uniform "+w,l.commandStr),m="1i";break;case ei:i.command(yt(P)&&P.length&&P.length%2===0&&P.length<=j*2,"uniform "+w,l.commandStr),m="2i";break;case Qa:i.command(yt(P)&&P.length&&P.length%2===0&&P.length<=j*2,"uniform "+w,l.commandStr),m="2i";break;case ti:i.command(yt(P)&&P.length&&P.length%3===0&&P.length<=j*3,"uniform "+w,l.commandStr),m="3i";break;case Za:i.command(yt(P)&&P.length&&P.length%3===0&&P.length<=j*3,"uniform "+w,l.commandStr),m="3i";break;case ri:i.command(yt(P)&&P.length&&P.length%4===0&&P.length<=j*4,"uniform "+w,l.commandStr),m="4i";break;case Ja:i.command(yt(P)&&P.length&&P.length%4===0&&P.length<=j*4,"uniform "+w,l.commandStr),m="4i";break}j>1?(m+="v",P=l.global.def("["+Array.prototype.slice.call(P)+"]")):P=yt(P)?Array.prototype.slice.call(P):P,f(x,".uniform",m,"(",ye,",",P,");")}continue}else V=ie.append(l,f)}else{if(!S(fu))continue;V=f.def(y.uniforms,"[",s.id(w),"]")}B===da?(i(!Array.isArray(V),"must specify a scalar prop for textures"),f("if(",V,"&&",V,'._reglType==="framebuffer"){',V,"=",V,".color[0];","}")):B===ha&&(i(!Array.isArray(V),"must specify a scalar prop for cube maps"),f("if(",V,"&&",V,'._reglType==="framebufferCube"){',V,"=",V,".color[0];","}")),i.optional(function(){function or(er,ai){l.assert(f,er,'bad data or missing for uniform "'+w+'".  '+ai)}function vn(er,ai){ai===1&&i(!Array.isArray(V),"must not specify an array type for uniform"),or("Array.isArray("+V+") && typeof "+V+'[0]===" '+er+'" || typeof '+V+'==="'+er+'"',"invalid type, expected "+er)}function cr(er,ai,ii){Array.isArray(V)?i(V.length&&V.length%er===0&&V.length<=er*ii,"must have length of "+(ii===1?"":"n * ")+er):or(y.isArrayLike+"("+V+")&&"+V+".length && "+V+".length % "+er+" === 0 && "+V+".length<="+er*ii,"invalid vector, should have length of "+(ii===1?"":"n * ")+er,l.commandStr)}function hu(er){i(!Array.isArray(V),"must not specify a value type"),or("typeof "+V+'==="function"&&'+V+'._reglType==="texture'+(er===Qs?"2d":"Cube")+'"',"invalid texture type",l.commandStr)}switch(B){case Tf:vn("number",j);break;case Qa:cr(2,"number",j);break;case Za:cr(3,"number",j);break;case Ja:cr(4,"number",j);break;case xf:vn("number",j);break;case Ya:cr(2,"number",j);break;case Ka:cr(3,"number",j);break;case qa:cr(4,"number",j);break;case Af:vn("boolean",j);break;case ei:cr(2,"boolean",j);break;case ti:cr(3,"boolean",j);break;case ri:cr(4,"boolean",j);break;case ua:cr(4,"number",j);break;case la:cr(9,"number",j);break;case ca:cr(16,"number",j);break;case da:hu(Qs);break;case ha:hu(Th);break}});var ft=1;switch(B){case da:case ha:var Ut=f.def(V,"._texture");f(x,".uniform1i(",ye,",",Ut,".bind());"),f.exit(Ut,".unbind();");continue;case Tf:case Af:m="1i";break;case Qa:case ei:m="2i",ft=2;break;case Za:case ti:m="3i",ft=3;break;case Ja:case ri:m="4i",ft=4;break;case xf:m="1f";break;case Ya:m="2f",ft=2;break;case Ka:m="3f",ft=3;break;case qa:m="4f",ft=4;break;case ua:m="Matrix2fv";break;case la:m="Matrix3fv";break;case ca:m="Matrix4fv";break}if(m.indexOf("Matrix")===-1&&j>1&&(m+="v",ft=1),m.charAt(0)==="M"){f(x,".uniform",m,"(",ye,",");var mn=Math.pow(B-ua+2,2),Ir=l.global.def("new Float32Array(",mn,")");Array.isArray(V)?f("false,(",ir(mn,function(or){return Ir+"["+or+"]="+V[or]}),",",Ir,")"):f("false,(Array.isArray(",V,")||",V," instanceof Float32Array)?",V,":(",ir(mn,function(or){return Ir+"["+or+"]="+V+"["+or+"]"}),",",Ir,")"),f(");")}else if(ft>1){for(var Or=[],Yr=[],pn=0;pn<ft;++pn)Array.isArray(V)?Yr.push(V[pn]):Yr.push(f.def(V+"["+pn+"]")),g&&Or.push(f.def());g&&f("if(!",l.batchId,"||",Or.map(function(or,vn){return or+"!=="+Yr[vn]}).join("||"),"){",Or.map(function(or,vn){return or+"="+Yr[vn]+";"}).join("")),f(x,".uniform",m,"(",ye,",",Yr.join(","),");"),g&&f("}")}else{if(i(!Array.isArray(V),"uniform value must not be an array"),g){var du=f.def();f("if(!",l.batchId,"||",du,"!==",V,"){",du,"=",V,";")}f(x,".uniform",m,"(",ye,",",V,");"),g&&f("}")}}}function Ne(l,f,b,T){var S=l.shared,g=S.gl,y=S.draw,x=T.draw;function c(){var Ae=x.elements,xe,Ie=f;return Ae?((Ae.contextDep&&T.contextDynamic||Ae.propDep)&&(Ie=b),xe=Ae.append(l,Ie),x.elementsActive&&Ie("if("+xe+")"+g+".bindBuffer("+Ef+","+xe+".buffer.buffer);")):(xe=Ie.def(),Ie(xe,"=",y,".",un,";","if(",xe,"){",g,".bindBuffer(",Ef,",",xe,".buffer.buffer);}","else if(",S.vao,".currentVAO){",xe,"=",l.shared.elements+".getElements("+S.vao,".currentVAO.elements);",X?"":"if("+xe+")"+g+".bindBuffer("+Ef+","+xe+".buffer.buffer);","}")),xe}function m(){var Ae=x.count,xe,Ie=f;return Ae?((Ae.contextDep&&T.contextDynamic||Ae.propDep)&&(Ie=b),xe=Ae.append(l,Ie),i.optional(function(){Ae.MISSING&&l.assert(f,"false","missing vertex count"),Ae.DYNAMIC&&l.assert(Ie,xe+">=0","missing vertex count")})):(xe=Ie.def(y,".",cn),i.optional(function(){l.assert(Ie,xe+">=0","missing vertex count")})),xe}var d=c();function C(Ae){var xe=x[Ae];return xe?xe.contextDep&&T.contextDynamic||xe.propDep?xe.append(l,b):xe.append(l,f):f.def(y,".",Ae)}var w=C(ln),B=C(za),j=m();if(typeof j=="number"){if(j===0)return}else b("if(",j,"){"),b.exit("}");var ie,Ge;Q&&(ie=C(Wa),Ge=l.instancing);var Oe=d+".type",ye=x.elements&&Wr(x.elements)&&!x.vaoActive;function V(){function Ae(){b(Ge,".drawElementsInstancedANGLE(",[w,j,Oe,B+"<<(("+Oe+"-"+Rs+")>>1)",ie],");")}function xe(){b(Ge,".drawArraysInstancedANGLE(",[w,B,j,ie],");")}d&&d!=="null"?ye?Ae():(b("if(",d,"){"),Ae(),b("}else{"),xe(),b("}")):xe()}function P(){function Ae(){b(g+".drawElements("+[w,j,Oe,B+"<<(("+Oe+"-"+Rs+")>>1)"]+");")}function xe(){b(g+".drawArrays("+[w,B,j]+");")}d&&d!=="null"?ye?Ae():(b("if(",d,"){"),Ae(),b("}else{"),xe(),b("}")):xe()}Q&&(typeof ie!="number"||ie>=0)?typeof ie=="string"?(b("if(",ie,">0){"),V(),b("}else if(",ie,"<0){"),P(),b("}")):V():P()}function ze(l,f,b,T,S){var g=Be(),y=g.proc("body",S);return i.optional(function(){g.commandStr=f.commandStr,g.command=g.link(f.commandStr)}),Q&&(g.instancing=y.def(g.shared.extensions,".angle_instanced_arrays")),l(g,y,b,T),g.compile().body}function Je(l,f,b,T){St(l,f),b.useVAO?b.drawVAO?f(l.shared.vao,".setVAO(",b.drawVAO.append(l,f),");"):f(l.shared.vao,".setVAO(",l.shared.vao,".targetVAO);"):(f(l.shared.vao,".setVAO(null);"),kt(l,f,b,T.attributes,function(){return!0})),nt(l,f,b,T.uniforms,function(){return!0},!1),Ne(l,f,f,b)}function wt(l,f){var b=l.proc("draw",1);St(l,b),Ft(l,b,f.context),Nt(l,b,f.framebuffer),Gt(l,b,f),Mt(l,b,f.state),He(l,b,f,!1,!0);var T=f.shader.progVar.append(l,b);if(b(l.shared.gl,".useProgram(",T,".program);"),f.shader.program)Je(l,b,f,f.shader.program);else{b(l.shared.vao,".setVAO(null);");var S=l.global.def("{}"),g=b.def(T,".id"),y=b.def(S,"[",g,"]");b(l.cond(y).then(y,".call(this,a0);").else(y,"=",S,"[",g,"]=",l.link(function(x){return ze(Je,l,f,x,1)}),"(",T,");",y,".call(this,a0);"))}Object.keys(f.state).length>0&&b(l.shared.current,".dirty=true;"),l.shared.vao&&b(l.shared.vao,".setVAO(null);")}function wr(l,f,b,T){l.batchId="a1",St(l,f);function S(){return!0}kt(l,f,b,T.attributes,S),nt(l,f,b,T.uniforms,S,!1),Ne(l,f,f,b)}function hn(l,f,b,T){St(l,f);var S=b.contextDep,g=f.def(),y="a0",x="a1",c=f.def();l.shared.props=c,l.batchId=g;var m=l.scope(),d=l.scope();f(m.entry,"for(",g,"=0;",g,"<",x,";++",g,"){",c,"=",y,"[",g,"];",d,"}",m.exit);function C(Oe){return Oe.contextDep&&S||Oe.propDep}function w(Oe){return!C(Oe)}if(b.needsContext&&Ft(l,d,b.context),b.needsFramebuffer&&Nt(l,d,b.framebuffer),Mt(l,d,b.state,C),b.profile&&C(b.profile)&&He(l,d,b,!1,!0),T)b.useVAO?b.drawVAO?C(b.drawVAO)?d(l.shared.vao,".setVAO(",b.drawVAO.append(l,d),");"):m(l.shared.vao,".setVAO(",b.drawVAO.append(l,m),");"):m(l.shared.vao,".setVAO(",l.shared.vao,".targetVAO);"):(m(l.shared.vao,".setVAO(null);"),kt(l,m,b,T.attributes,w),kt(l,d,b,T.attributes,C)),nt(l,m,b,T.uniforms,w,!1),nt(l,d,b,T.uniforms,C,!0),Ne(l,m,d,b);else{var B=l.global.def("{}"),j=b.shader.progVar.append(l,d),ie=d.def(j,".id"),Ge=d.def(B,"[",ie,"]");d(l.shared.gl,".useProgram(",j,".program);","if(!",Ge,"){",Ge,"=",B,"[",ie,"]=",l.link(function(Oe){return ze(wr,l,b,Oe,2)}),"(",j,");}",Ge,".call(this,a0[",g,"],",g,");")}}function h(l,f){var b=l.proc("batch",2);l.batchId="0",St(l,b);var T=!1,S=!0;Object.keys(f.context).forEach(function(B){T=T||f.context[B].propDep}),T||(Ft(l,b,f.context),S=!1);var g=f.framebuffer,y=!1;g?(g.propDep?T=y=!0:g.contextDep&&T&&(y=!0),y||Nt(l,b,g)):Nt(l,b,null),f.state.viewport&&f.state.viewport.propDep&&(T=!0);function x(B){return B.contextDep&&T||B.propDep}Gt(l,b,f),Mt(l,b,f.state,function(B){return!x(B)}),(!f.profile||!x(f.profile))&&He(l,b,f,!1,"a1"),f.contextDep=T,f.needsContext=S,f.needsFramebuffer=y;var c=f.shader.progVar;if(c.contextDep&&T||c.propDep)hn(l,b,f,null);else{var m=c.append(l,b);if(b(l.shared.gl,".useProgram(",m,".program);"),f.shader.program)hn(l,b,f,f.shader.program);else{b(l.shared.vao,".setVAO(null);");var d=l.global.def("{}"),C=b.def(m,".id"),w=b.def(d,"[",C,"]");b(l.cond(w).then(w,".call(this,a0,a1);").else(w,"=",d,"[",C,"]=",l.link(function(B){return ze(hn,l,f,B,2)}),"(",m,");",w,".call(this,a0,a1);"))}}Object.keys(f.state).length>0&&b(l.shared.current,".dirty=true;"),l.shared.vao&&b(l.shared.vao,".setVAO(null);")}function D(l,f){var b=l.proc("scope",3);l.batchId="a2";var T=l.shared,S=T.current;Ft(l,b,f.context),f.framebuffer&&f.framebuffer.append(l,b),iu(Object.keys(f.state)).forEach(function(y){var x=f.state[y],c=x.append(l,b);yt(c)?c.forEach(function(m,d){b.set(l.next[y],"["+d+"]",m)}):b.set(T.next,"."+y,c)}),He(l,b,f,!0,!0),[un,za,cn,Wa,ln].forEach(function(y){var x=f.draw[y];!x||b.set(T.draw,"."+y,""+x.append(l,b))}),Object.keys(f.uniforms).forEach(function(y){var x=f.uniforms[y].append(l,b);Array.isArray(x)&&(x="["+x.join()+"]"),b.set(T.uniforms,"["+s.id(y)+"]",x)}),Object.keys(f.attributes).forEach(function(y){var x=f.attributes[y].append(l,b),c=l.scopeAttrib(y);Object.keys(new A).forEach(function(m){b.set(c,"."+m,x[m])})}),f.scopeVAO&&b.set(T.vao,".targetVAO",f.scopeVAO.append(l,b));function g(y){var x=f.shader[y];x&&b.set(T.shader,"."+y,x.append(l,b))}g(fa),g(oa),Object.keys(f.state).length>0&&(b(S,".dirty=true;"),b.exit(S,".dirty=true;")),b("a1(",l.shared.context,",a0,",l.batchId,");")}function L(l){if(!(typeof l!="object"||yt(l))){for(var f=Object.keys(l),b=0;b<f.length;++b)if(zt.isDynamic(l[f[b]]))return!0;return!1}}function ge(l,f,b){var T=f.static[b];if(!T||!L(T))return;var S=l.global,g=Object.keys(T),y=!1,x=!1,c=!1,m=l.global.def("{}");g.forEach(function(C){var w=T[C];if(zt.isDynamic(w)){typeof w=="function"&&(w=T[C]=zt.unbox(w));var B=Jt(w,null);y=y||B.thisDep,c=c||B.propDep,x=x||B.contextDep}else{switch(S(m,".",C,"="),typeof w){case"number":S(w);break;case"string":S('"',w,'"');break;case"object":Array.isArray(w)&&S("[",w.join(),"]");break;default:S(l.link(w));break}S(";")}});function d(C,w){g.forEach(function(B){var j=T[B];if(!!zt.isDynamic(j)){var ie=C.invoke(w,j);w(m,".",B,"=",ie,";")}})}f.dynamic[b]=new zt.DynamicVariable(Va,{thisDep:y,contextDep:x,propDep:c,ref:m,append:d}),delete f.static[b]}function Ve(l,f,b,T,S){var g=Be();g.stats=g.link(S),Object.keys(f.static).forEach(function(x){ge(g,f,x)}),gh.forEach(function(x){ge(g,l,x)});var y=Lt(l,f,b,T,g);return wt(g,y),D(g,y),h(g,y),a(g.compile(),{destroy:function(){y.shader.program.destroy()}})}return{next:he,current:pe,procs:function(){var l=Be(),f=l.proc("poll"),b=l.proc("refresh"),T=l.block();f(T),b(T);var S=l.shared,g=S.gl,y=S.next,x=S.current;T(x,".dirty=false;"),Nt(l,f),Nt(l,b,null,!0);var c;Q&&(c=l.link(Q)),p.oes_vertex_array_object&&b(l.link(p.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var m=0;m<N.maxAttributes;++m){var d=b.def(S.attributes,"[",m,"]"),C=l.cond(d,".buffer");C.then(g,".enableVertexAttribArray(",m,");",g,".bindBuffer(",kn,",",d,".buffer.buffer);",g,".vertexAttribPointer(",m,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(g,".disableVertexAttribArray(",m,");",g,".vertexAttrib4f(",m,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),b(C),Q&&b(c,".vertexAttribDivisorANGLE(",m,",",d,".divisor);")}return b(l.shared.vao,".currentVAO=null;",l.shared.vao,".setVAO(",l.shared.vao,".targetVAO);"),Object.keys(U).forEach(function(w){var B=U[w],j=T.def(y,".",w),ie=l.block();ie("if(",j,"){",g,".enable(",B,")}else{",g,".disable(",B,")}",x,".",w,"=",j,";"),b(ie),f("if(",j,"!==",x,".",w,"){",ie,"}")}),Object.keys(M).forEach(function(w){var B=M[w],j=pe[w],ie,Ge,Oe=l.block();if(Oe(g,".",B,"("),yt(j)){var ye=j.length;ie=l.global.def(y,".",w),Ge=l.global.def(x,".",w),Oe(ir(ye,function(V){return ie+"["+V+"]"}),");",ir(ye,function(V){return Ge+"["+V+"]="+ie+"["+V+"];"}).join("")),f("if(",ir(ye,function(V){return ie+"["+V+"]!=="+Ge+"["+V+"]"}).join("||"),"){",Oe,"}")}else ie=T.def(y,".",w),Ge=T.def(x,".",w),Oe(ie,");",x,".",w,"=",ie,";"),f("if(",ie,"!==",Ge,"){",Oe,"}");b(Oe)}),l.compile()}(),compile:Ve}}function kh(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Uh=34918,jh=34919,ou=35007,Hh=function(r,s){if(!s.ext_disjoint_timer_query)return null;var p=[];function N(){return p.pop()||s.ext_disjoint_timer_query.createQueryEXT()}function k(Q){p.push(Q)}var F=[];function G(Q){var be=N();s.ext_disjoint_timer_query.beginQueryEXT(ou,be),F.push(be),Y(F.length-1,F.length,Q)}function W(){s.ext_disjoint_timer_query.endQueryEXT(ou)}function z(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var J=[];function te(){return J.pop()||new z}function ee(Q){J.push(Q)}var oe=[];function Y(Q,be,X){var pe=te();pe.startQueryIndex=Q,pe.endQueryIndex=be,pe.sum=0,pe.stats=X,oe.push(pe)}var Z=[],A=[];function I(){var Q,be,X=F.length;if(X!==0){A.length=Math.max(A.length,X+1),Z.length=Math.max(Z.length,X+1),Z[0]=0,A[0]=0;var pe=0;for(Q=0,be=0;be<F.length;++be){var he=F[be];s.ext_disjoint_timer_query.getQueryObjectEXT(he,jh)?(pe+=s.ext_disjoint_timer_query.getQueryObjectEXT(he,Uh),k(he)):F[Q++]=he,Z[be+1]=pe,A[be+1]=Q}for(F.length=Q,Q=0,be=0;be<oe.length;++be){var Ce=oe[be],U=Ce.startQueryIndex,M=Ce.endQueryIndex;Ce.sum+=Z[M]-Z[U];var Ee=A[U],ue=A[M];ue===Ee?(Ce.stats.gpuTime+=Ce.sum/1e6,ee(Ce)):(Ce.startQueryIndex=Ee,Ce.endQueryIndex=ue,oe[Q++]=Ce)}oe.length=Q}}return{beginQuery:G,endQuery:W,pushScopeStats:Y,update:I,getNumPendingQueries:function(){return F.length},clear:function(){p.push.apply(p,F);for(var Q=0;Q<p.length;Q++)s.ext_disjoint_timer_query.deleteQueryEXT(p[Q]);F.length=0,p.length=0},restore:function(){F.length=0,p.length=0}}},$h=16384,Vh=256,Xh=1024,zh=34962,su="webglcontextlost",uu="webglcontextrestored",lu=1,Wh=2,Yh=3;function cu(r,s){for(var p=0;p<r.length;++p)if(r[p]===s)return p;return-1}function Kh(r){var s=Wl(r);if(!s)return null;var p=s.gl,N=p.getContextAttributes(),k=p.isContextLost(),F=Yl(p,s);if(!F)return null;var G=Oa(),W=kh(),z=F.extensions,J=Hh(p,z),te=ar(),ee=p.drawingBufferWidth,oe=p.drawingBufferHeight,Y={tick:0,time:0,viewportWidth:ee,viewportHeight:oe,framebufferWidth:ee,framebufferHeight:oe,drawingBufferWidth:ee,drawingBufferHeight:oe,pixelRatio:s.pixelRatio},Z={},A={elements:null,primitive:4,count:-1,offset:0,instances:-1},I=Gc(p,z),Q=Qc(p,W,s,pe),be=ud(p,z,Q,W),X=uh(p,z,I,W,Q,be,A);function pe(Ne){return X.destroyBuffer(Ne)}var he=hh(p,G,W,s),Ce=Ud(p,z,I,function(){Ee.procs.poll()},Y,W,s),U=jd(p,z,I,W,s),M=oh(p,z,I,Ce,U,W),Ee=Mh(p,G,z,I,Q,be,Ce,M,Z,X,he,A,Y,J,s),ue=vh(p,M,Ee.procs.poll,Y,N,z,I),q=Ee.next,le=p.canvas,ce=[],Me=[],Be=[],me=[s.onDestroy],ve=null;function De(){if(ce.length===0){J&&J.update(),ve=null;return}ve=Ht.next(De),Mt();for(var Ne=ce.length-1;Ne>=0;--Ne){var ze=ce[Ne];ze&&ze(Y,null,0)}p.flush(),J&&J.update()}function ke(){!ve&&ce.length>0&&(ve=Ht.next(De))}function Xe(){ve&&(Ht.cancel(De),ve=null)}function gt(Ne){Ne.preventDefault(),k=!0,Xe(),Me.forEach(function(ze){ze()})}function Tt(Ne){p.getError(),k=!1,F.restore(),he.restore(),Q.restore(),Ce.restore(),U.restore(),M.restore(),X.restore(),J&&J.restore(),Ee.procs.refresh(),ke(),Be.forEach(function(ze){ze()})}le&&(le.addEventListener(su,gt,!1),le.addEventListener(uu,Tt,!1));function Ye(){ce.length=0,Xe(),le&&(le.removeEventListener(su,gt),le.removeEventListener(uu,Tt)),he.clear(),M.clear(),U.clear(),X.clear(),Ce.clear(),be.clear(),Q.clear(),J&&J.clear(),me.forEach(function(Ne){Ne()})}function Rt(Ne){i(!!Ne,"invalid args to regl({...})"),i.type(Ne,"object","invalid args to regl({...})");function ze(S){var g=a({},S);delete g.uniforms,delete g.attributes,delete g.context,delete g.vao,"stencil"in g&&g.stencil.op&&(g.stencil.opBack=g.stencil.opFront=g.stencil.op,delete g.stencil.op);function y(x){if(x in g){var c=g[x];delete g[x],Object.keys(c).forEach(function(m){g[x+"."+m]=c[m]})}}return y("blend"),y("depth"),y("cull"),y("stencil"),y("polygonOffset"),y("scissor"),y("sample"),"vao"in S&&(g.vao=S.vao),g}function Je(S,g){var y={},x={};return Object.keys(S).forEach(function(c){var m=S[c];if(zt.isDynamic(m)){x[c]=zt.unbox(m,c);return}else if(g&&Array.isArray(m)){for(var d=0;d<m.length;++d)if(zt.isDynamic(m[d])){x[c]=zt.unbox(m,c);return}}y[c]=m}),{dynamic:x,static:y}}var wt=Je(Ne.context||{},!0),wr=Je(Ne.uniforms||{},!0),hn=Je(Ne.attributes||{},!1),h=Je(ze(Ne),!1),D={gpuTime:0,cpuTime:0,count:0},L=Ee.compile(h,hn,wr,wt,D),ge=L.draw,Ve=L.batch,l=L.scope,f=[];function b(S){for(;f.length<S;)f.push(null);return f}function T(S,g){var y;if(k&&i.raise("context lost"),typeof S=="function")return l.call(this,null,S,0);if(typeof g=="function")if(typeof S=="number")for(y=0;y<S;++y)l.call(this,null,g,y);else if(Array.isArray(S))for(y=0;y<S.length;++y)l.call(this,S[y],g,y);else return l.call(this,S,g,0);else if(typeof S=="number"){if(S>0)return Ve.call(this,b(S|0),S|0)}else if(Array.isArray(S)){if(S.length)return Ve.call(this,S,S.length)}else return ge.call(this,S)}return a(T,{stats:D,destroy:function(){L.destroy()}})}var bt=M.setFBO=Rt({framebuffer:zt.define.call(null,lu,"framebuffer")});function Lt(Ne,ze){var Je=0;Ee.procs.poll();var wt=ze.color;wt&&(p.clearColor(+wt[0]||0,+wt[1]||0,+wt[2]||0,+wt[3]||0),Je|=$h),"depth"in ze&&(p.clearDepth(+ze.depth),Je|=Vh),"stencil"in ze&&(p.clearStencil(ze.stencil|0),Je|=Xh),i(!!Je,"called regl.clear with no buffer specified"),p.clear(Je)}function Ft(Ne){if(i(typeof Ne=="object"&&Ne,"regl.clear() takes an object as input"),"framebuffer"in Ne)if(Ne.framebuffer&&Ne.framebuffer_reglType==="framebufferCube")for(var ze=0;ze<6;++ze)bt(a({framebuffer:Ne.framebuffer.faces[ze]},Ne),Lt);else bt(Ne,Lt);else Lt(null,Ne)}function Nt(Ne){i.type(Ne,"function","regl.frame() callback must be a function"),ce.push(Ne);function ze(){var Je=cu(ce,Ne);i(Je>=0,"cannot cancel a frame twice");function wt(){var wr=cu(ce,wt);ce[wr]=ce[ce.length-1],ce.length-=1,ce.length<=0&&Xe()}ce[Je]=wt}return ke(),{cancel:ze}}function Gt(){var Ne=q.viewport,ze=q.scissor_box;Ne[0]=Ne[1]=ze[0]=ze[1]=0,Y.viewportWidth=Y.framebufferWidth=Y.drawingBufferWidth=Ne[2]=ze[2]=p.drawingBufferWidth,Y.viewportHeight=Y.framebufferHeight=Y.drawingBufferHeight=Ne[3]=ze[3]=p.drawingBufferHeight}function Mt(){Y.tick+=1,Y.time=He(),Gt(),Ee.procs.poll()}function St(){Ce.refresh(),Gt(),Ee.procs.refresh(),J&&J.update()}function He(){return(ar()-te)/1e3}St();function kt(Ne,ze){i.type(ze,"function","listener callback must be a function");var Je;switch(Ne){case"frame":return Nt(ze);case"lost":Je=Me;break;case"restore":Je=Be;break;case"destroy":Je=me;break;default:i.raise("invalid event, must be one of frame,lost,restore,destroy")}return Je.push(ze),{cancel:function(){for(var wt=0;wt<Je.length;++wt)if(Je[wt]===ze){Je[wt]=Je[Je.length-1],Je.pop();return}}}}var nt=a(Rt,{clear:Ft,prop:zt.define.bind(null,lu),context:zt.define.bind(null,Wh),this:zt.define.bind(null,Yh),draw:Rt({}),buffer:function(Ne){return Q.create(Ne,zh,!1,!1)},elements:function(Ne){return be.create(Ne,!1)},texture:Ce.create2D,cube:Ce.createCube,renderbuffer:U.create,framebuffer:M.create,framebufferCube:M.createCube,vao:X.createVAO,attributes:N,frame:Nt,on:kt,limits:I,hasExtension:function(Ne){return I.extensions.indexOf(Ne.toLowerCase())>=0},read:ue,destroy:Ye,_gl:p,_refresh:St,poll:function(){Mt(),J&&J.update()},now:He,stats:W});return s.onDone(null,nt),nt}return Kh})})(jl);var Rv=jl.exports,Hl={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(typeof self!="undefined"?self:Ul,function(){return(()=>{var n={75:function(v){(function(){var _,R,K,ae,Te,we;typeof performance!="undefined"&&performance!==null&&performance.now?v.exports=function(){return performance.now()}:typeof process!="undefined"&&process!==null&&process.hrtime?(v.exports=function(){return(_()-Te)/1e6},R=process.hrtime,ae=(_=function(){var Ue;return 1e9*(Ue=R())[0]+Ue[1]})(),we=1e9*process.uptime(),Te=ae-we):Date.now?(v.exports=function(){return Date.now()-K},K=Date.now()):(v.exports=function(){return new Date().getTime()-K},K=new Date().getTime())}).call(this)},4087:(v,_,R)=>{for(var K=R(75),ae=typeof window=="undefined"?R.g:window,Te=["moz","webkit"],we="AnimationFrame",Ue=ae["request"+we],qe=ae["cancel"+we]||ae["cancelRequest"+we],lt=0;!Ue&&lt<Te.length;lt++)Ue=ae[Te[lt]+"Request"+we],qe=ae[Te[lt]+"Cancel"+we]||ae[Te[lt]+"CancelRequest"+we];if(!Ue||!qe){var Qe=0,tt=0,xt=[];Ue=function(dt){if(xt.length===0){var ht=K(),Dt=Math.max(0,16.666666666666668-(ht-Qe));Qe=Dt+ht,setTimeout(function(){var rr=xt.slice(0);xt.length=0;for(var Yt=0;Yt<rr.length;Yt++)if(!rr[Yt].cancelled)try{rr[Yt].callback(Qe)}catch(nr){setTimeout(function(){throw nr},0)}},Math.round(Dt))}return xt.push({handle:++tt,callback:dt,cancelled:!1}),tt},qe=function(dt){for(var ht=0;ht<xt.length;ht++)xt[ht].handle===dt&&(xt[ht].cancelled=!0)}}v.exports=function(dt){return Ue.call(ae,dt)},v.exports.cancel=function(){qe.apply(ae,arguments)},v.exports.polyfill=function(dt){dt||(dt=ae),dt.requestAnimationFrame=Ue,dt.cancelAnimationFrame=qe}}},a={};function o(v){var _=a[v];if(_!==void 0)return _.exports;var R=a[v]={exports:{}};return n[v].call(R.exports,R,R.exports,o),R.exports}o.n=v=>{var _=v&&v.__esModule?()=>v.default:()=>v;return o.d(_,{a:_}),_},o.d=(v,_)=>{for(var R in _)o.o(_,R)&&!o.o(v,R)&&Object.defineProperty(v,R,{enumerable:!0,get:_[R]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(v,_)=>Object.prototype.hasOwnProperty.call(v,_);var u={};return(()=>{o.d(u,{default:()=>Mr});var v=o(4087),_=o.n(v);const R=function(Ke){return new RegExp(/<[a-z][\s\S]*>/i).test(Ke)},K=function(Ke){var je=document.createElement("div");return je.innerHTML=Ke,je.childNodes},ae=function(Ke,je){return Math.floor(Math.random()*(je-Ke+1))+Ke};var Te="TYPE_CHARACTER",we="REMOVE_CHARACTER",Ue="REMOVE_ALL",qe="REMOVE_LAST_VISIBLE_NODE",lt="PAUSE_FOR",Qe="CALL_FUNCTION",tt="ADD_HTML_TAG_ELEMENT",xt="CHANGE_DELETE_SPEED",dt="CHANGE_DELAY",ht="CHANGE_CURSOR",Dt="PASTE_STRING",rr="HTML_TAG";function Yt(Ke,je){var We=Object.keys(Ke);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(Ke);je&&(Re=Re.filter(function(at){return Object.getOwnPropertyDescriptor(Ke,at).enumerable})),We.push.apply(We,Re)}return We}function nr(Ke){for(var je=1;je<arguments.length;je++){var We=arguments[je]!=null?arguments[je]:{};je%2?Yt(Object(We),!0).forEach(function(Re){st(Ke,Re,We[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ke,Object.getOwnPropertyDescriptors(We)):Yt(Object(We)).forEach(function(Re){Object.defineProperty(Ke,Re,Object.getOwnPropertyDescriptor(We,Re))})}return Ke}function jt(Ke){return function(je){if(Array.isArray(je))return dr(je)}(Ke)||function(je){if(typeof Symbol!="undefined"&&je[Symbol.iterator]!=null||je["@@iterator"]!=null)return Array.from(je)}(Ke)||function(je,We){if(je){if(typeof je=="string")return dr(je,We);var Re=Object.prototype.toString.call(je).slice(8,-1);return Re==="Object"&&je.constructor&&(Re=je.constructor.name),Re==="Map"||Re==="Set"?Array.from(je):Re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re)?dr(je,We):void 0}}(Ke)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dr(Ke,je){(je==null||je>Ke.length)&&(je=Ke.length);for(var We=0,Re=new Array(je);We<je;We++)Re[We]=Ke[We];return Re}function xr(Ke,je){for(var We=0;We<je.length;We++){var Re=je[We];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Ke,Re.key,Re)}}function st(Ke,je,We){return je in Ke?Object.defineProperty(Ke,je,{value:We,enumerable:!0,configurable:!0,writable:!0}):Ke[je]=We,Ke}const Mr=function(){function Ke(Re,at){var H=this;if(function(Fe,it){if(!(Fe instanceof it))throw new TypeError("Cannot call a class as a function")}(this,Ke),st(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),st(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),st(this,"setupWrapperElement",function(){H.state.elements.container&&(H.state.elements.wrapper.className=H.options.wrapperClassName,H.state.elements.cursor.className=H.options.cursorClassName,H.state.elements.cursor.innerHTML=H.options.cursor,H.state.elements.container.innerHTML="",H.state.elements.container.appendChild(H.state.elements.wrapper),H.state.elements.container.appendChild(H.state.elements.cursor))}),st(this,"start",function(){return H.state.eventLoopPaused=!1,H.runEventLoop(),H}),st(this,"pause",function(){return H.state.eventLoopPaused=!0,H}),st(this,"stop",function(){return H.state.eventLoop&&((0,v.cancel)(H.state.eventLoop),H.state.eventLoop=null),H}),st(this,"pauseFor",function(Fe){return H.addEventToQueue(lt,{ms:Fe}),H}),st(this,"typeOutAllStrings",function(){return typeof H.options.strings=="string"?(H.typeString(H.options.strings).pauseFor(H.options.pauseFor),H):(H.options.strings.forEach(function(Fe){H.typeString(Fe).pauseFor(H.options.pauseFor).deleteAll(H.options.deleteSpeed)}),H)}),st(this,"typeString",function(Fe){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(R(Fe))return H.typeOutHTMLString(Fe,it);if(Fe){var _t=H.options||{},At=_t.stringSplitter,mt=typeof At=="function"?At(Fe):Fe.split("");H.typeCharacters(mt,it)}return H}),st(this,"pasteString",function(Fe){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return R(Fe)?H.typeOutHTMLString(Fe,it,!0):(Fe&&H.addEventToQueue(Dt,{character:Fe,node:it}),H)}),st(this,"typeOutHTMLString",function(Fe){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_t=arguments.length>2?arguments[2]:void 0,At=K(Fe);if(At.length>0)for(var mt=0;mt<At.length;mt++){var Xt=At[mt],Pt=Xt.innerHTML;Xt&&Xt.nodeType!==3?(Xt.innerHTML="",H.addEventToQueue(tt,{node:Xt,parentNode:it}),_t?H.pasteString(Pt,Xt):H.typeString(Pt,Xt)):Xt.textContent&&(_t?H.pasteString(Xt.textContent,it):H.typeString(Xt.textContent,it))}return H}),st(this,"deleteAll",function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return H.addEventToQueue(Ue,{speed:Fe}),H}),st(this,"changeDeleteSpeed",function(Fe){if(!Fe)throw new Error("Must provide new delete speed");return H.addEventToQueue(xt,{speed:Fe}),H}),st(this,"changeDelay",function(Fe){if(!Fe)throw new Error("Must provide new delay");return H.addEventToQueue(dt,{delay:Fe}),H}),st(this,"changeCursor",function(Fe){if(!Fe)throw new Error("Must provide new cursor");return H.addEventToQueue(ht,{cursor:Fe}),H}),st(this,"deleteChars",function(Fe){if(!Fe)throw new Error("Must provide amount of characters to delete");for(var it=0;it<Fe;it++)H.addEventToQueue(we);return H}),st(this,"callFunction",function(Fe,it){if(!Fe||typeof Fe!="function")throw new Error("Callbak must be a function");return H.addEventToQueue(Qe,{cb:Fe,thisArg:it}),H}),st(this,"typeCharacters",function(Fe){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Fe||!Array.isArray(Fe))throw new Error("Characters must be an array");return Fe.forEach(function(_t){H.addEventToQueue(Te,{character:_t,node:it})}),H}),st(this,"removeCharacters",function(Fe){if(!Fe||!Array.isArray(Fe))throw new Error("Characters must be an array");return Fe.forEach(function(){H.addEventToQueue(we)}),H}),st(this,"addEventToQueue",function(Fe,it){var _t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return H.addEventToStateProperty(Fe,it,_t,"eventQueue")}),st(this,"addReverseCalledEvent",function(Fe,it){var _t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],At=H.options.loop;return At?H.addEventToStateProperty(Fe,it,_t,"reverseCalledEvents"):H}),st(this,"addEventToStateProperty",function(Fe,it){var _t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],At=arguments.length>3?arguments[3]:void 0,mt={eventName:Fe,eventArgs:it||{}};return H.state[At]=_t?[mt].concat(jt(H.state[At])):[].concat(jt(H.state[At]),[mt]),H}),st(this,"runEventLoop",function(){H.state.lastFrameTime||(H.state.lastFrameTime=Date.now());var Fe=Date.now(),it=Fe-H.state.lastFrameTime;if(!H.state.eventQueue.length){if(!H.options.loop)return;H.state.eventQueue=jt(H.state.calledEvents),H.state.calledEvents=[],H.options=nr({},H.state.initialOptions)}if(H.state.eventLoop=_()(H.runEventLoop),!H.state.eventLoopPaused){if(H.state.pauseUntil){if(Fe<H.state.pauseUntil)return;H.state.pauseUntil=null}var _t,At=jt(H.state.eventQueue),mt=At.shift();if(!(it<=(_t=mt.eventName===qe||mt.eventName===we?H.options.deleteSpeed==="natural"?ae(40,80):H.options.deleteSpeed:H.options.delay==="natural"?ae(120,160):H.options.delay))){var Xt=mt.eventName,Pt=mt.eventArgs;switch(H.logInDevMode({currentEvent:mt,state:H.state,delay:_t}),Xt){case Dt:case Te:var Tr=Pt.character,tn=Pt.node,mr=document.createTextNode(Tr),pr=mr;H.options.onCreateTextNode&&typeof H.options.onCreateTextNode=="function"&&(pr=H.options.onCreateTextNode(Tr,mr)),pr&&(tn?tn.appendChild(pr):H.state.elements.wrapper.appendChild(pr)),H.state.visibleNodes=[].concat(jt(H.state.visibleNodes),[{type:"TEXT_NODE",character:Tr,node:pr}]);break;case we:At.unshift({eventName:qe,eventArgs:{removingCharacterNode:!0}});break;case lt:var kr=mt.eventArgs.ms;H.state.pauseUntil=Date.now()+parseInt(kr);break;case Qe:var E=mt.eventArgs,O=E.cb,$=E.thisArg;O.call($,{elements:H.state.elements});break;case tt:var ne=mt.eventArgs,re=ne.node,fe=ne.parentNode;fe?fe.appendChild(re):H.state.elements.wrapper.appendChild(re),H.state.visibleNodes=[].concat(jt(H.state.visibleNodes),[{type:rr,node:re,parentNode:fe||H.state.elements.wrapper}]);break;case Ue:var Se=H.state.visibleNodes,de=Pt.speed,_e=[];de&&_e.push({eventName:xt,eventArgs:{speed:de,temp:!0}});for(var se=0,i=Se.length;se<i;se++)_e.push({eventName:qe,eventArgs:{removingCharacterNode:!1}});de&&_e.push({eventName:xt,eventArgs:{speed:H.options.deleteSpeed,temp:!0}}),At.unshift.apply(At,_e);break;case qe:var Le=mt.eventArgs.removingCharacterNode;if(H.state.visibleNodes.length){var Pe=H.state.visibleNodes.pop(),$e=Pe.type,Ze=Pe.node,ot=Pe.character;H.options.onRemoveNode&&typeof H.options.onRemoveNode=="function"&&H.options.onRemoveNode({node:Ze,character:ot}),Ze&&Ze.parentNode.removeChild(Ze),$e===rr&&Le&&At.unshift({eventName:qe,eventArgs:{}})}break;case xt:H.options.deleteSpeed=mt.eventArgs.speed;break;case dt:H.options.delay=mt.eventArgs.delay;break;case ht:H.options.cursor=mt.eventArgs.cursor,H.state.elements.cursor.innerHTML=mt.eventArgs.cursor}H.options.loop&&(mt.eventName===qe||mt.eventArgs&&mt.eventArgs.temp||(H.state.calledEvents=[].concat(jt(H.state.calledEvents),[mt]))),H.state.eventQueue=At,H.state.lastFrameTime=Fe}}}),Re)if(typeof Re=="string"){var hr=document.querySelector(Re);if(!hr)throw new Error("Could not find container element");this.state.elements.container=hr}else this.state.elements.container=Re;at&&(this.options=nr(nr({},this.options),at)),this.state.initialOptions=nr({},this.options),this.init()}var je,We;return je=Ke,(We=[{key:"init",value:function(){var Re,at;this.setupWrapperElement(),this.addEventToQueue(ht,{cursor:this.options.cursor},!0),this.addEventToQueue(Ue,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(Re=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(at=document.createElement("style")).appendChild(document.createTextNode(Re)),document.head.appendChild(at),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(Re){this.options.devMode&&console.log(Re)}}])&&xr(je.prototype,We),Ke}()})(),u.default})()})})(Hl);var Fv=yv(Hl.exports);export{_r as F,Rv as R,Fv as T,Tv as a,Ol as b,wv as c,Av as d,Sv as e,Rr as f,Al as g,Ov as h,Cv as i,Qf as j,Np as k,Lv as l,qf as n,xl as o,xv as p,Ev as r,gv as t,Xm as w};
